function Ka(n,e){return function(){return n.apply(e,arguments)}}const{toString:Qa}=Object.prototype,{getPrototypeOf:yr}=Object,wr=(n=>e=>{const t=Qa.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ke=n=>(n=n.toLowerCase(),e=>wr(e)===n),Yi=n=>e=>typeof e===n,{isArray:sn}=Array,On=Yi("undefined");function Bd(n){return n!==null&&!On(n)&&n.constructor!==null&&!On(n.constructor)&&ht(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ja=Ke("ArrayBuffer");function zd(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ja(n.buffer),e}const Ud=Yi("string"),ht=Yi("function"),Za=Yi("number"),Er=n=>n!==null&&typeof n=="object",Hd=n=>n===!0||n===!1,hi=n=>{if(wr(n)!=="object")return!1;const e=yr(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},$d=Ke("Date"),Wd=Ke("File"),Vd=Ke("Blob"),Gd=Ke("FileList"),jd=n=>Er(n)&&ht(n.pipe),qd=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||Qa.call(n)===e||ht(n.toString)&&n.toString()===e)},Yd=Ke("URLSearchParams"),Xd=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jn(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),sn(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function el(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const tl=n=>!On(n)&&n!=={};function Gs(){const{caseless:n}=tl(this)&&this||{},e={},t=(i,s)=>{const r=n&&el(e,s)||s;hi(e[r])&&hi(i)?e[r]=Gs(e[r],i):hi(i)?e[r]=Gs({},i):sn(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&jn(arguments[i],t);return e}const Kd=(n,e,t,{allOwnKeys:i}={})=>(jn(e,(s,r)=>{t&&ht(s)?n[r]=Ka(s,t):n[r]=s},{allOwnKeys:i}),n),Qd=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Jd=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Zd=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&yr(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},eu=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},tu=n=>{if(!n)return null;if(sn(n))return n;let e=n.length;if(!Za(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},nu=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&yr(Uint8Array)),iu=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},su=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},ru=Ke("HTMLFormElement"),ou=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),Io=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),au=Ke("RegExp"),nl=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};jn(t,(s,r)=>{e(s,r,n)!==!1&&(i[r]=s)}),Object.defineProperties(n,i)},lu=n=>{nl(n,(e,t)=>{if(ht(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ht(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cu=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return sn(n)?i(n):i(String(n).split(e)),t},du=()=>{},uu=(n,e)=>(n=+n,Number.isFinite(n)?n:e),ys="abcdefghijklmnopqrstuvwxyz",xo="0123456789",il={DIGIT:xo,ALPHA:ys,ALPHA_DIGIT:ys+ys.toUpperCase()+xo},fu=(n=16,e=il.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function hu(n){return!!(n&&ht(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const pu=n=>{const e=new Array(10),t=(i,s)=>{if(Er(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=sn(i)?[]:{};return jn(i,(o,a)=>{const l=t(o,s+1);!On(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},k={isArray:sn,isArrayBuffer:Ja,isBuffer:Bd,isFormData:qd,isArrayBufferView:zd,isString:Ud,isNumber:Za,isBoolean:Hd,isObject:Er,isPlainObject:hi,isUndefined:On,isDate:$d,isFile:Wd,isBlob:Vd,isRegExp:au,isFunction:ht,isStream:jd,isURLSearchParams:Yd,isTypedArray:nu,isFileList:Gd,forEach:jn,merge:Gs,extend:Kd,trim:Xd,stripBOM:Qd,inherits:Jd,toFlatObject:Zd,kindOf:wr,kindOfTest:Ke,endsWith:eu,toArray:tu,forEachEntry:iu,matchAll:su,isHTMLForm:ru,hasOwnProperty:Io,hasOwnProp:Io,reduceDescriptors:nl,freezeMethods:lu,toObjectSet:cu,toCamelCase:ou,noop:du,toFiniteNumber:uu,findKey:el,global:{},isContextDefined:tl,ALPHABET:il,generateString:fu,isSpecCompliantForm:hu,toJSONObject:pu};function K(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s)}k.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sl=K.prototype,rl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{rl[n]={value:n}});Object.defineProperties(K,rl);Object.defineProperty(sl,"isAxiosError",{value:!0});K.from=(n,e,t,i,s,r)=>{const o=Object.create(sl);return k.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),K.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const mu=null;function js(n){return k.isPlainObject(n)||k.isArray(n)}function ol(n){return k.endsWith(n,"[]")?n.slice(0,-2):n}function Po(n,e,t){return n?n.concat(e).map(function(s,r){return s=ol(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function gu(n){return k.isArray(n)&&!n.some(js)}const vu=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function Xi(n,e,t){if(!k.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=k.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!k.isUndefined(g[m])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(s))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(k.isDate(h))return h.toISOString();if(!l&&k.isBlob(h))throw new K("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(h)||k.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,m,g){let w=h;if(h&&!g&&typeof h=="object"){if(k.endsWith(m,"{}"))m=i?m:m.slice(0,-2),h=JSON.stringify(h);else if(k.isArray(h)&&gu(h)||(k.isFileList(h)||k.endsWith(m,"[]"))&&(w=k.toArray(h)))return m=ol(m),w.forEach(function(y,b){!(k.isUndefined(y)||y===null)&&e.append(o===!0?Po([m],b,r):o===null?m:m+"[]",c(y))}),!1}return js(h)?!0:(e.append(Po(g,m,r),c(h)),!1)}const d=[],f=Object.assign(vu,{defaultVisitor:u,convertValue:c,isVisitable:js});function p(h,m){if(!k.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(h),k.forEach(h,function(w,E){(!(k.isUndefined(w)||w===null)&&s.call(e,w,k.isString(E)?E.trim():E,m,f))===!0&&p(w,m?m.concat(E):[E])}),d.pop()}}if(!k.isObject(n))throw new TypeError("data must be an object");return p(n),e}function Ao(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function br(n,e){this._pairs=[],n&&Xi(n,this,e)}const al=br.prototype;al.append=function(e,t){this._pairs.push([e,t])};al.toString=function(e){const t=e?function(i){return e.call(this,i,Ao)}:Ao;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function _u(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ll(n,e,t){if(!e)return n;const i=t&&t.encode||_u,s=t&&t.serialize;let r;if(s?r=s(e,t):r=k.isURLSearchParams(e)?e.toString():new br(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class yu{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Mo=yu,cl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wu=typeof URLSearchParams<"u"?URLSearchParams:br,Eu=typeof FormData<"u"?FormData:null,bu=typeof Blob<"u"?Blob:null,Tu=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Su=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Re={isBrowser:!0,classes:{URLSearchParams:wu,FormData:Eu,Blob:bu},isStandardBrowserEnv:Tu,isStandardBrowserWebWorkerEnv:Su,protocols:["http","https","file","blob","url","data"]};function Cu(n,e){return Xi(n,new Re.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return Re.isNode&&k.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Iu(n){return k.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xu(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function dl(n){function e(t,i,s,r){let o=t[r++];const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&k.isArray(s)?s.length:o,l?(k.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!k.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&k.isArray(s[o])&&(s[o]=xu(s[o])),!a)}if(k.isFormData(n)&&k.isFunction(n.entries)){const t={};return k.forEachEntry(n,(i,s)=>{e(Iu(i),s,t,0)}),t}return null}const Pu={"Content-Type":void 0};function Au(n,e,t){if(k.isString(n))try{return(e||JSON.parse)(n),k.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Ki={transitional:cl,adapter:["xhr","http"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=k.isObject(e);if(r&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return s&&s?JSON.stringify(dl(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Cu(e,this.formSerializer).toString();if((a=k.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Xi(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),Au(e)):e}],transformResponse:[function(e){const t=this.transitional||Ki.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(e&&k.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};k.forEach(["delete","get","head"],function(e){Ki.headers[e]={}});k.forEach(["post","put","patch"],function(e){Ki.headers[e]=k.merge(Pu)});const Tr=Ki,Mu=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ru=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&Mu[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Ro=Symbol("internals");function mn(n){return n&&String(n).trim().toLowerCase()}function pi(n){return n===!1||n==null?n:k.isArray(n)?n.map(pi):String(n)}function Ou(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}function Nu(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function ws(n,e,t,i,s){if(k.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!k.isString(e)){if(k.isString(i))return e.indexOf(i)!==-1;if(k.isRegExp(i))return i.test(e)}}function Lu(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function ku(n,e){const t=k.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Qi{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=mn(l);if(!u)throw new Error("header name must be a non-empty string");const d=k.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=pi(a))}const o=(a,l)=>k.forEach(a,(c,u)=>r(c,u,l));return k.isPlainObject(e)||e instanceof this.constructor?o(e,t):k.isString(e)&&(e=e.trim())&&!Nu(e)?o(Ru(e),t):e!=null&&r(t,e,i),this}get(e,t){if(e=mn(e),e){const i=k.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Ou(s);if(k.isFunction(t))return t.call(this,s,i);if(k.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=mn(e),e){const i=k.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||ws(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=mn(o),o){const a=k.findKey(i,o);a&&(!t||ws(i,i[a],a,t))&&(delete i[a],s=!0)}}return k.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||ws(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return k.forEach(this,(s,r)=>{const o=k.findKey(i,r);if(o){t[o]=pi(s),delete t[r];return}const a=e?Lu(r):String(r).trim();a!==r&&delete t[r],t[a]=pi(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return k.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&k.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Ro]=this[Ro]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=mn(o);i[a]||(ku(s,o),i[a]=!0)}return k.isArray(e)?e.forEach(r):r(e),this}}Qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.freezeMethods(Qi.prototype);k.freezeMethods(Qi);const We=Qi;function Es(n,e){const t=this||Tr,i=e||t,s=We.from(i.headers);let r=i.data;return k.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function ul(n){return!!(n&&n.__CANCEL__)}function qn(n,e,t){K.call(this,n??"canceled",K.ERR_CANCELED,e,t),this.name="CanceledError"}k.inherits(qn,K,{__CANCEL__:!0});function Du(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new K("Request failed with status code "+t.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Fu=Re.isStandardBrowserEnv?function(){return{write:function(t,i,s,r,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),k.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),k.isString(r)&&l.push("path="+r),k.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Bu(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zu(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function fl(n,e){return n&&!Bu(e)?zu(n,e):e}const Uu=Re.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function s(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=s(window.location.href),function(o){const a=k.isString(o)?s(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Hu(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function $u(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let d=r,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Oo(n,e){let t=0;const i=$u(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,a=r-t,l=i(a),c=r<=o;t=r;const u={loaded:r,total:o,progress:o?r/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-r)/l:void 0,event:s};u[e?"download":"upload"]=!0,n(u)}}const Wu=typeof XMLHttpRequest<"u",Vu=Wu&&function(n){return new Promise(function(t,i){let s=n.data;const r=We.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}k.isFormData(s)&&(Re.isStandardBrowserEnv||Re.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let c=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",h=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";r.set("Authorization","Basic "+btoa(p+":"+h))}const u=fl(n.baseURL,n.url);c.open(n.method.toUpperCase(),ll(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const p=We.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:n,request:c};Du(function(w){t(w),l()},function(w){i(w),l()},m),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new K("Request aborted",K.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new K("Network Error",K.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let h=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||cl;n.timeoutErrorMessage&&(h=n.timeoutErrorMessage),i(new K(h,m.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,n,c)),c=null},Re.isStandardBrowserEnv){const p=(n.withCredentials||Uu(u))&&n.xsrfCookieName&&Fu.read(n.xsrfCookieName);p&&r.set(n.xsrfHeaderName,p)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&k.forEach(r.toJSON(),function(h,m){c.setRequestHeader(m,h)}),k.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",Oo(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Oo(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=p=>{c&&(i(!p||p.type?new qn(null,n,c):p),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const f=Hu(u);if(f&&Re.protocols.indexOf(f)===-1){i(new K("Unsupported protocol "+f+":",K.ERR_BAD_REQUEST,n));return}c.send(s||null)})},mi={http:mu,xhr:Vu};k.forEach(mi,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Gu={getAdapter:n=>{n=k.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let s=0;s<e&&(t=n[s],!(i=k.isString(t)?mi[t.toLowerCase()]:t));s++);if(!i)throw i===!1?new K(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(k.hasOwnProp(mi,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!k.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:mi};function bs(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qn(null,n)}function No(n){return bs(n),n.headers=We.from(n.headers),n.data=Es.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Gu.getAdapter(n.adapter||Tr.adapter)(n).then(function(i){return bs(n),i.data=Es.call(n,n.transformResponse,i),i.headers=We.from(i.headers),i},function(i){return ul(i)||(bs(n),i&&i.response&&(i.response.data=Es.call(n,n.transformResponse,i.response),i.response.headers=We.from(i.response.headers))),Promise.reject(i)})}const Lo=n=>n instanceof We?n.toJSON():n;function Yt(n,e){e=e||{};const t={};function i(c,u,d){return k.isPlainObject(c)&&k.isPlainObject(u)?k.merge.call({caseless:d},c,u):k.isPlainObject(u)?k.merge({},u):k.isArray(u)?u.slice():u}function s(c,u,d){if(k.isUndefined(u)){if(!k.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function r(c,u){if(!k.isUndefined(u))return i(void 0,u)}function o(c,u){if(k.isUndefined(u)){if(!k.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Lo(c),Lo(u),!0)};return k.forEach(Object.keys(n).concat(Object.keys(e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);k.isUndefined(f)&&d!==a||(t[u]=f)}),t}const hl="1.3.4",Sr={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Sr[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const ko={};Sr.transitional=function(e,t,i){function s(r,o){return"[Axios v"+hl+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new K(s(o," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!ko[o]&&(ko[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};function ju(n,e,t){if(typeof n!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new K("option "+r+" must be "+l,K.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new K("Unknown option "+r,K.ERR_BAD_OPTION)}}const qs={assertOptions:ju,validators:Sr},et=qs.validators;class bi{constructor(e){this.defaults=e,this.interceptors={request:new Mo,response:new Mo}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Yt(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&qs.assertOptions(i,{silentJSONParsing:et.transitional(et.boolean),forcedJSONParsing:et.transitional(et.boolean),clarifyTimeoutError:et.transitional(et.boolean)},!1),s!==void 0&&qs.assertOptions(s,{encode:et.function,serialize:et.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o;o=r&&k.merge(r.common,r[t.method]),o&&k.forEach(["delete","get","head","post","put","patch","common"],h=>{delete r[h]}),t.headers=We.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,f;if(!l){const h=[No.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),f=h.length,u=Promise.resolve(t);d<f;)u=u.then(h[d++],h[d++]);return u}f=a.length;let p=t;for(d=0;d<f;){const h=a[d++],m=a[d++];try{p=h(p)}catch(g){m.call(this,g);break}}try{u=No.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Yt(this.defaults,e);const t=fl(e.baseURL,e.url);return ll(t,e.params,e.paramsSerializer)}}k.forEach(["delete","get","head","options"],function(e){bi.prototype[e]=function(t,i){return this.request(Yt(i||{},{method:e,url:t,data:(i||{}).data}))}});k.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(Yt(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}bi.prototype[e]=t(),bi.prototype[e+"Form"]=t(!0)});const gi=bi;class Cr{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new qn(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Cr(function(s){e=s}),cancel:e}}}const qu=Cr;function Yu(n){return function(t){return n.apply(null,t)}}function Xu(n){return k.isObject(n)&&n.isAxiosError===!0}const Ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ys).forEach(([n,e])=>{Ys[e]=n});const Ku=Ys;function pl(n){const e=new gi(n),t=Ka(gi.prototype.request,e);return k.extend(t,gi.prototype,e,{allOwnKeys:!0}),k.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return pl(Yt(n,s))},t}const ae=pl(Tr);ae.Axios=gi;ae.CanceledError=qn;ae.CancelToken=qu;ae.isCancel=ul;ae.VERSION=hl;ae.toFormData=Xi;ae.AxiosError=K;ae.Cancel=ae.CanceledError;ae.all=function(e){return Promise.all(e)};ae.spread=Yu;ae.isAxiosError=Xu;ae.mergeConfig=Yt;ae.AxiosHeaders=We;ae.formToJSON=n=>dl(k.isHTMLForm(n)?new FormData(n):n);ae.HttpStatusCode=Ku;ae.default=ae;const sE=ae;var Bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ir(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ml={exports:{}};(function(n,e){(function(t,i){n.exports=i(t)})(typeof Bt<"u"?Bt:window||Bt.window||Bt.global,function(t){var i={},s="iziToast";document.querySelector("body");var r=!!/Mobi/.test(navigator.userAgent),o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),a=typeof InstallTrigger<"u",l="ontouchstart"in document.documentElement,c=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],u={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},d=568,f={};i.children={};var p={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var h=function(C,x){x=x||{bubbles:!1,cancelable:!1,detail:void 0};var _=document.createEvent("CustomEvent");return _.initCustomEvent(C,x.bubbles,x.cancelable,x.detail),_};h.prototype=window.Event.prototype,window.CustomEvent=h}var m=function(C,x,_){if(Object.prototype.toString.call(C)==="[object Object]")for(var v in C)Object.prototype.hasOwnProperty.call(C,v)&&x.call(_,C[v],v,C);else if(C)for(var P=0,O=C.length;P<O;P++)x.call(_,C[P],P,C)},g=function(C,x){var _={};return m(C,function(v,P){_[P]=C[P]}),m(x,function(v,P){_[P]=x[P]}),_},w=function(C){var x=document.createDocumentFragment(),_=document.createElement("div");for(_.innerHTML=C;_.firstChild;)x.appendChild(_.firstChild);return x},E=function(C){var x=btoa(encodeURIComponent(C));return x.replace(/=/g,"")},y=function(C){return C.substring(0,1)=="#"||C.substring(0,3)=="rgb"||C.substring(0,3)=="hsl"},b=function(C){try{return btoa(atob(C))==C}catch{return!1}},T=function(){return{move:function(C,x,_,v){var P,O=.3,S=180;v!==0&&(C.classList.add(s+"-dragged"),C.style.transform="translateX("+v+"px)",v>0?(P=(S-v)/S,P<O&&x.hide(g(_,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),C,"drag")):(P=(S+v)/S,P<O&&x.hide(g(_,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),C,"drag")),C.style.opacity=P,P<O&&((o||a)&&(C.style.left=v+"px"),C.parentNode.style.opacity=O,this.stopMoving(C,null)))},startMoving:function(C,x,_,v){v=v||window.event;var P=l?v.touches[0].clientX:v.clientX,O=C.style.transform.replace("px)","");O=O.replace("translateX(","");var S=P-O;_.transitionIn&&C.classList.remove(_.transitionIn),_.transitionInMobile&&C.classList.remove(_.transitionInMobile),C.style.transition="",l?document.ontouchmove=function(I){I.preventDefault(),I=I||window.event;var R=I.touches[0].clientX,N=R-S;T.move(C,x,_,N)}:document.onmousemove=function(I){I.preventDefault(),I=I||window.event;var R=I.clientX,N=R-S;T.move(C,x,_,N)}},stopMoving:function(C,x){l?document.ontouchmove=function(){}:document.onmousemove=function(){},C.style.opacity="",C.style.transform="",C.classList.contains(s+"-dragged")&&(C.classList.remove(s+"-dragged"),C.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){C.style.transition=""},400))}}}();return i.setSetting=function(C,x,_){i.children[C][x]=_},i.getSetting=function(C,x){return i.children[C][x]},i.destroy=function(){m(document.querySelectorAll("."+s+"-overlay"),function(C,x){C.remove()}),m(document.querySelectorAll("."+s+"-wrapper"),function(C,x){C.remove()}),m(document.querySelectorAll("."+s),function(C,x){C.remove()}),this.children={},document.removeEventListener(s+"-opened",{},!1),document.removeEventListener(s+"-opening",{},!1),document.removeEventListener(s+"-closing",{},!1),document.removeEventListener(s+"-closed",{},!1),document.removeEventListener("keyup",{},!1),f={}},i.settings=function(C){i.destroy(),f=C,p=g(p,C||{})},m(u,function(C,x){i[x]=function(_){var v=g(f,_||{});v=g(C,v||{}),this.show(v)}}),i.progress=function(C,x,_){var v=this,P=x.getAttribute("data-iziToast-ref"),O=g(this.children[P],C||{}),S=x.querySelector("."+s+"-progressbar div");return{start:function(){typeof O.time.REMAINING>"u"&&(x.classList.remove(s+"-reseted"),S!==null&&(S.style.transition="width "+O.timeout+"ms "+O.progressBarEasing,S.style.width="0%"),O.time.START=new Date().getTime(),O.time.END=O.time.START+O.timeout,O.time.TIMER=setTimeout(function(){clearTimeout(O.time.TIMER),x.classList.contains(s+"-closing")||(v.hide(O,x,"timeout"),typeof _=="function"&&_.apply(v))},O.timeout),v.setSetting(P,"time",O.time))},pause:function(){if(typeof O.time.START<"u"&&!x.classList.contains(s+"-paused")&&!x.classList.contains(s+"-reseted")){if(x.classList.add(s+"-paused"),O.time.REMAINING=O.time.END-new Date().getTime(),clearTimeout(O.time.TIMER),v.setSetting(P,"time",O.time),S!==null){var I=window.getComputedStyle(S),R=I.getPropertyValue("width");S.style.transition="none",S.style.width=R}typeof _=="function"&&setTimeout(function(){_.apply(v)},10)}},resume:function(){typeof O.time.REMAINING<"u"?(x.classList.remove(s+"-paused"),S!==null&&(S.style.transition="width "+O.time.REMAINING+"ms "+O.progressBarEasing,S.style.width="0%"),O.time.END=new Date().getTime()+O.time.REMAINING,O.time.TIMER=setTimeout(function(){clearTimeout(O.time.TIMER),x.classList.contains(s+"-closing")||(v.hide(O,x,"timeout"),typeof _=="function"&&_.apply(v))},O.time.REMAINING),v.setSetting(P,"time",O.time)):this.start()},reset:function(){clearTimeout(O.time.TIMER),delete O.time.REMAINING,v.setSetting(P,"time",O.time),x.classList.add(s+"-reseted"),x.classList.remove(s+"-paused"),S!==null&&(S.style.transition="none",S.style.width="100%"),typeof _=="function"&&setTimeout(function(){_.apply(v)},10)}}},i.hide=function(C,x,_){typeof x!="object"&&(x=document.querySelector(x));var v=this,P=g(this.children[x.getAttribute("data-iziToast-ref")],C||{});P.closedBy=_||null,delete P.time.REMAINING,x.classList.add(s+"-closing"),function(){var I=document.querySelector("."+s+"-overlay");if(I!==null){var R=I.getAttribute("data-iziToast-ref");R=R.split(",");var N=R.indexOf(String(P.ref));N!==-1&&R.splice(N,1),I.setAttribute("data-iziToast-ref",R.join()),R.length===0&&(I.classList.remove("fadeIn"),I.classList.add("fadeOut"),setTimeout(function(){I.remove()},700))}}(),P.transitionIn&&x.classList.remove(P.transitionIn),P.transitionInMobile&&x.classList.remove(P.transitionInMobile),r||window.innerWidth<=d?P.transitionOutMobile&&x.classList.add(P.transitionOutMobile):P.transitionOut&&x.classList.add(P.transitionOut);var O=x.parentNode.offsetHeight;x.parentNode.style.height=O+"px",x.style.pointerEvents="none",(!r||window.innerWidth>d)&&(x.parentNode.style.transitionDelay="0.2s");try{var S=new CustomEvent(s+"-closing",{detail:P,bubbles:!0,cancelable:!0});document.dispatchEvent(S)}catch(I){console.warn(I)}setTimeout(function(){x.parentNode.style.height="0px",x.parentNode.style.overflow="",setTimeout(function(){delete v.children[P.ref],x.parentNode.remove();try{var I=new CustomEvent(s+"-closed",{detail:P,bubbles:!0,cancelable:!0});document.dispatchEvent(I)}catch(R){console.warn(R)}typeof P.onClosed<"u"&&P.onClosed.apply(null,[P,x,_])},1e3)},200),typeof P.onClosing<"u"&&P.onClosing.apply(null,[P,x,_])},i.show=function(C){var x=this,_=g(f,C||{});if(_=g(p,_),_.time={},_.id===null&&(_.id=E(_.title+_.message+_.color)),_.displayMode===1||_.displayMode=="once")try{if(document.querySelectorAll("."+s+"#"+_.id).length>0)return!1}catch{console.warn("["+s+"] Could not find an element with this selector: #"+_.id+". Try to set an valid id.")}if(_.displayMode===2||_.displayMode=="replace")try{m(document.querySelectorAll("."+s+"#"+_.id),function(S,I){x.hide(_,S,"replaced")})}catch{console.warn("["+s+"] Could not find an element with this selector: #"+_.id+". Try to set an valid id.")}_.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),i.children[_.ref]=_;var v={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:_.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};v.toast.setAttribute("data-iziToast-ref",_.ref),v.toast.appendChild(v.toastBody),v.toastCapsule.appendChild(v.toast),function(){if(v.toast.classList.add(s),v.toast.classList.add(s+"-opening"),v.toastCapsule.classList.add(s+"-capsule"),v.toastBody.classList.add(s+"-body"),v.toastTexts.classList.add(s+"-texts"),r||window.innerWidth<=d?_.transitionInMobile&&v.toast.classList.add(_.transitionInMobile):_.transitionIn&&v.toast.classList.add(_.transitionIn),_.class){var S=_.class.split(" ");m(S,function(I,R){v.toast.classList.add(I)})}_.id&&(v.toast.id=_.id),_.rtl&&(v.toast.classList.add(s+"-rtl"),v.toast.setAttribute("dir","rtl")),_.layout>1&&v.toast.classList.add(s+"-layout"+_.layout),_.balloon&&v.toast.classList.add(s+"-balloon"),_.maxWidth&&(isNaN(_.maxWidth)?v.toast.style.maxWidth=_.maxWidth:v.toast.style.maxWidth=_.maxWidth+"px"),(_.theme!==""||_.theme!=="light")&&v.toast.classList.add(s+"-theme-"+_.theme),_.color&&(y(_.color)?v.toast.style.background=_.color:v.toast.classList.add(s+"-color-"+_.color)),_.backgroundColor&&(v.toast.style.background=_.backgroundColor,_.balloon&&(v.toast.style.borderColor=_.backgroundColor))}(),function(){_.image&&(v.cover.classList.add(s+"-cover"),v.cover.style.width=_.imageWidth+"px",b(_.image.replace(/ /g,""))?v.cover.style.backgroundImage="url(data:image/png;base64,"+_.image.replace(/ /g,"")+")":v.cover.style.backgroundImage="url("+_.image+")",_.rtl?v.toastBody.style.marginRight=_.imageWidth+10+"px":v.toastBody.style.marginLeft=_.imageWidth+10+"px",v.toast.appendChild(v.cover))}(),function(){_.close?(v.buttonClose=document.createElement("button"),v.buttonClose.type="button",v.buttonClose.classList.add(s+"-close"),v.buttonClose.addEventListener("click",function(S){S.target,x.hide(_,v.toast,"button")}),v.toast.appendChild(v.buttonClose)):_.rtl?v.toast.style.paddingLeft="18px":v.toast.style.paddingRight="18px"}(),function(){_.progressBar&&(v.progressBar=document.createElement("div"),v.progressBarDiv=document.createElement("div"),v.progressBar.classList.add(s+"-progressbar"),v.progressBarDiv.style.background=_.progressBarColor,v.progressBar.appendChild(v.progressBarDiv),v.toast.appendChild(v.progressBar)),_.timeout&&(_.pauseOnHover&&!_.resetOnHover&&(v.toast.addEventListener("mouseenter",function(S){x.progress(_,v.toast).pause()}),v.toast.addEventListener("mouseleave",function(S){x.progress(_,v.toast).resume()})),_.resetOnHover&&(v.toast.addEventListener("mouseenter",function(S){x.progress(_,v.toast).reset()}),v.toast.addEventListener("mouseleave",function(S){x.progress(_,v.toast).start()})))}(),function(){_.iconUrl?(v.icon.setAttribute("class",s+"-icon"),v.icon.setAttribute("src",_.iconUrl)):_.icon&&(v.icon.setAttribute("class",s+"-icon "+_.icon),_.iconText&&v.icon.appendChild(document.createTextNode(_.iconText)),_.iconColor&&(v.icon.style.color=_.iconColor)),(_.icon||_.iconUrl)&&(_.rtl?v.toastBody.style.paddingRight="33px":v.toastBody.style.paddingLeft="33px",v.toastBody.appendChild(v.icon))}(),function(){_.title.length>0&&(v.strong=document.createElement("strong"),v.strong.classList.add(s+"-title"),v.strong.appendChild(w(_.title)),v.toastTexts.appendChild(v.strong),_.titleColor&&(v.strong.style.color=_.titleColor),_.titleSize&&(isNaN(_.titleSize)?v.strong.style.fontSize=_.titleSize:v.strong.style.fontSize=_.titleSize+"px"),_.titleLineHeight&&(isNaN(_.titleSize)?v.strong.style.lineHeight=_.titleLineHeight:v.strong.style.lineHeight=_.titleLineHeight+"px")),_.message.length>0&&(v.p=document.createElement("p"),v.p.classList.add(s+"-message"),v.p.appendChild(w(_.message)),v.toastTexts.appendChild(v.p),_.messageColor&&(v.p.style.color=_.messageColor),_.messageSize&&(isNaN(_.titleSize)?v.p.style.fontSize=_.messageSize:v.p.style.fontSize=_.messageSize+"px"),_.messageLineHeight&&(isNaN(_.titleSize)?v.p.style.lineHeight=_.messageLineHeight:v.p.style.lineHeight=_.messageLineHeight+"px")),_.title.length>0&&_.message.length>0&&(_.rtl?v.strong.style.marginLeft="10px":_.layout!==2&&!_.rtl&&(v.strong.style.marginRight="10px"))}(),v.toastBody.appendChild(v.toastTexts);var P;(function(){_.inputs.length>0&&(v.inputs.classList.add(s+"-inputs"),m(_.inputs,function(S,I){v.inputs.appendChild(w(S[0])),P=v.inputs.childNodes,P[I].classList.add(s+"-inputs-child"),S[3]&&setTimeout(function(){P[I].focus()},300),P[I].addEventListener(S[1],function(R){var N=S[2];return N(x,v.toast,this,R)})}),v.toastBody.appendChild(v.inputs))})(),function(){_.buttons.length>0&&(v.buttons.classList.add(s+"-buttons"),m(_.buttons,function(S,I){v.buttons.appendChild(w(S[0]));var R=v.buttons.childNodes;R[I].classList.add(s+"-buttons-child"),S[2]&&setTimeout(function(){R[I].focus()},300),R[I].addEventListener("click",function(N){N.preventDefault();var H=S[1];return H(x,v.toast,this,N,P)})})),v.toastBody.appendChild(v.buttons)}(),_.message.length>0&&(_.inputs.length>0||_.buttons.length>0)&&(v.p.style.marginBottom="0"),(_.inputs.length>0||_.buttons.length>0)&&(_.rtl?v.toastTexts.style.marginLeft="10px":v.toastTexts.style.marginRight="10px",_.inputs.length>0&&_.buttons.length>0&&(_.rtl?v.inputs.style.marginLeft="8px":v.inputs.style.marginRight="8px")),function(){v.toastCapsule.style.visibility="hidden",setTimeout(function(){var S=v.toast.offsetHeight,I=v.toast.currentStyle||window.getComputedStyle(v.toast),R=I.marginTop;R=R.split("px"),R=parseInt(R[0]);var N=I.marginBottom;N=N.split("px"),N=parseInt(N[0]),v.toastCapsule.style.visibility="",v.toastCapsule.style.height=S+N+R+"px",setTimeout(function(){v.toastCapsule.style.height="auto",_.target&&(v.toastCapsule.style.overflow="visible")},500),_.timeout&&x.progress(_,v.toast).start()},100)}(),function(){var S=_.position;if(_.target)v.wrapper=document.querySelector(_.target),v.wrapper.classList.add(s+"-target"),_.targetFirst?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule);else{if(c.indexOf(_.position)==-1){console.warn("["+s+`] Incorrect position.
It can be › `+c);return}r||window.innerWidth<=d?_.position=="bottomLeft"||_.position=="bottomRight"||_.position=="bottomCenter"?S=s+"-wrapper-bottomCenter":_.position=="topLeft"||_.position=="topRight"||_.position=="topCenter"?S=s+"-wrapper-topCenter":S=s+"-wrapper-center":S=s+"-wrapper-"+S,v.wrapper=document.querySelector("."+s+"-wrapper."+S),v.wrapper||(v.wrapper=document.createElement("div"),v.wrapper.classList.add(s+"-wrapper"),v.wrapper.classList.add(S),document.body.appendChild(v.wrapper)),_.position=="topLeft"||_.position=="topCenter"||_.position=="topRight"?v.wrapper.insertBefore(v.toastCapsule,v.wrapper.firstChild):v.wrapper.appendChild(v.toastCapsule)}isNaN(_.zindex)?console.warn("["+s+"] Invalid zIndex."):v.wrapper.style.zIndex=_.zindex}(),function(){_.overlay&&(document.querySelector("."+s+"-overlay.fadeIn")!==null?(v.overlay=document.querySelector("."+s+"-overlay"),v.overlay.setAttribute("data-iziToast-ref",v.overlay.getAttribute("data-iziToast-ref")+","+_.ref),!isNaN(_.zindex)&&_.zindex!==null&&(v.overlay.style.zIndex=_.zindex-1)):(v.overlay.classList.add(s+"-overlay"),v.overlay.classList.add("fadeIn"),v.overlay.style.background=_.overlayColor,v.overlay.setAttribute("data-iziToast-ref",_.ref),!isNaN(_.zindex)&&_.zindex!==null&&(v.overlay.style.zIndex=_.zindex-1),document.querySelector("body").appendChild(v.overlay)),_.overlayClose?(v.overlay.removeEventListener("click",{}),v.overlay.addEventListener("click",function(S){x.hide(_,v.toast,"overlay")})):v.overlay.removeEventListener("click",{}))}(),function(){if(_.animateInside){v.toast.classList.add(s+"-animateInside");var S=[200,100,300];(_.transitionIn=="bounceInLeft"||_.transitionIn=="bounceInRight")&&(S=[400,200,400]),_.title.length>0&&setTimeout(function(){v.strong.classList.add("slideIn")},S[0]),_.message.length>0&&setTimeout(function(){v.p.classList.add("slideIn")},S[1]),(_.icon||_.iconUrl)&&setTimeout(function(){v.icon.classList.add("revealIn")},S[2]);var I=150;_.buttons.length>0&&v.buttons&&setTimeout(function(){m(v.buttons.childNodes,function(R,N){setTimeout(function(){R.classList.add("revealIn")},I),I=I+150})},_.inputs.length>0?150:0),_.inputs.length>0&&v.inputs&&(I=150,m(v.inputs.childNodes,function(R,N){setTimeout(function(){R.classList.add("revealIn")},I),I=I+150}))}}(),_.onOpening.apply(null,[_,v.toast]);try{var O=new CustomEvent(s+"-opening",{detail:_,bubbles:!0,cancelable:!0});document.dispatchEvent(O)}catch(S){console.warn(S)}setTimeout(function(){v.toast.classList.remove(s+"-opening"),v.toast.classList.add(s+"-opened");try{var S=new CustomEvent(s+"-opened",{detail:_,bubbles:!0,cancelable:!0});document.dispatchEvent(S)}catch(I){console.warn(I)}_.onOpened.apply(null,[_,v.toast])},1e3),_.drag&&(l?(v.toast.addEventListener("touchstart",function(S){T.startMoving(this,x,_,S)},!1),v.toast.addEventListener("touchend",function(S){T.stopMoving(this,S)},!1)):(v.toast.addEventListener("mousedown",function(S){S.preventDefault(),T.startMoving(this,x,_,S)},!1),v.toast.addEventListener("mouseup",function(S){S.preventDefault(),T.stopMoving(this,S)},!1))),_.closeOnEscape&&document.addEventListener("keyup",function(S){S=S||window.event,S.keyCode==27&&x.hide(_,v.toast,"esc")}),_.closeOnClick&&v.toast.addEventListener("click",function(S){x.hide(_,v.toast,"toast")}),x.toast=v.toast},i})})(ml);var Qu=ml.exports;const rE=Ir(Qu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(n,e){if(!n)throw rn(e)},rn=function(n){return new Error("Firebase Database ("+gl.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Ju=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=n[t++],o=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},xr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(t[u],t[d],t[f],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vl(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ju(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new Zu;const f=r<<2|a>>4;if(i.push(f),c!==64){const p=a<<4&240|c>>2;if(i.push(p),d!==64){const h=c<<6&192|d;i.push(h)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Zu extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _l=function(n){const e=vl(n);return xr.encodeByteArray(e,!0)},Ti=function(n){return _l(n).replace(/\./g,"")},Si=function(n){try{return xr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){return yl(void 0,n)}function yl(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!tf(t)||(n[t]=yl(n[t],e[t]));return n}function tf(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=()=>nf().__FIREBASE_DEFAULTS__,rf=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},of=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Si(n[1]);return e&&JSON.parse(e)},Pr=()=>{try{return sf()||rf()||of()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wl=n=>{var e,t;return(t=(e=Pr())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},af=n=>{const e=wl(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},El=()=>{var n;return(n=Pr())===null||n===void 0?void 0:n.config},bl=n=>{var e;return(e=Pr())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[Ti(JSON.stringify(t)),Ti(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ar(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function cf(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Tl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function df(){const n=ve();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sl(){return gl.NODE_ADMIN===!0}function uf(){try{return typeof indexedDB=="object"}catch{return!1}}function ff(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="FirebaseError";class vt extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=hf,Object.setPrototypeOf(this,vt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}}class Yn{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?pf(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vt(s,a,i)}}function pf(n,e){return n.replace(mf,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const mf=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){return JSON.parse(n)}function re(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=function(n){let e={},t={},i={},s="";try{const r=n.split(".");e=Nn(Si(r[0])||""),t=Nn(Si(r[1])||""),s=r[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:s}},gf=function(n){const e=Cl(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},vf=function(n){const e=Cl(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Xt(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Xs(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ci(n,e,t){const i={};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=e.call(t,n[s],s,n));return i}function Ii(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],o=e[s];if(Do(r)&&Do(o)){if(!Ii(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Do(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function En(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function bn(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const i=t-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<t;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<t;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function yf(n,e){const t=new wf(n,e);return t.subscribe.bind(t)}class wf{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Ef(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Ts),s.error===void 0&&(s.error=Ts),s.complete===void 0&&(s.complete=Ts);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ef(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ts(){}function Mr(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,z(i<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Zi=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(n){return n&&n._delegate?n._delegate:n}class xt{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Ji;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cf(e))try{this.getOrInitializeService({instanceIdentifier:Et})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Et){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Et){return this.instances.has(e)}getOptions(e=Et){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Sf(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Et){return this.component?this.component.multipleInstances?e:Et:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sf(n){return n===Et?void 0:n}function Cf(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tf(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Z||(Z={}));const xf={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},Pf=Z.INFO,Af={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Mf=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Af[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rr{constructor(e){this.name=e,this._logLevel=Pf,this._logHandler=Mf,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...e),this._logHandler(this,Z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...e),this._logHandler(this,Z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...e),this._logHandler(this,Z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...e),this._logHandler(this,Z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...e),this._logHandler(this,Z.ERROR,...e)}}const Rf=(n,e)=>e.some(t=>n instanceof t);let Fo,Bo;function Of(){return Fo||(Fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nf(){return Bo||(Bo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Il=new WeakMap,Ks=new WeakMap,xl=new WeakMap,Ss=new WeakMap,Or=new WeakMap;function Lf(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",o)},r=()=>{t(lt(n.result)),s()},o=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Il.set(t,n)}).catch(()=>{}),Or.set(e,n),e}function kf(n){if(Ks.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",o),n.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",o),n.addEventListener("abort",o)});Ks.set(n,e)}let Qs={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ks.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xl.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Df(n){Qs=n(Qs)}function Ff(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cs(this),e,...t);return xl.set(i,e.sort?e.sort():[e]),lt(i)}:Nf().includes(n)?function(...e){return n.apply(Cs(this),e),lt(Il.get(this))}:function(...e){return lt(n.apply(Cs(this),e))}}function Bf(n){return typeof n=="function"?Ff(n):(n instanceof IDBTransaction&&kf(n),Rf(n,Of())?new Proxy(n,Qs):n)}function lt(n){if(n instanceof IDBRequest)return Lf(n);if(Ss.has(n))return Ss.get(n);const e=Bf(n);return e!==n&&(Ss.set(n,e),Or.set(e,n)),e}const Cs=n=>Or.get(n);function zf(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(n,e),a=lt(o);return i&&o.addEventListener("upgradeneeded",l=>{i(lt(o.result),l.oldVersion,l.newVersion,lt(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Uf=["get","getKey","getAll","getAllKeys","count"],Hf=["put","add","delete","clear"],Is=new Map;function zo(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Is.get(e))return Is.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Hf.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Uf.includes(t)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return Is.set(e,r),r}Df(n=>({...n,get:(e,t,i)=>zo(e,t)||n.get(e,t,i),has:(e,t)=>!!zo(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Wf(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Wf(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Js="@firebase/app",Uo="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe=new Rr("@firebase/app"),Vf="@firebase/app-compat",Gf="@firebase/analytics-compat",jf="@firebase/analytics",qf="@firebase/app-check-compat",Yf="@firebase/app-check",Xf="@firebase/auth",Kf="@firebase/auth-compat",Qf="@firebase/database",Jf="@firebase/database-compat",Zf="@firebase/functions",eh="@firebase/functions-compat",th="@firebase/installations",nh="@firebase/installations-compat",ih="@firebase/messaging",sh="@firebase/messaging-compat",rh="@firebase/performance",oh="@firebase/performance-compat",ah="@firebase/remote-config",lh="@firebase/remote-config-compat",ch="@firebase/storage",dh="@firebase/storage-compat",uh="@firebase/firestore",fh="@firebase/vertexai-preview",hh="@firebase/firestore-compat",ph="firebase",mh="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]",gh={[Js]:"fire-core",[Vf]:"fire-core-compat",[jf]:"fire-analytics",[Gf]:"fire-analytics-compat",[Yf]:"fire-app-check",[qf]:"fire-app-check-compat",[Xf]:"fire-auth",[Kf]:"fire-auth-compat",[Qf]:"fire-rtdb",[Jf]:"fire-rtdb-compat",[Zf]:"fire-fn",[eh]:"fire-fn-compat",[th]:"fire-iid",[nh]:"fire-iid-compat",[ih]:"fire-fcm",[sh]:"fire-fcm-compat",[rh]:"fire-perf",[oh]:"fire-perf-compat",[ah]:"fire-rc",[lh]:"fire-rc-compat",[ch]:"fire-gcs",[dh]:"fire-gcs-compat",[uh]:"fire-fst",[hh]:"fire-fst-compat",[fh]:"fire-vertex","fire-js":"fire-js",[ph]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Map,vh=new Map,er=new Map;function Ho(n,e){try{n.container.addComponent(e)}catch(t){qe.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Kt(n){const e=n.name;if(er.has(e))return qe.debug(`There were multiple attempts to register component ${e}.`),!1;er.set(e,n);for(const t of xi.values())Ho(t,n);for(const t of vh.values())Ho(t,n);return!0}function Nr(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Oe(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ct=new Yn("app","Firebase",_h);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=mh;function wh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zs,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw ct.create("bad-app-name",{appName:String(s)});if(t||(t=El()),!t)throw ct.create("no-options");const r=xi.get(s);if(r){if(Ii(t,r.options)&&Ii(i,r.config))return r;throw ct.create("duplicate-app",{appName:s})}const o=new If(s);for(const l of er.values())o.addComponent(l);const a=new yh(t,i,o);return xi.set(s,a),a}function Pl(n=Zs){const e=xi.get(n);if(!e&&n===Zs&&El())return wh();if(!e)throw ct.create("no-app",{appName:n});return e}function dt(n,e,t){var i;let s=(i=gh[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qe.warn(a.join(" "));return}Kt(new xt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="firebase-heartbeat-database",bh=1,Ln="firebase-heartbeat-store";let xs=null;function Al(){return xs||(xs=zf(Eh,bh,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ln)}catch(t){console.warn(t)}}}}).catch(n=>{throw ct.create("idb-open",{originalErrorMessage:n.message})})),xs}async function Th(n){try{const t=(await Al()).transaction(Ln),i=await t.objectStore(Ln).get(Ml(n));return await t.done,i}catch(e){if(e instanceof vt)qe.warn(e.message);else{const t=ct.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qe.warn(t.message)}}}async function $o(n,e){try{const i=(await Al()).transaction(Ln,"readwrite");await i.objectStore(Ln).put(e,Ml(n)),await i.done}catch(t){if(t instanceof vt)qe.warn(t.message);else{const i=ct.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qe.warn(i.message)}}}function Ml(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=1024,Ch=30*24*60*60*1e3;class Ih{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ph(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Wo();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ch}),this._storage.overwrite(this._heartbeatsCache))}catch(i){qe.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Wo(),{heartbeatsToSend:i,unsentEntries:s}=xh(this._heartbeatsCache.heartbeats),r=Ti(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return qe.warn(t),""}}}function Wo(){return new Date().toISOString().substring(0,10)}function xh(n,e=Sh){const t=[];let i=n.slice();for(const s of n){const r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Vo(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Vo(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Ph{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uf()?ff().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Th(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $o(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return $o(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vo(n){return Ti(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){Kt(new xt("platform-logger",e=>new $f(e),"PRIVATE")),Kt(new xt("heartbeat",e=>new Ih(e),"PRIVATE")),dt(Js,Uo,n),dt(Js,Uo,"esm2017"),dt("fire-js","")}Ah("");var Mh="firebase",Rh="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dt(Mh,Rh,"app");function Lr(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Rl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Oh=Rl,Ol=new Yn("auth","Firebase",Rl());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Rr("@firebase/auth");function Nh(n,...e){Pi.logLevel<=Z.WARN&&Pi.warn(`Auth (${an}): ${n}`,...e)}function vi(n,...e){Pi.logLevel<=Z.ERROR&&Pi.error(`Auth (${an}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,...e){throw kr(n,...e)}function Ne(n,...e){return kr(n,...e)}function Nl(n,e,t){const i=Object.assign(Object.assign({},Oh()),{[e]:t});return new Yn("auth","Firebase",i).create(e,{appName:n.name})}function Ve(n){return Nl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kr(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Ol.create(n,...e)}function V(n,e,...t){if(!n)throw kr(e,...t)}function ze(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vi(e),new Error(e)}function Ye(n,e){n||ze(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ll(){return Go()==="http:"||Go()==="https:"}function Go(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ll()||cf()||"connection"in navigator)?navigator.onLine:!0}function kh(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ye(t>e,"Short delay should be less than long delay!"),this.isMobile=Ar()||Tl()}get(){return Lh()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(n,e){Ye(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Xn(3e4,6e4);function Je(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function De(n,e,t,i,s={}){return Dl(n,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const a=on(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),kl.fetch()(Fl(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},r))})}async function Dl(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Dh),e);try{const s=new zh(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ci(n,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ci(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ci(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw ci(n,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Nl(n,u,c);Ae(n,u)}}catch(s){if(s instanceof vt)throw s;Ae(n,"network-request-failed",{message:String(s)})}}async function Kn(n,e,t,i,s={}){const r=await De(n,e,t,i,s);return"mfaPendingCredential"in r&&Ae(n,"multi-factor-auth-required",{_serverResponse:r}),r}function Fl(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Dr(n.config,s):`${n.config.apiScheme}://${s}`}function Bh(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zh{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ne(this.auth,"network-request-failed")),Fh.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ci(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ne(n,e,i);return s.customData._tokenResponse=t,s}function jo(n){return n!==void 0&&n.enterprise!==void 0}class Uh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Bh(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Hh(n,e){return De(n,"GET","/v2/recaptchaConfig",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(n,e){return De(n,"POST","/v1/accounts:delete",e)}async function Bl(n,e){return De(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wh(n,e=!1){const t=pe(n),i=await t.getIdToken(e),s=Fr(i);V(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:In(Ps(s.auth_time)),issuedAtTime:In(Ps(s.iat)),expirationTime:In(Ps(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ps(n){return Number(n)*1e3}function Fr(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vi("JWT malformed, contained fewer than 3 sections"),null;try{const s=Si(t);return s?JSON.parse(s):(vi("Failed to decode base64 JWT payload"),null)}catch(s){return vi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qo(n){const e=Fr(n);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qt(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof vt&&Vh(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Vh({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=In(this.lastLoginAt),this.creationTime=In(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Qt(n,Bl(t,{idToken:i}));V(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?zl(r.providerUserInfo):[],a=qh(n.providerData,o),l=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new tr(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function jh(n){const e=pe(n);await Mi(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qh(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function zl(n){return n.map(e=>{var{providerId:t}=e,i=Lr(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(n,e){const t=await Dl(n,{},async()=>{const i=on({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,o=Fl(n,s,"/v1/token",`key=${r}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kl.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Xh(n,e){return De(n,"POST","/v2/accounts:revokeToken",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){V(e.length!==0,"internal-error");const t=qo(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await Yh(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,o=new Ht;return i&&(V(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(V(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(V(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return ze("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(n,e){V(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ue{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=Lr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new tr(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Qt(this,this.stsTokenManager.getToken(this.auth,e));return V(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Wh(this,e)}reload(){return jh(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mi(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oe(this.auth.app))return Promise.reject(Ve(this.auth));const e=await this.getIdToken();return await Qt(this,$h(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,o,a,l,c,u;const d=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,p=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,h=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,g=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,E=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:b,isAnonymous:T,providerData:C,stsTokenManager:x}=t;V(y&&x,e,"internal-error");const _=Ht.fromJSON(this.name,x);V(typeof y=="string",e,"internal-error"),tt(d,e.name),tt(f,e.name),V(typeof b=="boolean",e,"internal-error"),V(typeof T=="boolean",e,"internal-error"),tt(p,e.name),tt(h,e.name),tt(m,e.name),tt(g,e.name),tt(w,e.name),tt(E,e.name);const v=new Ue({uid:y,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:T,photoURL:h,phoneNumber:p,tenantId:m,stsTokenManager:_,createdAt:w,lastLoginAt:E});return C&&Array.isArray(C)&&(v.providerData=C.map(P=>Object.assign({},P))),g&&(v._redirectEventId=g),v}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ht;s.updateFromServerResponse(t);const r=new Ue({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Mi(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];V(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?zl(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),a=new Ht;a.updateFromIdToken(i);const l=new Ue({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new tr(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map;function He(n){Ye(n instanceof Function,"Expected a class definition");let e=Yo.get(n);return e?(Ye(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yo.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ul.type="NONE";const Xo=Ul;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(n,e,t){return`firebase:${n}:${e}:${t}`}class $t{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=_i(this.userKey,s.apiKey,r),this.fullPersistenceKey=_i("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ue._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $t(He(Xo),e,i);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||He(Xo);const o=_i(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const d=Ue._fromJSON(e,u);c!==r&&(a=d),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new $t(r,e,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new $t(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jl(e))return"Blackberry";if(ql(e))return"Webos";if($l(e))return"Safari";if((e.includes("chrome/")||Wl(e))&&!e.includes("edge/"))return"Chrome";if(Gl(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Hl(n=ve()){return/firefox\//i.test(n)}function $l(n=ve()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wl(n=ve()){return/crios\//i.test(n)}function Vl(n=ve()){return/iemobile/i.test(n)}function Gl(n=ve()){return/android/i.test(n)}function jl(n=ve()){return/blackberry/i.test(n)}function ql(n=ve()){return/webos/i.test(n)}function Br(n=ve()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Kh(n=ve()){var e;return Br(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Qh(){return df()&&document.documentMode===10}function Yl(n=ve()){return Br(n)||Gl(n)||ql(n)||jl(n)||/windows phone/i.test(n)||Vl(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(n,e=[]){let t;switch(n){case"Browser":t=Ko(ve());break;case"Worker":t=`${Ko(ve())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${an}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((o,a)=>{try{const l=e(r);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n,e={}){return De(n,"GET","/v2/passwordPolicy",Je(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=6;class tp{constructor(e){var t,i,s,r;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:ep,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qo(this),this.idTokenSubscription=new Qo(this),this.beforeStateQueue=new Jh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ol,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=He(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await $t.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bl(this,{idToken:e}),i=await Ue._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Oe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mi(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kh()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oe(this.app))return Promise.reject(Ve(this));const t=e?pe(e):null;return t&&V(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oe(this.app)?Promise.reject(Ve(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oe(this.app)?Promise.reject(Ve(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(He(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zh(this),t=new tp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yn("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Xh(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&He(e)||this._popupRedirectResolver;V(t,this,"argument-error"),this.redirectPersistenceManager=await $t.create(this,[He(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Nh(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _t(n){return pe(n)}class Qo{constructor(e){this.auth=e,this.observer=null,this.addObserver=yf(t=>this.observer=t)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ip(n){es=n}function Kl(n){return es.loadJS(n)}function sp(){return es.recaptchaEnterpriseScript}function rp(){return es.gapiScript}function op(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const ap="recaptcha-enterprise",lp="NO_RECAPTCHA";class cp{constructor(e){this.type=ap,this.auth=_t(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{Hh(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Uh(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;jo(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(lp)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!t&&jo(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sp();l.length!==0&&(l+=a),Kl(l).then(()=>{s(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Jo(n,e,t,i=!1){const s=new cp(n);let r;try{r=await s.verify(t)}catch{r=await s.verify(t,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function nr(n,e,t,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await Jo(n,e,t,t==="getOobCode");return i(n,r)}else return i(n,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Jo(n,e,t,t==="getOobCode");return i(n,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n,e){const t=Nr(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(Ii(r,e??{}))return s;Ae(s,"already-initialized")}return t.initialize({options:e})}function up(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(He);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fp(n,e,t){const i=_t(n);V(i._canInitEmulator,i,"emulator-config-failed"),V(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),r=Ql(e),{host:o,port:a}=hp(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||pp()}function Ql(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hp(n){const e=Ql(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Zo(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Zo(o)}}}function Zo(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pp(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ze("not implemented")}_getIdTokenResponse(e){return ze("not implemented")}_linkToIdToken(e,t){return ze("not implemented")}_getReauthenticationResolver(e){return ze("not implemented")}}async function mp(n,e){return De(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(n,e){return Kn(n,"POST","/v1/accounts:signInWithPassword",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(n,e){return Kn(n,"POST","/v1/accounts:signInWithEmailLink",Je(n,e))}async function _p(n,e){return Kn(n,"POST","/v1/accounts:signInWithEmailLink",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends zr{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new kn(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new kn(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nr(e,t,"signInWithPassword",gp);case"emailLink":return vp(e,{email:this._email,oobCode:this._password});default:Ae(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nr(e,i,"signUpPassword",mp);case"emailLink":return _p(e,{idToken:t,email:this._email,oobCode:this._password});default:Ae(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wt(n,e){return Kn(n,"POST","/v1/accounts:signInWithIdp",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="http://localhost";class Pt extends zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ae("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=Lr(t,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Pt(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Wt(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Wt(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wt(e,t)}buildRequest(){const e={requestUri:yp,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=on(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ep(n){const e=En(bn(n)).link,t=e?En(bn(e)).deep_link_id:null,i=En(bn(n)).deep_link_id;return(i?En(bn(i)).link:null)||i||t||e||n}class Ur{constructor(e){var t,i,s,r,o,a;const l=En(bn(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,d=wp((s=l.mode)!==null&&s!==void 0?s:null);V(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Ep(e);try{return new Ur(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(){this.providerId=ln.PROVIDER_ID}static credential(e,t){return kn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ur.parseLink(t);return V(i,"argument-error"),kn._fromEmailAndCode(e,i.code,i.tenantId)}}ln.PROVIDER_ID="password";ln.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ln.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Jl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it extends Qn{constructor(){super("facebook.com")}static credential(e){return Pt._fromParams({providerId:it.PROVIDER_ID,signInMethod:it.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return it.credentialFromTaggedObject(e)}static credentialFromError(e){return it.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return it.credential(e.oauthAccessToken)}catch{return null}}}it.FACEBOOK_SIGN_IN_METHOD="facebook.com";it.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Qn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pt._fromParams({providerId:st.PROVIDER_ID,signInMethod:st.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return st.credentialFromTaggedObject(e)}static credentialFromError(e){return st.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return st.credential(t,i)}catch{return null}}}st.GOOGLE_SIGN_IN_METHOD="google.com";st.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Qn{constructor(){super("github.com")}static credential(e){return Pt._fromParams({providerId:rt.PROVIDER_ID,signInMethod:rt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rt.credentialFromTaggedObject(e)}static credentialFromError(e){return rt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rt.credential(e.oauthAccessToken)}catch{return null}}}rt.GITHUB_SIGN_IN_METHOD="github.com";rt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Qn{constructor(){super("twitter.com")}static credential(e,t){return Pt._fromParams({providerId:ot.PROVIDER_ID,signInMethod:ot.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ot.credentialFromTaggedObject(e)}static credentialFromError(e){return ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ot.credential(t,i)}catch{return null}}}ot.TWITTER_SIGN_IN_METHOD="twitter.com";ot.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(n,e){return Kn(n,"POST","/v1/accounts:signUp",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await Ue._fromIdTokenResponse(e,i,s),o=ea(i);return new At({user:r,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=ea(i);return new At({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function ea(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends vt{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ri.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Ri(e,t,i,s)}}function Zl(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Ri._fromErrorAndOperation(n,r,e,i):r})}async function Tp(n,e,t=!1){const i=await Qt(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return At._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sp(n,e,t=!1){const{auth:i}=n;if(Oe(i.app))return Promise.reject(Ve(i));const s="reauthenticate";try{const r=await Qt(n,Zl(i,s,e,n),t);V(r.idToken,i,"internal-error");const o=Fr(r.idToken);V(o,i,"internal-error");const{sub:a}=o;return V(n.uid===a,i,"user-mismatch"),At._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Ae(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e,t=!1){if(Oe(n.app))return Promise.reject(Ve(n));const i="signIn",s=await Zl(n,i,e),r=await At._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function Cp(n,e){return ec(_t(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n){const e=_t(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oE(n,e,t){if(Oe(n.app))return Promise.reject(Ve(n));const i=_t(n),o=await nr(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bp).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tc(n),l}),a=await At._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function aE(n,e,t){return Oe(n.app)?Promise.reject(Ve(n)):Cp(pe(n),ln.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&tc(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(n,e){return De(n,"POST","/v1/accounts:createAuthUri",Je(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lE(n,e){const t=Ll()?Ai():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:s}=await Ip(pe(n),i);return s||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(n,e){return De(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=pe(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await Qt(i,xp(i.auth,r));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function dE(n,e){return _t(n).validatePassword(e)}function Pp(n,e,t,i){return pe(n).onIdTokenChanged(e,t,i)}function Ap(n,e,t){return pe(n).beforeAuthStateChanged(e,t)}function uE(n,e,t,i){return pe(n).onAuthStateChanged(e,t,i)}const Oi="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oi,"1"),this.storage.removeItem(Oi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=1e3,Rp=10;class ic extends nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);Qh()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Rp):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Mp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ic.type="LOCAL";const Op=ic;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sc.type="SESSION";const rc=sc;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new ts(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,r)),l=await Np(a);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ts.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Hr("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(){return window}function kp(n){Le().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(){return typeof Le().WorkerGlobalScope<"u"&&typeof Le().importScripts=="function"}async function Dp(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fp(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Bp(){return oc()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="firebaseLocalStorageDb",zp=1,Ni="firebaseLocalStorage",lc="fbase_key";class Jn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ns(n,e){return n.transaction([Ni],e?"readwrite":"readonly").objectStore(Ni)}function Up(){const n=indexedDB.deleteDatabase(ac);return new Jn(n).toPromise()}function ir(){const n=indexedDB.open(ac,zp);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ni,{keyPath:lc})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ni)?e(i):(i.close(),await Up(),e(await ir()))})})}async function ta(n,e,t){const i=ns(n,!0).put({[lc]:e,value:t});return new Jn(i).toPromise()}async function Hp(n,e){const t=ns(n,!1).get(e),i=await new Jn(t).toPromise();return i===void 0?null:i.value}function na(n,e){const t=ns(n,!0).delete(e);return new Jn(t).toPromise()}const $p=800,Wp=3;class cc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ir(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Wp)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ts._getInstance(Bp()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Dp(),!this.activeServiceWorker)return;this.sender=new Lp(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fp()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ir();return await ta(e,Oi,"1"),await na(e,Oi),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ta(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Hp(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>na(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=ns(s,!1).getAll();return new Jn(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$p)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cc.type="LOCAL";const Vp=cc;new Xn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){return e?He(e):(V(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends zr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jp(n){return ec(n.auth,new $r(n),n.bypassAuthState)}function qp(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),Sp(t,new $r(n),n.bypassAuthState)}async function Yp(n){const{auth:e,user:t}=n;return V(t,e,"internal-error"),Tp(t,new $r(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jp;case"linkViaPopup":case"linkViaRedirect":return Yp;case"reauthViaPopup":case"reauthViaRedirect":return qp;default:Ae(this.auth,"internal-error")}}resolve(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Xn(2e3,1e4);class zt extends dc{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,zt.currentPopupAction&&zt.currentPopupAction.cancel(),zt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Ye(this.filter.length===1,"Popup operations only handle one event");const e=Hr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ne(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xp.get())};e()}}zt.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="pendingRedirect",yi=new Map;class Qp extends dc{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yi.get(this.auth._key());if(!e){try{const i=await Jp(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yi.set(this.auth._key(),e)}return this.bypassAuthState||yi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Jp(n,e){const t=tm(e),i=em(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Zp(n,e){yi.set(n._key(),e)}function em(n){return He(n._redirectPersistence)}function tm(n){return _i(Kp,n.config.apiKey,n.name)}async function nm(n,e,t=!1){if(Oe(n.app))return Promise.reject(Ve(n));const i=_t(n),s=Gp(i,e),o=await new Qp(i,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=10*60*1e3;class sm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rm(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!uc(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ne(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=im&&this.cachedEventUids.clear(),this.cachedEventUids.has(ia(e))}saveEventToCache(e){this.cachedEventUids.add(ia(e)),this.lastProcessedEventTime=Date.now()}}function ia(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uc({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uc(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(n,e={}){return De(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lm=/^https?/;async function cm(n){if(n.config.emulator)return;const{authorizedDomains:e}=await om(n);for(const t of e)try{if(dm(t))return}catch{}Ae(n,"unauthorized-domain")}function dm(n){const e=Ai(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!lm.test(t))return!1;if(am.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Xn(3e4,6e4);function sa(){const n=Le().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function fm(n){return new Promise((e,t)=>{var i,s,r;function o(){sa(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sa(),t(Ne(n,"network-request-failed"))},timeout:um.get()})}if(!((s=(i=Le().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Le().gapi)===null||r===void 0)&&r.load)o();else{const a=op("iframefcb");return Le()[a]=()=>{gapi.load?o():t(Ne(n,"network-request-failed"))},Kl(`${rp()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wi=null,e})}let wi=null;function hm(n){return wi=wi||fm(n),wi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Xn(5e3,15e3),mm="__/auth/iframe",gm="emulator/auth/iframe",vm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_m=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ym(n){const e=n.config;V(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dr(e,gm):`https://${n.config.authDomain}/${mm}`,i={apiKey:e.apiKey,appName:n.name,v:an},s=_m.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${on(i).slice(1)}`}async function wm(n){const e=await hm(n),t=Le().gapi;return V(t,n,"internal-error"),e.open({where:document.body,url:ym(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vm,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Ne(n,"network-request-failed"),a=Le().setTimeout(()=>{r(o)},pm.get());function l(){Le().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bm=500,Tm=600,Sm="_blank",Cm="http://localhost";class ra{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Im(n,e,t,i=bm,s=Tm){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Em),{width:i.toString(),height:s.toString(),top:r,left:o}),c=ve().toLowerCase();t&&(a=Wl(c)?Sm:t),Hl(c)&&(e=e||Cm,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(Kh(c)&&a!=="_self")return xm(e||"",a),new ra(null);const d=window.open(e||"",a,u);V(d,n,"popup-blocked");try{d.focus()}catch{}return new ra(d)}function xm(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="__/auth/handler",Am="emulator/auth/handler",Mm=encodeURIComponent("fac");async function oa(n,e,t,i,s,r){V(n.config.authDomain,n,"auth-domain-config-required"),V(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:an,eventId:s};if(e instanceof Jl){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Xs(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof Qn){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Mm}=${encodeURIComponent(l)}`:"";return`${Rm(n)}?${on(a).slice(1)}${c}`}function Rm({config:n}){return n.emulator?Dr(n,Am):`https://${n.authDomain}/${Pm}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="webStorageSupport";class Om{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=nm,this._overrideRedirectResult=Zp}async _openPopup(e,t,i,s){var r;Ye((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await oa(e,t,i,Ai(),s);return Im(e,o,Hr())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await oa(e,t,i,Ai(),s);return kp(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(Ye(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wm(e),i=new sm(e);return t.register("authEvent",s=>(V(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(As,{type:As},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[As];o!==void 0&&t(!!o),Ae(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yl()||$l()||Br()}}const Nm=Om;var aa="@firebase/auth",la="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Dm(n){Kt(new xt("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xl(n)},c=new np(i,s,r,l);return up(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Kt(new xt("auth-internal",e=>{const t=_t(e.getProvider("auth").getImmediate());return(i=>new Lm(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(aa,la,km(n)),dt(aa,la,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=5*60,Bm=bl("authIdTokenMaxAge")||Fm;let ca=null;const zm=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Bm)return;const s=t==null?void 0:t.token;ca!==s&&(ca=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fE(n=Pl()){const e=Nr(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dp(n,{popupRedirectResolver:Nm,persistence:[Vp,Op,rc]}),i=bl("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const o=zm(r.toString());Ap(t,o,()=>o(t.currentUser)),Pp(t,a=>o(a))}}const s=wl("auth");return s&&fp(t,`http://${s}`),t}function Um(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ip({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=Ne("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",Um().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Dm("Browser");const da="@firebase/database",ua="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="";function Hm(n){fc=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),re(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Nn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Qe(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $m(e)}}catch{}return new Wm},Tt=hc("localStorage"),sr=hc("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt=new Rr("@firebase/database"),Vm=function(){let n=1;return function(){return n++}}(),pc=function(n){const e=bf(n),t=new _f;t.update(e);const i=t.digest();return xr.encodeByteArray(i)},Zn=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Zn.apply(null,i):typeof i=="object"?e+=re(i):e+=i,e+=" "}return e};let Ct=null,fa=!0;const Gm=function(n,e){z(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Vt.logLevel=Z.VERBOSE,Ct=Vt.log.bind(Vt),e&&sr.set("logging_enabled",!0)):typeof n=="function"?Ct=n:(Ct=null,sr.remove("logging_enabled"))},he=function(...n){if(fa===!0&&(fa=!1,Ct===null&&sr.get("logging_enabled")===!0&&Gm(!0)),Ct){const e=Zn.apply(null,n);Ct(e)}},ei=function(n){return function(...e){he(n,...e)}},rr=function(...n){const e="FIREBASE INTERNAL ERROR: "+Zn(...n);Vt.error(e)},Xe=function(...n){const e=`FIREBASE FATAL ERROR: ${Zn(...n)}`;throw Vt.error(e),new Error(e)},ye=function(...n){const e="FIREBASE WARNING: "+Zn(...n);Vt.warn(e)},jm=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mc=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qm=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Jt="[MIN_NAME]",Mt="[MAX_NAME]",cn=function(n,e){if(n===e)return 0;if(n===Jt||e===Mt)return-1;if(e===Jt||n===Mt)return 1;{const t=ha(n),i=ha(e);return t!==null?i!==null?t-i===0?n.length-e.length:t-i:-1:i!==null?1:n<e?-1:1}},Ym=function(n,e){return n===e?0:n<e?-1:1},gn=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+re(e))},Wr=function(n){if(typeof n!="object"||n===null)return re(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)i!==0&&(t+=","),t+=re(e[i]),t+=":",t+=Wr(n[e[i]]);return t+="}",t},gc=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let s=0;s<t;s+=e)s+e>t?i.push(n.substring(s,t)):i.push(n.substring(s,s+e));return i};function we(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const vc=function(n){z(!mc(n),"Invalid JSON number");const e=11,t=52,i=(1<<e-1)-1;let s,r,o,a,l;n===0?(r=0,o=0,s=1/n===-1/0?1:0):(s=n<0,n=Math.abs(n),n>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),r=a+i,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(r=0,o=Math.round(n/Math.pow(2,1-i-t))));const c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Xm=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Km=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Qm(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}const Jm=new RegExp("^-?(0*)\\d{1,10}$"),Zm=-2147483648,eg=2147483647,ha=function(n){if(Jm.test(n)){const e=Number(n);if(e>=Zm&&e<=eg)return e}return null},dn=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ye("Exception was thrown by user callback.",t),e},Math.floor(0))}},tg=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xn=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(he("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ye(e)}}class Gt{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gt.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="5",_c="v",yc="s",wc="r",Ec="f",bc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tc="ls",Sc="p",or="ac",Cc="websocket",Ic="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,i,s,r=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function sg(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Pc(n,e,t){z(typeof e=="string","typeof type must == string"),z(typeof t=="object","typeof params must == object");let i;if(e===Cc)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Ic)i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sg(n)&&(t.ns=n.namespace);const s=[];return we(t,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.counters_={}}incrementCounter(e,t=1){Qe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ef(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms={},Rs={};function Gr(n){const e=n.toString();return Ms[e]||(Ms[e]=new rg),Ms[e]}function og(n,e){const t=n.toString();return Rs[t]||(Rs[t]=e()),Rs[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&dn(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="start",lg="close",cg="pLPCommand",dg="pRTLPCB",Ac="id",Mc="pw",Rc="ser",ug="cb",fg="seg",hg="ts",pg="d",mg="dframe",Oc=1870,Nc=30,gg=Oc-Nc,vg=25e3,_g=3e4;class Ut{constructor(e,t,i,s,r,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ei(e),this.stats_=Gr(t),this.urlFn=l=>(this.appCheckToken&&(l[or]=this.appCheckToken),Pc(t,Ic,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ag(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_g)),qm(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jr((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===pa)this.id=a,this.password=l;else if(o===lg)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[pa]="t",i[Rc]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[ug]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_c]=Vr,this.transportSessionId&&(i[yc]=this.transportSessionId),this.lastSessionId&&(i[Tc]=this.lastSessionId),this.applicationId&&(i[Sc]=this.applicationId),this.appCheckToken&&(i[or]=this.appCheckToken),typeof location<"u"&&location.hostname&&bc.test(location.hostname)&&(i[wc]=Ec);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ut.forceAllow_=!0}static forceDisallow(){Ut.forceDisallow_=!0}static isAvailable(){return Ut.forceAllow_?!0:!Ut.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Xm()&&!Km()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=re(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=_l(t),s=gc(i,gg);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={};i[mg]="t",i[Ac]=e,i[Mc]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=re(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class jr{constructor(e,t,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Vm(),window[cg+this.uniqueCallbackIdentifier]=e,window[dg+this.uniqueCallbackIdentifier]=t,this.myIFrame=jr.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){he("frame writing exception"),a.stack&&he(a.stack),he(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||he("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ac]=this.myID,e[Mc]=this.myPW,e[Rc]=this.currentSerial;let t=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Nc+i.length<=Oc;){const o=this.pendingSegs.shift();i=i+"&"+fg+s+"="+o.seg+"&"+hg+s+"="+o.ts+"&"+pg+s+"="+o.d,s++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(i,Math.floor(vg)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{he("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=16384,wg=45e3;let Li=null;typeof MozWebSocket<"u"?Li=MozWebSocket:typeof WebSocket<"u"&&(Li=WebSocket);class Ce{constructor(e,t,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ei(this.connId),this.stats_=Gr(t),this.connURL=Ce.connectionURL_(t,o,a,s,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,i,s,r){const o={};return o[_c]=Vr,typeof location<"u"&&location.hostname&&bc.test(location.hostname)&&(o[wc]=Ec),t&&(o[yc]=t),i&&(o[Tc]=i),s&&(o[or]=s),r&&(o[Sc]=r),Pc(e,Cc,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tt.set("previous_websocket_failure",!0);try{let i;Sl(),this.mySock=new Li(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ce.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(t);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Li!==null&&!Ce.forceDisallow_}static previouslyFailed(){return Tt.isInMemoryStorage||Tt.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const i=Nn(t);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const i=this.extractFrameCount_(t);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const t=re(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=gc(t,yg);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wg))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ce.responsesRequiredToBeHealthy=2;Ce.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ut,Ce]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Ce&&Ce.isAvailable();let i=t&&!Ce.previouslyFailed();if(e.webSocketOnly&&(t||ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ce];else{const s=this.transports_=[];for(const r of Dn.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);Dn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dn.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=6e4,bg=5e3,Tg=10*1024,Sg=100*1024,Os="t",ma="d",Cg="s",ga="r",Ig="e",va="o",_a="a",ya="n",wa="p",xg="h";class Pg{constructor(e,t,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ei("c:"+this.id+":"),this.transportManager_=new Dn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=xn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Sg?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Tg?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Os in e){const t=e[Os];t===_a?this.upgradeIfSecondaryHealthy_():t===ga?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===va&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gn("t",e),i=gn("d",e);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wa,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_a,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ya,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gn("t",e),i=gn("d",e);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gn(Os,e);if(ma in e){const i=e[ma];if(t===xg){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===ya){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Cg?this.onConnectionShutdown_(i):t===ga?this.onReset_(i):t===Ig?rr("Server Error: "+i):t===va?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rr("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Vr!==i&&ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),xn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Eg))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bg))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wa,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{put(e,t,i,s){}merge(e,t,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const s=this.getInitialEvent(e);s&&t.apply(i,s)}off(e,t,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){z(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends kc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ar()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ki}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=32,ba=768;class ee{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Q(){return new ee("")}function X(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pt(n){return n.pieces_.length-n.pieceNum_}function te(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ee(n.pieces_,e)}function Dc(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ag(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Fc(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Bc(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ee(e,0)}function oe(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ee)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&t.push(i[s])}return new ee(t,0)}function Y(n){return n.pieceNum_>=n.pieces_.length}function ge(n,e){const t=X(n),i=X(e);if(t===null)return e;if(t===i)return ge(te(n),te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function zc(n,e){if(pt(n)!==pt(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ie(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(pt(n)>pt(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Mg{constructor(e,t){this.errorPrefix_=t,this.parts_=Fc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Zi(this.parts_[i]);Uc(this)}}function Rg(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Zi(e),Uc(n)}function Og(n){const e=n.parts_.pop();n.byteLength_-=Zi(e),n.parts_.length>0&&(n.byteLength_-=1)}function Uc(n){if(n.byteLength_>ba)throw new Error(n.errorPrefix_+"has a key path longer than "+ba+" bytes ("+n.byteLength_+").");if(n.parts_.length>Ea)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ea+") or object contains a cycle "+bt(n))}function bt(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends kc{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qr}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=1e3,Ng=60*5*1e3,Ta=30*1e3,Lg=1.3,kg=3e4,Dg="server_kill",Sa=3;class Ge extends Lc{constructor(e,t,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ge.nextPersistentConnectionId_++,this.log_=ei("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vn,this.maxReconnectDelay_=Ng,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Sl())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qr.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ki.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,i){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(re(r)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const t=new Ji,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:t,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(i)})}sendListen_(e){const t=e.query,i=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Ge.warnOnListenWarnings_(l,t),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Qe(e,"w")){const i=Xt(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vf(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ta)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=gf(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(t,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,i=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,i)})}unlisten(e,t){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,t)}sendUnlisten_(e,t,i,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:i})}onDisconnectMerge(e,t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:i})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,i,s){const r={p:t,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,t,i,s){this.putInternal("p",e,t,i,s)}merge(e,t,i,s){this.putInternal("m",e,t,i,s)}putInternal(e,t,i,s,r){this.initConnection_();const o={p:t,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,i,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+re(e));const t=e.r,i=this.requestCBHash_[t];i&&(delete this.requestCBHash_[t],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):rr("Unrecognized action received from server: "+re(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kg&&(this.reconnectDelay_=vn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lg)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Ge.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){z(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?he("getToken() completed but was canceled"):(he("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Pg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,i,p=>{ye(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dg)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ye(d),l())}}}interrupt(e){he("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){he("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xs(this.interruptReasons_)&&(this.reconnectDelay_=vn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let i;t?i=t.map(r=>Wr(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const i=new ee(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,t){he("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sa&&(this.reconnectDelay_=Ta,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){he("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sa&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+fc.replace(/\./g,"-")]=1,Ar()?e["framework.cordova"]=1:Tl()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ki.getInstance().currentlyOnline();return Xs(this.interruptReasons_)&&e}}Ge.nextPersistentConnectionId_=0;Ge.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new G(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new G(Jt,e),s=new G(Jt,t);return this.compare(i,s)!==0}minPost(){return G.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di;class Hc extends is{static get __EMPTY_NODE(){return di}static set __EMPTY_NODE(e){di=e}compare(e,t){return cn(e.name,t.name)}isDefinedOn(e){throw rn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return G.MIN}maxPost(){return new G(Mt,di)}makePost(e,t){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,di)}toString(){return".key"}}const jt=new Hc;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ce{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??ce.RED,this.left=s??_e.EMPTY_NODE,this.right=r??_e.EMPTY_NODE}copy(e,t,i,s,r){return new ce(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return _e.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let i,s;if(i=this,t(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),t(e,i.key)===0){if(i.right.isEmpty())return _e.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ce.RED=!0;ce.BLACK=!1;class Fg{copy(e,t,i,s,r){return this}insert(e,t,i){return new ce(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _e{constructor(e,t=_e.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new _e(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ce.BLACK,null,null))}remove(e){return new _e(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ce.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,s=null;for(;!i.isEmpty();)if(t=this.comparator_(e,i.key),t===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ui(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ui(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ui(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ui(this.root_,null,this.comparator_,!0,e)}}_e.EMPTY_NODE=new Fg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n,e){return cn(n.name,e.name)}function Yr(n,e){return cn(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar;function zg(n){ar=n}const $c=function(n){return typeof n=="number"?"number:"+vc(n):"string:"+n},Wc=function(n){if(n.isLeafNode()){const e=n.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qe(e,".sv"),"Priority must be a string or number.")}else z(n===ar||n.isEmpty(),"priority of unexpected type.");z(n===ar||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca;class le{constructor(e,t=le.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wc(this.priorityNode_)}static set __childrenNodeConstructor(e){Ca=e}static get __childrenNodeConstructor(){return Ca}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new le(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Y(e)?this:X(e)===".priority"?this.priorityNode_:le.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:le.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const i=X(e);return i===null?t:t.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||pt(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,le.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+$c(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=vc(this.value_):e+=this.value_,this.lazyHash_=pc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===le.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof le.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,i=typeof this.value_,s=le.VALUE_TYPE_ORDER.indexOf(t),r=le.VALUE_TYPE_ORDER.indexOf(i);return z(s>=0,"Unknown leaf type: "+t),z(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}le.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc,Gc;function Ug(n){Vc=n}function Hg(n){Gc=n}class $g extends is{compare(e,t){const i=e.node.getPriority(),s=t.node.getPriority(),r=i.compareTo(s);return r===0?cn(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return G.MIN}maxPost(){return new G(Mt,new le("[PRIORITY-POST]",Gc))}makePost(e,t){const i=Vc(e);return new G(t,new le("[PRIORITY-POST]",i))}toString(){return".priority"}}const ie=new $g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=Math.log(2);class Vg{constructor(e){const t=r=>parseInt(Math.log(r)/Wg,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Di=function(n,e,t,i){n.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=n[l],f=t?t(d):d,new ce(f,d.node,ce.BLACK,null,null);{const p=parseInt(u/2,10)+l,h=s(l,p),m=s(p+1,c);return d=n[p],f=t?t(d):d,new ce(f,d.node,ce.BLACK,h,m)}},r=function(l){let c=null,u=null,d=n.length;const f=function(h,m){const g=d-h,w=d;d-=h;const E=s(g+1,w),y=n[g],b=t?t(y):y;p(new ce(b,y.node,m,null,E))},p=function(h){c?(c.left=h,c=h):(u=h,c=h)};for(let h=0;h<l.count;++h){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(h+1));m?f(g,ce.BLACK):(f(g,ce.BLACK),f(g,ce.RED))}return u},o=new Vg(n.length),a=r(o);return new _e(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns;const Ft={};class $e{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return z(Ft&&ie,"ChildrenNode.ts has not been loaded"),Ns=Ns||new $e({".priority":Ft},{".priority":ie}),Ns}get(e){const t=Xt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof _e?t:null}hasIndex(e){return Qe(this.indexSet_,e.toString())}addIndex(e,t){z(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=t.getIterator(G.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Di(i,e.getCompare()):a=Ft;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new $e(u,c)}addToIndexes(e,t){const i=Ci(this.indexes_,(s,r)=>{const o=Xt(this.indexSet_,r);if(z(o,"Missing index implementation for "+r),s===Ft)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(G.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Di(a,o.getCompare())}else return Ft;else{const a=t.get(e.name);let l=s;return a&&(l=l.remove(new G(e.name,a))),l.insert(e,e.node)}});return new $e(i,this.indexSet_)}removeFromIndexes(e,t){const i=Ci(this.indexes_,s=>{if(s===Ft)return s;{const r=t.get(e.name);return r?s.remove(new G(e.name,r)):s}});return new $e(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n;class W{constructor(e,t,i){this.children_=e,this.priorityNode_=t,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Wc(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _n||(_n=new W(new _e(Yr),null,$e.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_n}updatePriority(e){return this.children_.isEmpty()?this:new W(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?_n:t}}getChild(e){const t=X(e);return t===null?this:this.getImmediateChild(t).getChild(te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(z(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const i=new G(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?_n:this.priorityNode_;return new W(s,o,r)}}updateChild(e,t){const i=X(e);if(i===null)return t;{z(X(e)!==".priority"||pt(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(te(e),t);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let i=0,s=0,r=!0;if(this.forEachChild(ie,(o,a)=>{t[o]=a.val(e),i++,r&&W.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+$c(this.getPriority().val())+":"),this.forEachChild(ie,(t,i)=>{const s=i.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":pc(e)}return this.lazyHash_}getPredecessorChildName(e,t,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new G(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new G(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const i=t.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new G(t,this.children_.get(t)):null}forEachChild(e,t){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,G.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const i=this.resolveIndex_(t);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,G.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ti?-1:0}withIndex(e){if(e===jt||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new W(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===jt||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const i=this.getIterator(ie),s=t.getIterator(ie);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===jt?null:this.indexMap_.get(e.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gg extends W{constructor(){super(new _e(Yr),W.EMPTY_NODE,$e.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}}const ti=new Gg;Object.defineProperties(G,{MIN:{value:new G(Jt,W.EMPTY_NODE)},MAX:{value:new G(Mt,ti)}});Hc.__EMPTY_NODE=W.EMPTY_NODE;le.__childrenNodeConstructor=W;zg(ti);Hg(ti);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=!0;function de(n,e=null){if(n===null)return W.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new le(t,de(e))}if(!(n instanceof Array)&&jg){const t=[];let i=!1;if(we(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=de(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new G(o,l)))}}),t.length===0)return W.EMPTY_NODE;const r=Di(t,Bg,o=>o.name,Yr);if(i){const o=Di(t,ie.getCompare());return new W(r,de(e),new $e({".priority":o},{".priority":ie}))}else return new W(r,de(e),$e.Default)}else{let t=W.EMPTY_NODE;return we(n,(i,s)=>{if(Qe(n,i)&&i.substring(0,1)!=="."){const r=de(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(i,r))}}),t.updatePriority(de(e))}}Ug(de);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg extends is{constructor(e){super(),this.indexPath_=e,z(!Y(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),s=this.extractChild(t.node),r=i.compareTo(s);return r===0?cn(e.name,t.name):r}makePost(e,t){const i=de(e),s=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new G(t,s)}maxPost(){const e=W.EMPTY_NODE.updateChild(this.indexPath_,ti);return new G(Mt,e)}toString(){return Fc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends is{compare(e,t){const i=e.node.compareTo(t.node);return i===0?cn(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,t){const i=de(e);return new G(t,i)}toString(){return".value"}}const Xg=new Yg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(n){return{type:"value",snapshotNode:n}}function Zt(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Fn(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Bn(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function Kg(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.index_=e}updateChild(e,t,i,s,r,o){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Fn(t,a)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Zt(t,i)):o.trackChildChange(Bn(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ie,(s,r)=>{t.hasChild(s)||i.trackChildChange(Fn(s,r))}),t.isLeafNode()||t.forEachChild(ie,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(Bn(s,r,o))}else i.trackChildChange(Zt(s,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.indexedFilter_=new Xr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zn.getStartPost_(e),this.endPost_=zn.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,s,r,o){return this.matches(new G(t,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,s,r,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=W.EMPTY_NODE);let s=t.withIndex(this.index_);s=s.updatePriority(W.EMPTY_NODE);const r=this;return t.forEachChild(ie,(o,a)=>{r.matches(new G(o,a))||(s=s.updateImmediateChild(o,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new zn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,s,r,o){return this.rangedFilter_.matches(new G(t,i))||(i=W.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,s,r,o):this.fullLimitUpdateChild_(e,t,i,r,o)}updateFullNode(e,t,i){let s;if(t.isLeafNode()||t.isEmpty())s=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){s=W.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=t.withIndex(this.index_),s=s.updatePriority(W.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;z(a.numChildren()===this.limit_,"");const l=new G(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!i.isEmpty()&&p>=0)return r!=null&&r.trackChildChange(Bn(t,i,d)),a.updateImmediateChild(t,i);{r!=null&&r.trackChildChange(Fn(t,d));const m=a.updateImmediateChild(t,W.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(r!=null&&r.trackChildChange(Zt(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(Fn(c.name,c.node)),r.trackChildChange(Zt(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,W.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jt}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){const e=new Kr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jg(n){return n.loadsAllData()?new Xr(n.getIndex()):n.hasLimit()?new Qg(n):new zn(n)}function Ia(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ie?t="$priority":n.index_===Xg?t="$value":n.index_===jt?t="$key":(z(n.index_ instanceof qg,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=re(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=re(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+re(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=re(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+re(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function xa(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==ie&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Lc{constructor(e,t,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=ei("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Fi.getListenId_(e,i),a={};this.listens_[o]=a;const l=Ia(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),Xt(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,t){const i=Fi.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Ia(e._queryParams),i=e._path.toString(),s=new Ji;return this.restRequest_(i+".json",t,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+on(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Nn(a.responseText)}catch{ye("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&ye("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return{value:null,children:new Map}}function qc(n,e,t){if(Y(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const i=X(e);n.children.has(i)||n.children.set(i,Bi());const s=n.children.get(i);e=te(e),qc(s,e,t)}}function lr(n,e,t){n.value!==null?t(e,n.value):ev(n,(i,s)=>{const r=new ee(e.toString()+"/"+i);lr(s,r,t)})}function ev(n,e){n.children.forEach((t,i)=>{e(i,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&we(this.last_,(i,s)=>{t[i]=t[i]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=10*1e3,nv=30*1e3,iv=5*60*1e3;class sv{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tv(e);const i=Pa+(nv-Pa)*Math.random();xn(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;we(e,(s,r)=>{r>0&&Qe(this.statsToReport_,s)&&(t[s]=r,i=!0)}),i&&this.server_.reportStats(t),xn(this.reportStats_.bind(this),Math.floor(Math.random()*2*iv))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xe||(xe={}));function Yc(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Jr(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=xe.ACK_USER_WRITE,this.source=Yc()}operationForChild(e){if(Y(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ee(e));return new zi(Q(),t,this.revert)}}else return z(X(this.path)===e,"operationForChild called for unrelated child."),new zi(te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.source=e,this.path=t,this.type=xe.LISTEN_COMPLETE}operationForChild(e){return Y(this.path)?new Un(this.source,Q()):new Un(this.source,te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=xe.OVERWRITE}operationForChild(e){return Y(this.path)?new Rt(this.source,Q(),this.snap.getImmediateChild(e)):new Rt(this.source,te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=xe.MERGE}operationForChild(e){if(Y(this.path)){const t=this.children.subtree(new ee(e));return t.isEmpty()?null:t.value?new Rt(this.source,Q(),t.value):new Hn(this.source,Q(),t)}else return z(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Hn(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Y(e))return this.isFullyInitialized()&&!this.filtered_;const t=X(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ov(n,e,t,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(Kg(o.childName,o.snapshotNode))}),yn(n,s,"child_removed",e,i,t),yn(n,s,"child_added",e,i,t),yn(n,s,"child_moved",r,i,t),yn(n,s,"child_changed",e,i,t),yn(n,s,"value",e,i,t),s}function yn(n,e,t,i,s,r){const o=i.filter(a=>a.type===t);o.sort((a,l)=>lv(n,a,l)),o.forEach(a=>{const l=av(n,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function av(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function lv(n,e,t){if(e.childName==null||t.childName==null)throw rn("Should only compare child_ events.");const i=new G(e.childName,e.snapshotNode),s=new G(t.childName,t.snapshotNode);return n.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n,e){return{eventCache:n,serverCache:e}}function Pn(n,e,t,i){return ss(new mt(e,t,i),n.serverCache)}function Xc(n,e,t,i){return ss(n.eventCache,new mt(e,t,i))}function Ui(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ot(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls;const cv=()=>(Ls||(Ls=new _e(Ym)),Ls);class ne{constructor(e,t=cv()){this.value=e,this.children=t}static fromObject(e){let t=new ne(null);return we(e,(i,s)=>{t=t.set(new ee(i),s)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Q(),value:this.value};if(Y(e))return null;{const i=X(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(te(e),t);return r!=null?{path:oe(new ee(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Y(e))return this;{const t=X(e),i=this.children.get(t);return i!==null?i.subtree(te(e)):new ne(null)}}set(e,t){if(Y(e))return new ne(t,this.children);{const i=X(e),r=(this.children.get(i)||new ne(null)).set(te(e),t),o=this.children.insert(i,r);return new ne(this.value,o)}}remove(e){if(Y(e))return this.children.isEmpty()?new ne(null):new ne(null,this.children);{const t=X(e),i=this.children.get(t);if(i){const s=i.remove(te(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new ne(null):new ne(this.value,r)}else return this}}get(e){if(Y(e))return this.value;{const t=X(e),i=this.children.get(t);return i?i.get(te(e)):null}}setTree(e,t){if(Y(e))return t;{const i=X(e),r=(this.children.get(i)||new ne(null)).setTree(te(e),t);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new ne(this.value,o)}}fold(e){return this.fold_(Q(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(oe(e,s),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Q(),t)}findOnPath_(e,t,i){const s=this.value?i(t,this.value):!1;if(s)return s;if(Y(e))return null;{const r=X(e),o=this.children.get(r);return o?o.findOnPath_(te(e),oe(t,r),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Q(),t)}foreachOnPath_(e,t,i){if(Y(e))return this;{this.value&&i(t,this.value);const s=X(e),r=this.children.get(s);return r?r.foreachOnPath_(te(e),oe(t,s),i):new ne(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,t){this.children.inorderTraversal((i,s)=>{s.foreach_(oe(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.writeTree_=e}static empty(){return new Pe(new ne(null))}}function An(n,e,t){if(Y(e))return new Pe(new ne(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=ge(s,e);return r=r.updateChild(o,t),new Pe(n.writeTree_.set(s,r))}else{const s=new ne(t),r=n.writeTree_.setTree(e,s);return new Pe(r)}}}function Aa(n,e,t){let i=n;return we(t,(s,r)=>{i=An(i,oe(e,s),r)}),i}function Ma(n,e){if(Y(e))return Pe.empty();{const t=n.writeTree_.setTree(e,new ne(null));return new Pe(t)}}function cr(n,e){return Lt(n,e)!=null}function Lt(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(ge(t.path,e)):null}function Ra(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ie,(i,s)=>{e.push(new G(i,s))}):n.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new G(i,s.value))}),e}function ut(n,e){if(Y(e))return n;{const t=Lt(n,e);return t!=null?new Pe(new ne(t)):new Pe(n.writeTree_.subtree(e))}}function dr(n){return n.writeTree_.isEmpty()}function en(n,e){return Kc(Q(),n.writeTree_,e)}function Kc(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(z(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):t=Kc(oe(n,s),r,t)}),!t.getChild(n).isEmpty()&&i!==null&&(t=t.updateChild(oe(n,".priority"),i)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,e){return ed(e,n)}function dv(n,e,t,i,s){z(i>n.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:s}),s&&(n.visibleWrites=An(n.visibleWrites,e,t)),n.lastWriteId=i}function uv(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}function fv(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);z(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let s=i.visible,r=!1,o=n.allWrites.length-1;for(;s&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&hv(a,i.path)?s=!1:Ie(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return pv(n),!0;if(i.snap)n.visibleWrites=Ma(n.visibleWrites,i.path);else{const a=i.children;we(a,l=>{n.visibleWrites=Ma(n.visibleWrites,oe(i.path,l))})}return!0}else return!1}function hv(n,e){if(n.snap)return Ie(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ie(oe(n.path,t),e))return!0;return!1}function pv(n){n.visibleWrites=Qc(n.allWrites,mv,Q()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function mv(n){return n.visible}function Qc(n,e,t){let i=Pe.empty();for(let s=0;s<n.length;++s){const r=n[s];if(e(r)){const o=r.path;let a;if(r.snap)Ie(t,o)?(a=ge(t,o),i=An(i,a,r.snap)):Ie(o,t)&&(a=ge(o,t),i=An(i,Q(),r.snap.getChild(a)));else if(r.children){if(Ie(t,o))a=ge(t,o),i=Aa(i,a,r.children);else if(Ie(o,t))if(a=ge(o,t),Y(a))i=Aa(i,Q(),r.children);else{const l=Xt(r.children,X(a));if(l){const c=l.getChild(te(a));i=An(i,Q(),c)}}}else throw rn("WriteRecord should have .snap or .children")}}return i}function Jc(n,e,t,i,s){if(!i&&!s){const r=Lt(n.visibleWrites,e);if(r!=null)return r;{const o=ut(n.visibleWrites,e);if(dr(o))return t;if(t==null&&!cr(o,Q()))return null;{const a=t||W.EMPTY_NODE;return en(o,a)}}}else{const r=ut(n.visibleWrites,e);if(!s&&dr(r))return t;if(!s&&t==null&&!cr(r,Q()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(Ie(c.path,e)||Ie(e,c.path))},a=Qc(n.allWrites,o,e),l=t||W.EMPTY_NODE;return en(a,l)}}}function gv(n,e,t){let i=W.EMPTY_NODE;const s=Lt(n.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ie,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(t){const r=ut(n.visibleWrites,e);return t.forEachChild(ie,(o,a)=>{const l=en(ut(r,new ee(o)),a);i=i.updateImmediateChild(o,l)}),Ra(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=ut(n.visibleWrites,e);return Ra(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function vv(n,e,t,i,s){z(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=oe(e,t);if(cr(n.visibleWrites,r))return null;{const o=ut(n.visibleWrites,r);return dr(o)?s.getChild(t):en(o,s.getChild(t))}}function _v(n,e,t,i){const s=oe(e,t),r=Lt(n.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(t)){const o=ut(n.visibleWrites,s);return en(o,i.getNode().getImmediateChild(t))}else return null}function yv(n,e){return Lt(n.visibleWrites,e)}function wv(n,e,t,i,s,r,o){let a;const l=ut(n.visibleWrites,e),c=Lt(l,Q());if(c!=null)a=c;else if(t!=null)a=en(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let p=f.getNext();for(;p&&u.length<s;)d(p,i)!==0&&u.push(p),p=f.getNext();return u}else return[]}function Ev(){return{visibleWrites:Pe.empty(),allWrites:[],lastWriteId:-1}}function Hi(n,e,t,i){return Jc(n.writeTree,n.treePath,e,t,i)}function Zr(n,e){return gv(n.writeTree,n.treePath,e)}function Oa(n,e,t,i){return vv(n.writeTree,n.treePath,e,t,i)}function $i(n,e){return yv(n.writeTree,oe(n.treePath,e))}function bv(n,e,t,i,s,r){return wv(n.writeTree,n.treePath,e,t,i,s,r)}function eo(n,e,t){return _v(n.writeTree,n.treePath,e,t)}function Zc(n,e){return ed(oe(n.treePath,e),n.writeTree)}function ed(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;z(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(i,Bn(i,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(i,Fn(i,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(i,Zt(i,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(i,Bn(i,e.snapshotNode,s.oldSnap));else throw rn("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}}const td=new Sv;class to{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new mt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eo(this.writes_,e,i)}}getChildAfterChild(e,t,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ot(this.viewCache_),r=bv(this.writes_,s,t,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){return{filter:n}}function Iv(n,e){z(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function xv(n,e,t,i,s){const r=new Tv;let o,a;if(t.type===xe.OVERWRITE){const c=t;c.source.fromUser?o=ur(n,e,c.path,c.snap,i,s,r):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Y(c.path),o=Wi(n,e,c.path,c.snap,i,s,a,r))}else if(t.type===xe.MERGE){const c=t;c.source.fromUser?o=Av(n,e,c.path,c.children,i,s,r):(z(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=fr(n,e,c.path,c.children,i,s,a,r))}else if(t.type===xe.ACK_USER_WRITE){const c=t;c.revert?o=Ov(n,e,c.path,i,s,r):o=Mv(n,e,c.path,c.affectedTree,i,s,r)}else if(t.type===xe.LISTEN_COMPLETE)o=Rv(n,e,t.path,i,r);else throw rn("Unknown operation type: "+t.type);const l=r.getChanges();return Pv(e,o,l),{viewCache:o,changes:l}}function Pv(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Ui(n);(t.length>0||!n.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&t.push(jc(Ui(e)))}}function nd(n,e,t,i,s,r){const o=e.eventCache;if($i(i,t)!=null)return e;{let a,l;if(Y(t))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ot(e),u=c instanceof W?c:W.EMPTY_NODE,d=Zr(i,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Hi(i,Ot(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=X(t);if(c===".priority"){z(pt(t)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Oa(i,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{const u=te(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Oa(i,t,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=eo(i,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return Pn(e,a,o.isFullyInitialized()||Y(t),n.filter.filtersNodes())}}function Wi(n,e,t,i,s,r,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(Y(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),p,null)}else{const p=X(t);if(!l.isCompleteForPath(t)&&pt(t)>1)return e;const h=te(t),g=l.getNode().getImmediateChild(p).updateChild(h,i);p===".priority"?c=u.updatePriority(l.getNode(),g):c=u.updateChild(l.getNode(),p,g,h,td,null)}const d=Xc(e,c,l.isFullyInitialized()||Y(t),u.filtersNodes()),f=new to(s,d,r);return nd(n,d,t,s,f,a)}function ur(n,e,t,i,s,r,o){const a=e.eventCache;let l,c;const u=new to(s,e,r);if(Y(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Pn(e,c,!0,n.filter.filtersNodes());else{const d=X(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),i),l=Pn(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=te(t),p=a.getNode().getImmediateChild(d);let h;if(Y(f))h=i;else{const m=u.getCompleteChild(d);m!=null?Dc(f)===".priority"&&m.getChild(Bc(f)).isEmpty()?h=m:h=m.updateChild(f,i):h=W.EMPTY_NODE}if(p.equals(h))l=e;else{const m=n.filter.updateChild(a.getNode(),d,h,f,u,o);l=Pn(e,m,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function Na(n,e){return n.eventCache.isCompleteForChild(e)}function Av(n,e,t,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=oe(t,l);Na(e,X(u))&&(a=ur(n,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=oe(t,l);Na(e,X(u))||(a=ur(n,a,u,c,s,r,o))}),a}function La(n,e,t){return t.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function fr(n,e,t,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Y(t)?c=i:c=new ne(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),h=La(n,p,f);l=Wi(n,l,new ee(d),h,s,r,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const h=e.serverCache.getNode().getImmediateChild(d),m=La(n,h,f);l=Wi(n,l,new ee(d),m,s,r,o,a)}}),l}function Mv(n,e,t,i,s,r,o){if($i(s,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(Y(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Wi(n,e,t,l.getNode().getChild(t),s,r,a,o);if(Y(t)){let c=new ne(null);return l.getNode().forEachChild(jt,(u,d)=>{c=c.set(new ee(u),d)}),fr(n,e,t,c,s,r,a,o)}else return e}else{let c=new ne(null);return i.foreach((u,d)=>{const f=oe(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),fr(n,e,t,c,s,r,a,o)}}function Rv(n,e,t,i,s){const r=e.serverCache,o=Xc(e,r.getNode(),r.isFullyInitialized()||Y(t),r.isFiltered());return nd(n,o,t,i,td,s)}function Ov(n,e,t,i,s,r){let o;if($i(i,t)!=null)return e;{const a=new to(i,e,s),l=e.eventCache.getNode();let c;if(Y(t)||X(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Hi(i,Ot(e));else{const d=e.serverCache.getNode();z(d instanceof W,"serverChildren would be complete if leaf node"),u=Zr(i,d)}u=u,c=n.filter.updateFullNode(l,u,r)}else{const u=X(t);let d=eo(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,te(t),a,r):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,W.EMPTY_NODE,te(t),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hi(i,Ot(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||$i(i,Q())!=null,Pn(e,c,o,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Xr(i.getIndex()),r=Jg(i);this.processor_=Cv(r);const o=t.serverCache,a=t.eventCache,l=s.updateFullNode(W.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(W.EMPTY_NODE,a.getNode(),null),u=new mt(l,o.isFullyInitialized(),s.filtersNodes()),d=new mt(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=ss(d,u),this.eventGenerator_=new rv(this.query_)}get query(){return this.query_}}function Lv(n){return n.viewCache_.serverCache.getNode()}function kv(n){return Ui(n.viewCache_)}function Dv(n,e){const t=Ot(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Y(e)&&!t.getImmediateChild(X(e)).isEmpty())?t.getChild(e):null}function ka(n){return n.eventRegistrations_.length===0}function Fv(n,e){n.eventRegistrations_.push(e)}function Da(n,e,t){const i=[];if(t){z(e==null,"A cancel should cancel all event registrations.");const s=n.query._path;n.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(t,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<n.eventRegistrations_.length;++r){const o=n.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=s}else n.eventRegistrations_=[];return i}function Fa(n,e,t,i){e.type===xe.MERGE&&e.source.queryId!==null&&(z(Ot(n.viewCache_),"We should always have a full cache before handling merges"),z(Ui(n.viewCache_),"Missing event cache, even though we have a server cache"));const s=n.viewCache_,r=xv(n.processor_,s,e,t,i);return Iv(n.processor_,r.viewCache),z(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,id(n,r.changes,r.viewCache.eventCache.getNode(),null)}function Bv(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ie,(r,o)=>{i.push(Zt(r,o))}),t.isFullyInitialized()&&i.push(jc(t.getNode())),id(n,i,t.getNode(),e)}function id(n,e,t,i){const s=i?[i]:n.eventRegistrations_;return ov(n.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vi;class sd{constructor(){this.views=new Map}}function zv(n){z(!Vi,"__referenceConstructor has already been defined"),Vi=n}function Uv(){return z(Vi,"Reference.ts has not been loaded"),Vi}function Hv(n){return n.views.size===0}function no(n,e,t,i){const s=e.source.queryId;if(s!==null){const r=n.views.get(s);return z(r!=null,"SyncTree gave us an op for an invalid query."),Fa(r,e,t,i)}else{let r=[];for(const o of n.views.values())r=r.concat(Fa(o,e,t,i));return r}}function rd(n,e,t,i,s){const r=e._queryIdentifier,o=n.views.get(r);if(!o){let a=Hi(t,s?i:null),l=!1;a?l=!0:i instanceof W?(a=Zr(t,i),l=!1):(a=W.EMPTY_NODE,l=!1);const c=ss(new mt(a,l,!1),new mt(i,s,!1));return new Nv(e,c)}return o}function $v(n,e,t,i,s,r){const o=rd(n,e,i,s,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),Fv(o,t),Bv(o,t)}function Wv(n,e,t,i){const s=e._queryIdentifier,r=[];let o=[];const a=gt(n);if(s==="default")for(const[l,c]of n.views.entries())o=o.concat(Da(c,t,i)),ka(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=n.views.get(s);l&&(o=o.concat(Da(l,t,i)),ka(l)&&(n.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!gt(n)&&r.push(new(Uv())(e._repo,e._path)),{removed:r,events:o}}function od(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function ft(n,e){let t=null;for(const i of n.views.values())t=t||Dv(i,e);return t}function ad(n,e){if(e._queryParams.loadsAllData())return os(n);{const i=e._queryIdentifier;return n.views.get(i)}}function ld(n,e){return ad(n,e)!=null}function gt(n){return os(n)!=null}function os(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gi;function Vv(n){z(!Gi,"__referenceConstructor has already been defined"),Gi=n}function Gv(){return z(Gi,"Reference.ts has not been loaded"),Gi}let jv=1;class Ba{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ne(null),this.pendingWriteTree_=Ev(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cd(n,e,t,i,s){return dv(n.pendingWriteTree_,e,t,i,s),s?ii(n,new Rt(Yc(),e,t)):[]}function St(n,e,t=!1){const i=uv(n.pendingWriteTree_,e);if(fv(n.pendingWriteTree_,e)){let r=new ne(null);return i.snap!=null?r=r.set(Q(),!0):we(i.children,o=>{r=r.set(new ee(o),!0)}),ii(n,new zi(i.path,r,t))}else return[]}function ni(n,e,t){return ii(n,new Rt(Qr(),e,t))}function qv(n,e,t){const i=ne.fromObject(t);return ii(n,new Hn(Qr(),e,i))}function Yv(n,e){return ii(n,new Un(Qr(),e))}function Xv(n,e,t){const i=so(n,t);if(i){const s=ro(i),r=s.path,o=s.queryId,a=ge(r,e),l=new Un(Jr(o),a);return oo(n,r,l)}else return[]}function dd(n,e,t,i,s=!1){const r=e._path,o=n.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||ld(o,e))){const l=Wv(o,e,t,i);Hv(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(r,(f,p)=>gt(p));if(u&&!d){const f=n.syncPointTree_.subtree(r);if(!f.isEmpty()){const p=Zv(f);for(let h=0;h<p.length;++h){const m=p[h],g=m.query,w=pd(n,m);n.listenProvider_.startListening(Mn(g),$n(n,g),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(Mn(e),null):c.forEach(f=>{const p=n.queryToTagMap.get(as(f));n.listenProvider_.stopListening(Mn(f),p)}))}e_(n,c)}return a}function ud(n,e,t,i){const s=so(n,i);if(s!=null){const r=ro(s),o=r.path,a=r.queryId,l=ge(o,e),c=new Rt(Jr(a),l,t);return oo(n,o,c)}else return[]}function Kv(n,e,t,i){const s=so(n,i);if(s){const r=ro(s),o=r.path,a=r.queryId,l=ge(o,e),c=ne.fromObject(t),u=new Hn(Jr(a),l,c);return oo(n,o,u)}else return[]}function Qv(n,e,t,i=!1){const s=e._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(s,(f,p)=>{const h=ge(f,s);r=r||ft(p,h),o=o||gt(p)});let a=n.syncPointTree_.get(s);a?(o=o||gt(a),r=r||ft(a,Q())):(a=new sd,n.syncPointTree_=n.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=W.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((p,h)=>{const m=ft(h,Q());m&&(r=r.updateImmediateChild(p,m))}));const c=ld(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=as(e);z(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=t_();n.queryToTagMap.set(f,p),n.tagToQueryMap.set(p,f)}const u=rs(n.pendingWriteTree_,s);let d=$v(a,e,t,u,r,l);if(!c&&!o&&!i){const f=ad(a,e);d=d.concat(n_(n,e,f))}return d}function io(n,e,t){const s=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=ge(o,e),c=ft(a,l);if(c)return c});return Jc(s,e,r,t,!0)}function Jv(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=ge(c,t);i=i||ft(u,d)});let s=n.syncPointTree_.get(t);s?i=i||ft(s,Q()):(s=new sd,n.syncPointTree_=n.syncPointTree_.set(t,s));const r=i!=null,o=r?new mt(i,!0,!1):null,a=rs(n.pendingWriteTree_,e._path),l=rd(s,e,a,r?o.getNode():W.EMPTY_NODE,r);return kv(l)}function ii(n,e){return fd(e,n.syncPointTree_,null,rs(n.pendingWriteTree_,Q()))}function fd(n,e,t,i){if(Y(n.path))return hd(n,e,t,i);{const s=e.get(Q());t==null&&s!=null&&(t=ft(s,Q()));let r=[];const o=X(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=Zc(i,o);r=r.concat(fd(a,l,c,u))}return s&&(r=r.concat(no(s,n,i,t))),r}}function hd(n,e,t,i){const s=e.get(Q());t==null&&s!=null&&(t=ft(s,Q()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=Zc(i,o),u=n.operationForChild(o);u&&(r=r.concat(hd(u,a,l,c)))}),s&&(r=r.concat(no(s,n,i,t))),r}function pd(n,e){const t=e.query,i=$n(n,t);return{hashFn:()=>(Lv(e)||W.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Xv(n,t._path,i):Yv(n,t._path);{const r=Qm(s,t);return dd(n,t,null,r)}}}}function $n(n,e){const t=as(e);return n.queryToTagMap.get(t)}function as(n){return n._path.toString()+"$"+n._queryIdentifier}function so(n,e){return n.tagToQueryMap.get(e)}function ro(n){const e=n.indexOf("$");return z(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ee(n.substr(0,e))}}function oo(n,e,t){const i=n.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const s=rs(n.pendingWriteTree_,e);return no(i,t,s,null)}function Zv(n){return n.fold((e,t,i)=>{if(t&&gt(t))return[os(t)];{let s=[];return t&&(s=od(t)),we(i,(r,o)=>{s=s.concat(o)}),s}})}function Mn(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(Gv())(n._repo,n._path):n}function e_(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const s=as(i),r=n.queryToTagMap.get(s);n.queryToTagMap.delete(s),n.tagToQueryMap.delete(r)}}}function t_(){return jv++}function n_(n,e,t){const i=e._path,s=$n(n,e),r=pd(n,t),o=n.listenProvider_.startListening(Mn(e),s,r.hashFn,r.onComplete),a=n.syncPointTree_.subtree(i);if(s)z(!gt(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Y(c)&&u&&gt(u))return[os(u).query];{let f=[];return u&&(f=f.concat(od(u).map(p=>p.query))),we(d,(p,h)=>{f=f.concat(h)}),f}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Mn(u),$n(n,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ao(t)}node(){return this.node_}}class lo{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=oe(this.path_,e);return new lo(this.syncTree_,t)}node(){return io(this.syncTree_,this.path_)}}const i_=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},za=function(n,e,t){if(!n||typeof n!="object")return n;if(z(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return s_(n[".sv"],e,t);if(typeof n[".sv"]=="object")return r_(n[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},s_=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:z(!1,"Unexpected server value: "+n)}},r_=function(n,e,t){n.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const s=e.node();if(z(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},o_=function(n,e,t,i){return co(e,new lo(t,n),i)},md=function(n,e,t){return co(n,new ao(e),t)};function co(n,e,t){const i=n.getPriority().val(),s=za(i,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const o=n,a=za(o.getValue(),e,t);return a!==o.getValue()||s!==o.getPriority().val()?new le(a,de(s)):n}else{const o=n;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new le(s))),o.forEachChild(ie,(a,l)=>{const c=co(l,e.getImmediateChild(a),t);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function fo(n,e){let t=e instanceof ee?e:new ee(e),i=n,s=X(t);for(;s!==null;){const r=Xt(i.node.children,s)||{children:{},childCount:0};i=new uo(s,i,r),t=te(t),s=X(t)}return i}function un(n){return n.node.value}function gd(n,e){n.node.value=e,hr(n)}function vd(n){return n.node.childCount>0}function a_(n){return un(n)===void 0&&!vd(n)}function ls(n,e){we(n.node.children,(t,i)=>{e(new uo(t,n,i))})}function _d(n,e,t,i){t&&!i&&e(n),ls(n,s=>{_d(s,e,!0,i)}),t&&i&&e(n)}function l_(n,e,t){let i=t?n:n.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function si(n){return new ee(n.parent===null?n.name:si(n.parent)+"/"+n.name)}function hr(n){n.parent!==null&&c_(n.parent,n.name,n)}function c_(n,e,t){const i=a_(t),s=Qe(n.node.children,e);i&&s?(delete n.node.children[e],n.node.childCount--,hr(n)):!i&&!s&&(n.node.children[e]=t.node,n.node.childCount++,hr(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=/[\[\].#$\/\u0000-\u001F\u007F]/,u_=/[\[\].#$\u0000-\u001F\u007F]/,ks=10*1024*1024,yd=function(n){return typeof n=="string"&&n.length!==0&&!d_.test(n)},wd=function(n){return typeof n=="string"&&n.length!==0&&!u_.test(n)},f_=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),wd(n)},h_=function(n,e,t,i){i&&e===void 0||ho(Mr(n,"value"),e,t)},ho=function(n,e,t){const i=t instanceof ee?new Mg(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+bt(i));if(typeof e=="function")throw new Error(n+"contains a function "+bt(i)+" with contents = "+e.toString());if(mc(e))throw new Error(n+"contains "+e.toString()+" "+bt(i));if(typeof e=="string"&&e.length>ks/3&&Zi(e)>ks)throw new Error(n+"contains a string greater than "+ks+" utf8 bytes "+bt(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(we(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!yd(o)))throw new Error(n+" contains an invalid key ("+o+") "+bt(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Rg(i,o),ho(n,a,i),Og(i)}),s&&r)throw new Error(n+' contains ".value" child '+bt(i)+" in addition to actual children.")}},Ed=function(n,e,t,i){if(!(i&&t===void 0)&&!wd(t))throw new Error(Mr(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},p_=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ed(n,e,t,i)},m_=function(n,e){if(X(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},g_=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!f_(t))throw new Error(Mr(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bd(n,e){let t=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();t!==null&&!zc(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&n.eventLists_.push(t)}function ke(n,e,t){bd(n,t),__(n,i=>Ie(i,e)||Ie(e,i))}function __(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const s=n.eventLists_[i];if(s){const r=s.path;e(r)?(y_(n.eventLists_[i]),n.eventLists_[i]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function y_(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const i=t.getEventRunner();Ct&&he("event: "+t.toString()),dn(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="repo_interrupt",E_=25;class b_{constructor(e,t,i,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bi(),this.transactionQueueTree_=new uo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T_(n,e,t){if(n.stats_=Gr(n.repoInfo_),n.forceRestClient_||tg())n.server_=new Fi(n.repoInfo_,(i,s,r,o)=>{Ua(n,i,s,r,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Ha(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{re(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ge(n.repoInfo_,e,(i,s,r,o)=>{Ua(n,i,s,r,o)},i=>{Ha(n,i)},i=>{C_(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=og(n.repoInfo_,()=>new sv(n.stats_,n.server_)),n.infoData_=new Zg,n.infoSyncTree_=new Ba({startListening:(i,s,r,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=ni(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),mo(n,"connected",!1),n.serverSyncTree_=new Ba({startListening:(i,s,r,o)=>(n.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);ke(n.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{n.server_.unlisten(i,s)}})}function S_(n){const t=n.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function po(n){return i_({timestamp:S_(n)})}function Ua(n,e,t,i,s){n.dataUpdateCount++;const r=new ee(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(s)if(i){const l=Ci(t,c=>de(c));o=Kv(n.serverSyncTree_,r,l,s)}else{const l=de(t);o=ud(n.serverSyncTree_,r,l,s)}else if(i){const l=Ci(t,c=>de(c));o=qv(n.serverSyncTree_,r,l)}else{const l=de(t);o=ni(n.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=ds(n,r)),ke(n.eventQueue_,a,o)}function Ha(n,e){mo(n,"connected",e),e===!1&&P_(n)}function C_(n,e){we(e,(t,i)=>{mo(n,t,i)})}function mo(n,e,t){const i=new ee("/.info/"+e),s=de(t);n.infoData_.updateSnapshot(i,s);const r=ni(n.infoSyncTree_,i,s);ke(n.eventQueue_,i,r)}function Td(n){return n.nextWriteId_++}function I_(n,e,t){const i=Jv(n.serverSyncTree_,e);return i!=null?Promise.resolve(i):n.server_.get(e).then(s=>{const r=de(s).withIndex(e._queryParams.getIndex());Qv(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=ni(n.serverSyncTree_,e._path,r);else{const a=$n(n.serverSyncTree_,e);o=ud(n.serverSyncTree_,e._path,r,a)}return ke(n.eventQueue_,e._path,o),dd(n.serverSyncTree_,e,t,null,!0),r},s=>(cs(n,"get for query "+re(e)+" failed: "+s),Promise.reject(new Error(s))))}function x_(n,e,t,i,s){cs(n,"set",{path:e.toString(),value:t,priority:i});const r=po(n),o=de(t,i),a=io(n.serverSyncTree_,e),l=md(o,a,r),c=Td(n),u=cd(n.serverSyncTree_,e,l,c,!0);bd(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(f,p)=>{const h=f==="ok";h||ye("set at "+e+" failed: "+f);const m=St(n.serverSyncTree_,c,!h);ke(n.eventQueue_,e,m),M_(n,s,f,p)});const d=Pd(n,e);ds(n,d),ke(n.eventQueue_,d,[])}function P_(n){cs(n,"onDisconnectEvents");const e=po(n),t=Bi();lr(n.onDisconnect_,Q(),(s,r)=>{const o=o_(s,r,n.serverSyncTree_,e);qc(t,s,o)});let i=[];lr(t,Q(),(s,r)=>{i=i.concat(ni(n.serverSyncTree_,s,r));const o=Pd(n,s);ds(n,o)}),n.onDisconnect_=Bi(),ke(n.eventQueue_,Q(),i)}function A_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(w_)}function cs(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),he(t,...e)}function M_(n,e,t,i){e&&dn(()=>{if(t==="ok")e(null);else{const s=(t||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function Sd(n,e,t){return io(n.serverSyncTree_,e,t)||W.EMPTY_NODE}function go(n,e=n.transactionQueueTree_){if(e||us(n,e),un(e)){const t=Id(n,e);z(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&R_(n,si(e),t)}else vd(e)&&ls(e,t=>{go(n,t)})}function R_(n,e,t){const i=t.map(c=>c.currentWriteId),s=Sd(n,e,i);let r=s;const o=s.hash();for(let c=0;c<t.length;c++){const u=t[c];z(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ge(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;n.server_.put(l.toString(),a,c=>{cs(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(St(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();us(n,fo(n.transactionQueueTree_,e)),go(n,n.transactionQueueTree_),ke(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)dn(d[f])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{ye("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}ds(n,e)}},o)}function ds(n,e){const t=Cd(n,e),i=si(t),s=Id(n,t);return O_(n,s,i),i}function O_(n,e,t){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ge(t,l.path);let u=!1,d;if(z(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(St(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=E_)u=!0,d="maxretry",s=s.concat(St(n.serverSyncTree_,l.currentWriteId,!0));else{const f=Sd(n,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){ho("transaction failed: Data returned ",p,l.path);let h=de(p);typeof p=="object"&&p!=null&&Qe(p,".priority")||(h=h.updatePriority(f.getPriority()));const g=l.currentWriteId,w=po(n),E=md(h,f,w);l.currentOutputSnapshotRaw=h,l.currentOutputSnapshotResolved=E,l.currentWriteId=Td(n),o.splice(o.indexOf(g),1),s=s.concat(cd(n.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),s=s.concat(St(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",s=s.concat(St(n.serverSyncTree_,l.currentWriteId,!0))}ke(n.eventQueue_,t,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}us(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)dn(i[a]);go(n,n.transactionQueueTree_)}function Cd(n,e){let t,i=n.transactionQueueTree_;for(t=X(e);t!==null&&un(i)===void 0;)i=fo(i,t),e=te(e),t=X(e);return i}function Id(n,e){const t=[];return xd(n,e,t),t.sort((i,s)=>i.order-s.order),t}function xd(n,e,t){const i=un(e);if(i)for(let s=0;s<i.length;s++)t.push(i[s]);ls(e,s=>{xd(n,s,t)})}function us(n,e){const t=un(e);if(t){let i=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[i]=t[s],i++);t.length=i,gd(e,t.length>0?t:void 0)}ls(e,i=>{us(n,i)})}function Pd(n,e){const t=si(Cd(n,e)),i=fo(n.transactionQueueTree_,e);return l_(i,s=>{Ds(n,s)}),Ds(n,i),_d(i,s=>{Ds(n,s)}),t}function Ds(n,e){const t=un(e);if(t){const i=[];let s=[],r=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(z(r===o-1,"All SENT items should be at beginning of queue."),r=o,t[o].status=3,t[o].abortReason="set"):(z(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),s=s.concat(St(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?gd(e,void 0):t.length=r+1,ke(n.eventQueue_,si(e),s);for(let o=0;o<i.length;o++)dn(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let s=t[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function L_(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const i=t.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ye(`Invalid query segment '${t}' in query '${n}'`)}return e}const $a=function(n,e){const t=k_(n),i=t.namespace;t.domain==="firebase.com"&&Xe(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Xe("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||jm();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new xc(t.host,t.secure,i,s,e,"",i!==t.subdomain),path:new ee(t.pathString)}},k_=function(n){let e="",t="",i="",s="",r="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(s=N_(n.substring(u,d)));const f=L_(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{const h=e.indexOf(".");i=e.substring(0,h).toLowerCase(),t=e.substring(h+1),r=i}"ns"in f&&(r=f.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,i,s){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+re(this.snapshot.exportVal())}}class F_{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,i,s){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=s}get key(){return Y(this._path)?null:Dc(this._path)}get ref(){return new Ze(this._repo,this._path)}get _queryIdentifier(){const e=xa(this._queryParams),t=Wr(e);return t==="{}"?"default":t}get _queryObject(){return xa(this._queryParams)}isEqual(e){if(e=pe(e),!(e instanceof vo))return!1;const t=this._repo===e._repo,i=zc(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ag(this._path)}}class Ze extends vo{constructor(e,t){super(e,t,new Kr,!1)}get parent(){const e=Bc(this._path);return e===null?null:new Ze(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Wn{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ee(e),i=pr(this.ref,e);return new Wn(this._node.getChild(t),i,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Wn(s,pr(this.ref,i),ie)))}hasChild(e){const t=new ee(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hE(n,e){return n=pe(n),n._checkNotDeleted("ref"),e!==void 0?pr(n._root,e):n._root}function pr(n,e){return n=pe(n),X(n._path)===null?p_("child","path",e,!1):Ed("child","path",e,!1),new Ze(n._repo,oe(n._path,e))}function pE(n,e){n=pe(n),m_("set",n._path),h_("set",e,n._path,!1);const t=new Ji;return x_(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function mE(n){n=pe(n);const e=new B_(()=>{}),t=new _o(e);return I_(n._repo,n,t).then(i=>new Wn(i,new Ze(n._repo,n._path),n._queryParams.getIndex()))}class _o{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const i=t._queryParams.getIndex();return new D_("value",this,new Wn(e.snapshotNode,new Ze(t._repo,t._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new F_(this,e,t):null}matches(e){return e instanceof _o?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}zv(Ze);Vv(Ze);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="FIREBASE_DATABASE_EMULATOR_HOST",mr={};let U_=!1;function H_(n,e,t,i){n.repoInfo_=new xc(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}function $_(n,e,t,i,s){let r=i||n.options.databaseURL;r===void 0&&(n.options.projectId||Xe("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),he("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=$a(r,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[z_]),c?(l=!0,r=`http://${c}?ns=${a.namespace}`,o=$a(r,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Gt(Gt.OWNER):new ig(n.name,n.options,e);g_("Invalid Firebase Database URL",o),Y(o.path)||Xe("Database URL must point to the root of a Firebase Database (not including a child path).");const d=V_(a,n,u,new ng(n.name,t));return new G_(d,n)}function W_(n,e){const t=mr[e];(!t||t[n.key]!==n)&&Xe(`Database ${e}(${n.repoInfo_}) has already been deleted.`),A_(n),delete t[n.key]}function V_(n,e,t,i){let s=mr[e.name];s||(s={},mr[e.name]=s);let r=s[n.toURLString()];return r&&Xe("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new b_(n,U_,t,i),s[n.toURLString()]=r,r}class G_{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(T_(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ze(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(W_(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xe("Cannot call "+e+" on a deleted database.")}}function gE(n=Pl(),e){const t=Nr(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=af("database");i&&j_(t,...i)}return t}function j_(n,e,t,i={}){n=pe(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&Xe("Cannot call useEmulator() after instance has already been initialized.");const s=n._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Xe('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Gt(Gt.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:lf(i.mockUserToken,n.app.options.projectId);r=new Gt(o)}H_(s,e,t,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n){Hm(an),Kt(new xt("database",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return $_(i,s,r,t)},"PUBLIC").setMultipleInstances(!0)),dt(da,ua,n),dt(da,ua,"esm2017")}Ge.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Ge.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};q_();var Ad={exports:{}};/*!
 * TOAST UI Pagination
 * @version 3.4.1
 * @author NHN FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */(function(n,e){(function(i,s){n.exports=s()})(window,function(){return function(t){var i={};function s(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=i,s.d=function(r,o,a){s.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:a})},s.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,o){if(o&1&&(r=s(r)),o&8||o&4&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),o&2&&typeof r!="string")for(var l in r)s.d(a,l,(function(c){return r[c]}).bind(null,l));return a},s.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(o,"a",o),o},s.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},s.p="dist",s(s.s=10)}([function(t,i,s){function r(o,a){var l=Object.prototype.hasOwnProperty,c,u,d,f;for(d=1,f=arguments.length;d<f;d+=1){c=arguments[d];for(u in c)l.call(c,u)&&(o[u]=c[u])}return o}t.exports=r},function(t,i,s){function r(o){return o===void 0}t.exports=r},function(t,i,s){function r(o){return o instanceof Array}t.exports=r},function(t,i,s){var r=s(2),o=s(17),a=s(6);function l(c,u,d){r(c)?o(c,u,d):a(c,u,d)}t.exports=l},function(t,i,s){function r(o){return typeof o=="string"||o instanceof String}t.exports=r},function(t,i,s){function r(o){return o instanceof Function}t.exports=r},function(t,i,s){function r(o,a,l){var c;l=l||null;for(c in o)if(o.hasOwnProperty(c)&&a.call(l,o[c],c,o)===!1)break}t.exports=r},function(t,i,s){var r=s(18),o=s(0);function a(l,c){var u;return c||(c=l,l=null),u=c.init||function(){},l&&r(u,l),c.hasOwnProperty("static")&&(o(u,c.static),delete c.static),o(u.prototype,c),u}t.exports=a},function(t,i,s){var r=s(2);function o(a,l,c){var u,d;if(c=c||0,!r(l))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(l,a,c);for(d=l.length,u=c;c>=0&&u<d;u+=1)if(l[u]===a)return u;return-1}t.exports=o},function(t,i,s){var r=s(29),o=s(30),a=s(5),l={capitalizeFirstLetter:function(c){return c.substring(0,1).toUpperCase()+c.substring(1,c.length)},isContained:function(c,u){return u?c===u?!0:u.contains(c):!1},createElementByTemplate:function(c,u){var d=document.createElement("div"),f=a(c)?c(u):r(c,u);return d.innerHTML=f,d.firstChild},bind:function(c,u){var d=Array.prototype.slice,f;return c.bind?c.bind.apply(c,d.call(arguments,1)):(f=d.call(arguments,2),function(){return c.apply(u,f.length?f.concat(d.call(arguments)):arguments)})},sendHostName:function(){o("pagination","UA-129987462-1")}};t.exports=l},function(t,i,s){s(11),t.exports=s(12)},function(t,i,s){},function(t,i,s){var r=s(13),o=s(7),a=s(0),l=s(1),c=s(20),u=s(9),d={totalItems:10,itemsPerPage:10,visiblePages:10,page:1,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",usageStatistics:!0},f=o({init:function(p,h){this._options=a({},d,h),this._currentPage=0,this._view=new c(p,this._options,u.bind(this._onClickHandler,this)),this._paginate(),this._options.usageStatistics&&u.sendHostName()},_setCurrentPage:function(p){this._currentPage=p||this._options.page},_getLastPage:function(){var p=Math.ceil(this._options.totalItems/this._options.itemsPerPage);return p||1},_getPageIndex:function(p){var h,m;return this._options.centerAlign?(h=Math.floor(this._options.visiblePages/2),m=p-h,m=Math.max(m,1),m=Math.min(m,this._getLastPage()-this._options.visiblePages+1),m):Math.ceil(p/this._options.visiblePages)},_getRelativePage:function(p){var h=p==="prev",m=this.getCurrentPage();return h?m-1:m+1},_getMorePageIndex:function(p){var h=this._getPageIndex(this.getCurrentPage()),m=this._options.visiblePages,g=p==="prev",w;return this._options.centerAlign?w=g?h-1:h+m:w=g?(h-1)*m:h*m+1,w},_convertToValidPage:function(p){var h=this._getLastPage();return p=Math.max(p,1),p=Math.min(p,h),p},_paginate:function(p){var h=this._makeViewData(p||this._options.page);this._setCurrentPage(p),this._view.update(h)},_makeViewData:function(p){var h={},m=this._getLastPage(),g=this._getPageIndex(p),w=this._getPageIndex(m),E=this._getEdge(p);return h.leftPageNumber=E.left,h.rightPageNumber=E.right,h.prevMore=g>1,h.nextMore=g<w,h.page=p,h.currentPageIndex=p,h.lastPage=m,h.lastPageListIndex=m,h},_getEdge:function(p){var h,m,g,w=this._getLastPage(),E=this._options.visiblePages,y=this._getPageIndex(p);return this._options.centerAlign?(g=Math.floor(E/2),h=Math.max(p-g,1),m=h+E-1,m>w&&(h=Math.max(w-E+1,1),m=w)):(h=(y-1)*E+1,m=y*E,m=Math.min(m,w)),{left:h,right:m}},_onClickHandler:function(p,h){switch(p){case"first":h=1;break;case"prev":h=this._getRelativePage("prev");break;case"next":h=this._getRelativePage("next");break;case"prevMore":h=this._getMorePageIndex("prev");break;case"nextMore":h=this._getMorePageIndex("next");break;case"last":h=this._getLastPage();break;default:if(!h)return}this.movePageTo(h)},reset:function(p){l(p)&&(p=this._options.totalItems),this._options.totalItems=p,this._paginate(1)},movePageTo:function(p){p=this._convertToValidPage(p),this.invoke("beforeMove",{page:p})&&(this._paginate(p),this.fire("afterMove",{page:p}))},setTotalItems:function(p){this._options.totalItems=p},setItemsPerPage:function(p){this._options.itemsPerPage=p},getCurrentPage:function(){return this._currentPage||this._options.page}});r.mixin(f),t.exports=f},function(t,i,s){var r=s(0),o=s(14),a=s(4),l=s(16),c=s(2),u=s(5),d=s(3),f=/\s+/g;function p(){this.events=null,this.contexts=null}p.mixin=function(h){r(h.prototype,p.prototype)},p.prototype._getHandlerItem=function(h,m){var g={handler:h};return m&&(g.context=m),g},p.prototype._safeEvent=function(h){var m=this.events,g;return m||(m=this.events={}),h&&(g=m[h],g||(g=[],m[h]=g),m=g),m},p.prototype._safeContext=function(){var h=this.contexts;return h||(h=this.contexts=[]),h},p.prototype._indexOfContext=function(h){for(var m=this._safeContext(),g=0;m[g];){if(h===m[g][0])return g;g+=1}return-1},p.prototype._memorizeContext=function(h){var m,g;o(h)&&(m=this._safeContext(),g=this._indexOfContext(h),g>-1?m[g][1]+=1:m.push([h,1]))},p.prototype._forgetContext=function(h){var m,g;o(h)&&(m=this._safeContext(),g=this._indexOfContext(h),g>-1&&(m[g][1]-=1,m[g][1]<=0&&m.splice(g,1)))},p.prototype._bindEvent=function(h,m,g){var w=this._safeEvent(h);this._memorizeContext(g),w.push(this._getHandlerItem(m,g))},p.prototype.on=function(h,m,g){var w=this;a(h)?(h=h.split(f),d(h,function(E){w._bindEvent(E,m,g)})):l(h)&&(g=m,d(h,function(E,y){w.on(y,E,g)}))},p.prototype.once=function(h,m,g){var w=this;if(l(h)){g=m,d(h,function(y,b){w.once(b,y,g)});return}function E(){m.apply(g,arguments),w.off(h,E,g)}this.on(h,E,g)},p.prototype._spliceMatches=function(h,m){var g=0,w;if(c(h))for(w=h.length;g<w;g+=1)m(h[g])===!0&&(h.splice(g,1),w-=1,g-=1)},p.prototype._matchHandler=function(h){var m=this;return function(g){var w=h===g.handler;return w&&m._forgetContext(g.context),w}},p.prototype._matchContext=function(h){var m=this;return function(g){var w=h===g.context;return w&&m._forgetContext(g.context),w}},p.prototype._matchHandlerAndContext=function(h,m){var g=this;return function(w){var E=h===w.handler,y=m===w.context,b=E&&y;return b&&g._forgetContext(w.context),b}},p.prototype._offByEventName=function(h,m){var g=this,w=u(m),E=g._matchHandler(m);h=h.split(f),d(h,function(y){var b=g._safeEvent(y);w?g._spliceMatches(b,E):(d(b,function(T){g._forgetContext(T.context)}),g.events[y]=[])})},p.prototype._offByHandler=function(h){var m=this,g=this._matchHandler(h);d(this._safeEvent(),function(w){m._spliceMatches(w,g)})},p.prototype._offByObject=function(h,m){var g=this,w;this._indexOfContext(h)<0?d(h,function(E,y){g.off(y,E)}):a(m)?(w=this._matchContext(h),g._spliceMatches(this._safeEvent(m),w)):u(m)?(w=this._matchHandlerAndContext(m,h),d(this._safeEvent(),function(E){g._spliceMatches(E,w)})):(w=this._matchContext(h),d(this._safeEvent(),function(E){g._spliceMatches(E,w)}))},p.prototype.off=function(h,m){a(h)?this._offByEventName(h,m):arguments.length?u(h)?this._offByHandler(h):l(h)&&this._offByObject(h,m):(this.events={},this.contexts=[])},p.prototype.fire=function(h){this.invoke.apply(this,arguments)},p.prototype.invoke=function(h){var m,g,w,E;if(!this.hasListener(h))return!0;for(m=this._safeEvent(h),g=Array.prototype.slice.call(arguments,1),w=0;m[w];){if(E=m[w],E.handler.apply(E.context,g)===!1)return!1;w+=1}return!0},p.prototype.hasListener=function(h){return this.getListenerLength(h)>0},p.prototype.getListenerLength=function(h){var m=this._safeEvent(h);return m.length},t.exports=p},function(t,i,s){var r=s(1),o=s(15);function a(l){return!r(l)&&!o(l)}t.exports=a},function(t,i,s){function r(o){return o===null}t.exports=r},function(t,i,s){function r(o){return o===Object(o)}t.exports=r},function(t,i,s){function r(o,a,l){var c=0,u=o.length;for(l=l||null;c<u&&a.call(l,o[c],c,o)!==!1;c+=1);}t.exports=r},function(t,i,s){var r=s(19);function o(a,l){var c=r(l.prototype);c.constructor=a,a.prototype=c}t.exports=o},function(t,i,s){function r(o){function a(){}return a.prototype=o,new a}t.exports=r},function(t,i,s){var r=s(3),o=s(7),a=s(21),l=s(22),c=s(24),u=s(25),d=s(0),f=s(4),p=s(28),h=s(9),m={page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'},g=["first","prev","next","last"],w=["prev","next"],E="The container element is invalid.",y=o({init:function(b,T,C){this._containerElement=null,this._firstItemClassName=T.firstItemClassName,this._lastItemClassName=T.lastItemClassName,this._template=d({},m,T.template),this._buttons={},this._enabledPageElements=[],this._setRootElement(b),this._setMoveButtons(),this._setDisabledMoveButtons(),this._setMoreButtons(),this._attachClickEvent(C)},_setRootElement:function(b){if(f(b)?b=document.getElementById(b)||document.querySelector(b):b.jquery&&(b=b[0]),!p(b))throw new Error(E);this._containerElement=b},_setMoveButtons:function(){r(g,function(b){this._buttons[b]=h.createElementByTemplate(this._template.moveButton,{type:b})},this)},_setDisabledMoveButtons:function(){r(g,function(b){var T="disabled"+h.capitalizeFirstLetter(b);this._buttons[T]=h.createElementByTemplate(this._template.disabledMoveButton,{type:b})},this)},_setMoreButtons:function(){r(w,function(b){var T=b+"More";this._buttons[T]=h.createElementByTemplate(this._template.moreButton,{type:b})},this)},_getContainerElement:function(){return this._containerElement},_appendFirstButton:function(b){var T;b.page>1?T=this._buttons.first:T=this._buttons.disabledFirst,this._getContainerElement().appendChild(T)},_appendPrevButton:function(b){var T;b.currentPageIndex>1?T=this._buttons.prev:T=this._buttons.disabledPrev,this._getContainerElement().appendChild(T)},_appendNextButton:function(b){var T;b.currentPageIndex<b.lastPageListIndex?T=this._buttons.next:T=this._buttons.disabledNext,this._getContainerElement().appendChild(T)},_appendLastButton:function(b){var T;b.page<b.lastPage?T=this._buttons.last:T=this._buttons.disabledLast,this._getContainerElement().appendChild(T)},_appendPrevMoreButton:function(b){var T;b.prevMore&&(T=this._buttons.prevMore,u(T,this._firstItemClassName),this._getContainerElement().appendChild(T))},_appendNextMoreButton:function(b){var T;b.nextMore&&(T=this._buttons.nextMore,u(T,this._lastItemClassName),this._getContainerElement().appendChild(T))},_appendPages:function(b){var T=b.leftPageNumber,C=b.rightPageNumber,x,_;for(_=T;_<=C;_+=1)_===b.page?x=h.createElementByTemplate(this._template.currentPage,{page:_}):(x=h.createElementByTemplate(this._template.page,{page:_}),this._enabledPageElements.push(x)),_===T&&!b.prevMore&&u(x,this._firstItemClassName),_===C&&!b.nextMore&&u(x,this._lastItemClassName),this._getContainerElement().appendChild(x)},_attachClickEvent:function(b){var T=this._getContainerElement();l(T,"click",function(C){var x=a(C),_,v;c(C),v=this._getButtonType(x),v||(_=this._getPageNumber(x)),b(v,_)},this)},_getButtonType:function(b){var T,C=this._buttons;return r(C,function(x,_){return h.isContained(b,x)?(T=_,!1):!0},this),T},_getPageNumber:function(b){var T=this._findPageElement(b),C;return T&&(C=parseInt(T.innerText,10)),C},_findPageElement:function(b){for(var T=0,C=this._enabledPageElements.length,x;T<C;T+=1)if(x=this._enabledPageElements[T],h.isContained(b,x))return x;return null},_empty:function(){this._enabledPageElements=[],r(this._buttons,function(b,T){this._buttons[T]=b.cloneNode(!0)},this),this._getContainerElement().innerHTML=""},update:function(b){this._empty(),this._appendFirstButton(b),this._appendPrevButton(b),this._appendPrevMoreButton(b),this._appendPages(b),this._appendNextMoreButton(b),this._appendNextButton(b),this._appendLastButton(b)}});t.exports=y},function(t,i,s){function r(o){return o.target||o.srcElement}t.exports=r},function(t,i,s){var r=s(4),o=s(3),a=s(23);function l(d,f,p,h){if(r(f)){o(f.split(/\s+/g),function(m){c(d,m,p,h)});return}o(f,function(m,g){c(d,g,m,p)})}function c(d,f,p,h){function m(g){p.call(h||d,g||window.event)}"addEventListener"in d?d.addEventListener(f,m):"attachEvent"in d&&d.attachEvent("on"+f,m),u(d,f,p,m)}function u(d,f,p,h){var m=a(d,f),g=!1;o(m,function(w){return w.handler===p?(g=!0,!1):!0}),g||m.push({handler:p,wrappedHandler:h})}t.exports=l},function(t,i,s){var r="_feEventKey";function o(a,l){var c=a[r],u;return c||(c=a[r]={}),u=c[l],u||(u=c[l]=[]),u}t.exports=o},function(t,i,s){function r(o){if(o.preventDefault){o.preventDefault();return}o.returnValue=!1}t.exports=r},function(t,i,s){var r=s(3),o=s(8),a=s(26),l=s(27);function c(u){var d=Array.prototype.slice.call(arguments,1),f=u.classList,p=[],h;if(f){r(d,function(m){u.classList.add(m)});return}h=a(u),h&&(d=[].concat(h.split(/\s+/),d)),r(d,function(m){o(m,p)<0&&p.push(m)}),l(u,p)}t.exports=c},function(t,i,s){var r=s(1);function o(a){return!a||!a.className?"":r(a.className.baseVal)?a.className:a.className.baseVal}t.exports=o},function(t,i,s){var r=s(2),o=s(1);function a(l,c){if(c=r(c)?c.join(" "):c,c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),o(l.className.baseVal)){l.className=c;return}l.className.baseVal=c}t.exports=a},function(t,i,s){function r(o){return typeof HTMLElement=="object"?o&&(o instanceof HTMLElement||!!o.nodeType):!!(o&&o.nodeType)}t.exports=r},function(t,i,s){var r=s(8),o=s(3),a=s(2),l=s(4),c=s(0),u=/{{\s?|\s?}}/g,d=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,f=/\[\s?|\s?\]/,p=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,m=/^["']\w+["']$/,g=/"|'/g,w=/^-?\d+\.?\d*$/,E=2,y={if:_,each:v,with:P},b="a".split(/a/).length===3,T=function(){return b?function(A,M){return A.split(M)}:function(A,M){var D=[],U=0,L,F;for(M.global||(M=new RegExp(M,"g")),L=M.exec(A);L!==null;)F=L.index,D.push(A.slice(U,F)),U=F+L[0].length,L=M.exec(A);return D.push(A.slice(U)),D}}();function C(A,M){var D,U=M[A];return A==="true"?U=!0:A==="false"?U=!1:m.test(A)?U=A.replace(g,""):d.test(A)?(D=A.split(f),U=C(D[0],M)[C(D[1],M)]):p.test(A)?(D=A.split(h),U=C(D[0],M)[D[1]]):w.test(A)&&(U=parseFloat(A)),U}function x(A,M){var D=[A],U=[],L=0,F=0;return o(M,function(B,j){B.indexOf("if")===0?L+=1:B==="/if"?L-=1:!L&&(B.indexOf("elseif")===0||B==="else")&&(D.push(B==="else"?["true"]:B.split(" ").slice(1)),U.push(M.slice(F,j)),F=j+1)}),U.push(M.slice(F)),{exps:D,sourcesInsideIf:U}}function _(A,M,D){var U=x(A,M),L=!1,F="";return o(U.exps,function(B,j){return L=I(B,D),L&&(F=N(U.sourcesInsideIf[j],D)),!L}),F}function v(A,M,D){var U=I(A,D),L=a(U)?"@index":"@key",F={},B="";return o(U,function(j,$){F[L]=$,F["@this"]=j,c(D,F),B+=N(M.slice(),D)}),B}function P(A,M,D){var U=r("as",A),L=A[U+1],F=I(A.slice(0,U),D),B={};return B[L]=F,N(M,c(D,B))||""}function O(A,M,D){var U=A.splice(M+1,D-M);return U.pop(),U}function S(A,M,D){for(var U=y[A],L=1,F=0,B,j=F+E,$=M[j];L&&l($);)$.indexOf(A)===0?L+=1:$.indexOf("/"+A)===0&&(L-=1,B=j),j+=E,$=M[j];if(L)throw Error(A+" needs {{/"+A+"}} expression.");return M[F]=U(M[F].split(" ").slice(1),O(M,F,B),D),M}function I(A,M){var D=C(A[0],M);return D instanceof Function?R(D,A.slice(1),M):D}function R(A,M,D){var U=[];return o(M,function(L){U.push(C(L,D))}),A.apply(null,U)}function N(A,M){for(var D=1,U=A[D],L,F,B;l(U);)L=U.split(" "),F=L[0],y[F]?(B=S(F,A.splice(D,A.length-D),M),A=A.concat(B)):A[D]=I(L,M),D+=E,U=A[D];return A.join("")}function H(A,M){return N(T(A,u),M)}t.exports=H},function(t,i,s){var r=s(1),o=s(31),a=7*24*60*60*1e3;function l(u){var d=new Date().getTime();return d-u>a}function c(u,d){var f="https://www.google-analytics.com/collect",p=location.hostname,h="event",m="use",g="TOAST UI "+u+" for "+p+": Statistics",w=window.localStorage.getItem(g);!r(window.tui)&&window.tui.usageStatistics===!1||w&&!l(w)||(window.localStorage.setItem(g,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&o(f,{v:1,t:h,tid:d,cid:p,dp:p,dh:u,el:u,ec:m})},1e3))}t.exports=c},function(t,i,s){var r=s(6);function o(a,l){var c=document.createElement("img"),u="";return r(l,function(d,f){u+="&"+f+"="+d}),u=u.substring(1),c.src=a+"?"+u,c.style.display="none",document.body.appendChild(c),document.body.removeChild(c),c}t.exports=o}])})})(Ad);var Y_=Ad.exports;const vE=Ir(Y_);function Wa(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function yo(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:Wa(e[t])&&Wa(n[t])&&Object.keys(e[t]).length>0&&yo(n[t],e[t])})}const Md={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function fe(){const n=typeof document<"u"?document:{};return yo(n,Md),n}const X_={document:Md,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function se(){const n=typeof window<"u"?window:{};return yo(n,X_),n}function nt(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function K_(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Nt(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Se(){return Date.now()}function Q_(n){const e=se();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function gr(n,e){e===void 0&&(e="x");const t=se();let i,s,r;const o=Q_(n);return t.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(s==="none"?"":s)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function Tn(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function J_(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Ee(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!J_(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Tn(n[a])&&Tn(i[a])?i[a].__swiper__?n[a]=i[a]:Ee(n[a],i[a]):!Tn(n[a])&&Tn(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:Ee(n[a],i[a])):n[a]=i[a])}}}return n}function Sn(n,e,t){n.style.setProperty(e,t)}function Rd(n){let{swiper:e,targetPosition:t,side:i}=n;const s=se(),r=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const c=t>r?"next":"prev",u=(f,p)=>c==="next"&&f>=p||c==="prev"&&f<=p,d=()=>{a=new Date().getTime(),o===null&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(f*Math.PI)/2;let h=r+p*(t-r);if(u(h,t)&&(h=t),e.wrapperEl.scrollTo({[i]:h}),u(h,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:h})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(d)};d()}function kt(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function ue(n,e){e===void 0&&(e="");const t=[...n.children];return n instanceof HTMLSlotElement&&t.push(...n.assignedElements()),e?t.filter(i=>i.matches(e)):t}function Z_(n,e){const t=e.contains(n);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(n):t}function ji(n){try{console.warn(n);return}catch{}}function be(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:nt(e)),t}function qi(n){const e=se(),t=fe(),i=n.getBoundingClientRect(),s=t.body,r=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===e?e.scrollY:n.scrollTop,l=n===e?e.scrollX:n.scrollLeft;return{top:i.top+a-r,left:i.left+l-o}}function ey(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function ty(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function at(n,e){return se().getComputedStyle(n,null).getPropertyValue(e)}function Vn(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function It(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Rn(n,e){function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function vr(n,e,t){const i=se();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}function q(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function fs(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let Fs;function ny(){const n=se(),e=fe();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function Od(){return Fs||(Fs=ny()),Fs}let Bs;function iy(n){let{userAgent:e}=n===void 0?{}:n;const t=Od(),i=se(),s=i.navigator.platform,r=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=s==="Win32";let h=s==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&h&&t.touch&&m.indexOf(`${a}x${l}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),h=!1),c&&!p&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}function Nd(n){return n===void 0&&(n={}),Bs||(Bs=iy(n)),Bs}let zs;function sy(){const n=se(),e=Nd();let t=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||l===16&&c<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),r=i(),o=r||s&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:o,isWebView:s}}function ry(){return zs||(zs=sy()),zs}function oy(n){let{swiper:e,on:t,emit:i}=n;const s=se();let r=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=s.requestAnimationFrame(()=>{const{width:f,height:p}=e;let h=f,m=p;d.forEach(g=>{let{contentBoxSize:w,contentRect:E,target:y}=g;y&&y!==e.el||(h=E?E.width:(w[0]||w).inlineSize,m=E?E.height:(w[0]||w).blockSize)}),(h!==f||m!==p)&&a()})}),r.observe(e.el))},c=()=>{o&&s.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){l();return}s.addEventListener("resize",a),s.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),s.removeEventListener("resize",a),s.removeEventListener("orientationchange",u)})}function ay(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=[],o=se(),a=function(u,d){d===void 0&&(d={});const f=o.MutationObserver||o.WebkitMutationObserver,p=new f(h=>{if(e.__preventObserver__)return;if(h.length===1){s("observerUpdate",h[0]);return}const m=function(){s("observerUpdate",h[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=It(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var ly={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.apply(i,o)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=n):(e=r[0].events,t=r[0].data,i=r[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};function cy(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(at(i,"padding-left")||0,10)-parseInt(at(i,"padding-right")||0,10),t=t-parseInt(at(i,"padding-top")||0,10)-parseInt(at(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function dy(){const n=this;function e(P,O){return parseFloat(P.getPropertyValue(n.getDirectionLabel(O))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=ue(s,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let f=[];const p=[],h=[];let m=t.slidesOffsetBefore;typeof m=="function"&&(m=t.slidesOffsetBefore.call(n));let g=t.slidesOffsetAfter;typeof g=="function"&&(g=t.slidesOffsetAfter.call(n));const w=n.snapGrid.length,E=n.slidesGrid.length;let y=t.spaceBetween,b=-m,T=0,C=0;if(typeof r>"u")return;typeof y=="string"&&y.indexOf("%")>=0?y=parseFloat(y.replace("%",""))/100*r:typeof y=="string"&&(y=parseFloat(y)),n.virtualSize=-y,u.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Sn(i,"--swiper-centered-offset-before",""),Sn(i,"--swiper-centered-offset-after",""));const x=t.grid&&t.grid.rows>1&&n.grid;x?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let _;const v=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(P=>typeof t.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<d;P+=1){_=0;let O;if(u[P]&&(O=u[P]),x&&n.grid.updateSlide(P,O,u),!(u[P]&&at(O,"display")==="none")){if(t.slidesPerView==="auto"){v&&(u[P].style[n.getDirectionLabel("width")]="");const S=getComputedStyle(O),I=O.style.transform,R=O.style.webkitTransform;if(I&&(O.style.transform="none"),R&&(O.style.webkitTransform="none"),t.roundLengths)_=n.isHorizontal()?vr(O,"width",!0):vr(O,"height",!0);else{const N=e(S,"width"),H=e(S,"padding-left"),A=e(S,"padding-right"),M=e(S,"margin-left"),D=e(S,"margin-right"),U=S.getPropertyValue("box-sizing");if(U&&U==="border-box")_=N+M+D;else{const{clientWidth:L,offsetWidth:F}=O;_=N+H+A+M+D+(F-L)}}I&&(O.style.transform=I),R&&(O.style.webkitTransform=R),t.roundLengths&&(_=Math.floor(_))}else _=(r-(t.slidesPerView-1)*y)/t.slidesPerView,t.roundLengths&&(_=Math.floor(_)),u[P]&&(u[P].style[n.getDirectionLabel("width")]=`${_}px`);u[P]&&(u[P].swiperSlideSize=_),h.push(_),t.centeredSlides?(b=b+_/2+T/2+y,T===0&&P!==0&&(b=b-r/2-y),P===0&&(b=b-r/2-y),Math.abs(b)<1/1e3&&(b=0),t.roundLengths&&(b=Math.floor(b)),C%t.slidesPerGroup===0&&f.push(b),p.push(b)):(t.roundLengths&&(b=Math.floor(b)),(C-Math.min(n.params.slidesPerGroupSkip,C))%n.params.slidesPerGroup===0&&f.push(b),p.push(b),b=b+_+y),n.virtualSize+=_+y,T=_,C+=1}}if(n.virtualSize=Math.max(n.virtualSize,r)+g,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+y}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+y}px`),x&&n.grid.updateWrapperSize(_,f),!t.centeredSlides){const P=[];for(let O=0;O<f.length;O+=1){let S=f[O];t.roundLengths&&(S=Math.floor(S)),f[O]<=n.virtualSize-r&&P.push(S)}f=P,Math.floor(n.virtualSize-r)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-r)}if(l&&t.loop){const P=h[0]+y;if(t.slidesPerGroup>1){const O=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),S=P*t.slidesPerGroup;for(let I=0;I<O;I+=1)f.push(f[f.length-1]+S)}for(let O=0;O<n.virtual.slidesBefore+n.virtual.slidesAfter;O+=1)t.slidesPerGroup===1&&f.push(f[f.length-1]+P),p.push(p[p.length-1]+P),n.virtualSize+=P}if(f.length===0&&(f=[0]),y!==0){const P=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((O,S)=>!t.cssMode||t.loop?!0:S!==u.length-1).forEach(O=>{O.style[P]=`${y}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let P=0;h.forEach(S=>{P+=S+(y||0)}),P-=y;const O=P>r?P-r:0;f=f.map(S=>S<=0?-m:S>O?O+g:S)}if(t.centerInsufficientSlides){let P=0;h.forEach(S=>{P+=S+(y||0)}),P-=y;const O=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(P+O<r){const S=(r-P-O)/2;f.forEach((I,R)=>{f[R]=I-S}),p.forEach((I,R)=>{p[R]=I+S})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:h}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Sn(i,"--swiper-centered-offset-before",`${-f[0]}px`),Sn(i,"--swiper-centered-offset-after",`${n.size/2-h[h.length-1]/2}px`);const P=-n.snapGrid[0],O=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(S=>S+P),n.slidesGrid=n.slidesGrid.map(S=>S+O)}if(d!==c&&n.emit("slidesLengthChange"),f.length!==w&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const P=`${t.containerModifierClass}backface-hidden`,O=n.el.classList.contains(P);d<=t.maxBackfaceHiddenSlides?O||n.el.classList.add(P):O&&n.el.classList.remove(P)}}function uy(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const a=e.activeIndex+r;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const a=t[r].offsetHeight;s=a>s?a:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function fy(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const Va=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function hy(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;s&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-r[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(o-u),h=p+e.slidesSizesGrid[l],m=p>=0&&p<=e.size-e.slidesSizesGrid[l],g=p>=0&&p<e.size-1||h>1&&h<=e.size||p<=0&&h>=e.size;g&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),Va(c,g,t.slideVisibleClass),Va(c,m,t.slideFullyVisibleClass),c.progress=s?-d:d,c.originalProgress=s?-f:f}}function py(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:o,progressLoop:a}=e;const l=r,c=o;if(i===0)s=0,r=!0,o=!0;else{s=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;r=u||s<=0,o=d||s>=1,u&&(s=0),d&&(s=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],p=e.slidesGrid[d],h=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?a=(m-f)/h:a=(m+h-p)/h,a>1&&(a-=1)}Object.assign(e,{progress:s,progressLoop:a,isBeginning:r,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),r&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}const Us=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function my(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,r=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=d=>ue(i,`.${t.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(r)if(t.loop){let d=s-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${s}"]`);else o?(l=e.filter(d=>d.column===s)[0],u=e.filter(d=>d.column===s+1)[0],c=e.filter(d=>d.column===s-1)[0]):l=e[s];l&&(o||(u=ty(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),c=ey(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{Us(d,d===l,t.slideActiveClass),Us(d,d===u,t.slideNextClass),Us(d,d===c,t.slidePrevClass)}),n.emitSlidesClasses()}const Ei=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Hs=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},_r=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=s,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&Hs(n,c)});return}const r=s+i-1;if(n.params.rewind||n.params.loop)for(let o=s-e;o<=r+e;o+=1){const a=(o%t+t)%t;(a<s||a>r)&&Hs(n,a)}else for(let o=Math.max(s-e,0);o<=Math.min(r+e,t-1);o+=1)o!==s&&(o>r||o<s)&&Hs(n,o)};function gy(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function vy(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:o,snapIndex:a}=e;let l=n,c;const u=p=>{let h=p-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=gy(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const p=Math.min(s.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/s.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===r&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const d=e.grid&&s.grid&&s.grid.rows>1;let f;if(e.virtual&&s.virtual.enabled&&s.loop)f=u(l);else if(d){const p=e.slides.filter(m=>m.column===l)[0];let h=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(e.slides.indexOf(p),0)),f=Math.floor(h/s.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?f=parseInt(p,10):f=l}else f=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:r,activeIndex:l}),e.initialized&&_r(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function _y(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!s&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(s=a)});let r=!1,o;if(s){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===s){r=!0,o=a;break}}if(s&&r)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var yy={updateSize:cy,updateSlides:dy,updateAutoHeight:uy,updateSlidesOffset:fy,updateSlidesProgress:hy,updateProgress:py,updateSlidesClasses:my,updateActiveIndex:vy,updateClickedSlide:_y};function wy(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let o=gr(r,n);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function Ey(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=i?-n:n:l=n,s.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,s.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:s.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function by(){return-this.snapGrid[0]}function Ty(){return-this.snapGrid[this.snapGrid.length-1]}function Sy(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const r=this,{params:o,wrapperEl:a}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return Rd({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(f){!r||r.destroyed||f.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Cy={getTranslate:wy,setTranslate:Ey,minTranslate:by,maxTranslate:Ty,translateTo:Sy};function Iy(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function Ld(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:r,previousIndex:o}=e;let a=i;if(a||(r>o?a="next":r<o?a="prev":a="reset"),e.emit(`transition${s}`),t&&r!==o){if(a==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),a==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function xy(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),Ld({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Py(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),Ld({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var Ay={setTransition:Iy,transitionStart:xy,transitionEnd:Py};function My(n,e,t,i,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:h}=r;if(!h&&!i&&!s||r.destroyed||r.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let g=m+Math.floor((o-m)/r.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const w=-l[g];if(a.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const C=-Math.floor(w*100),x=Math.floor(c[T]*100),_=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?C>=x&&C<_-(_-x)/2?o=T:C>=x&&C<_&&(o=T+1):C>=x&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(f?w>r.translate&&w>r.minTranslate():w<r.translate&&w<r.minTranslate())||!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(w);let E;o>d?E="next":o<d?E="prev":E="reset";const y=r.virtual&&r.params.virtual.enabled;if(!(y&&s)&&(f&&-w===r.translate||!f&&w===r.translate))return r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),a.effect!=="slide"&&r.setTranslate(w),E!=="reset"&&(r.transitionStart(t,E),r.transitionEnd(t,E)),!1;if(a.cssMode){const T=r.isHorizontal(),C=f?w:-w;if(e===0)y&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),y&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[T?"scrollLeft":"scrollTop"]=C})):p[T?"scrollLeft":"scrollTop"]=C,y&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return Rd({swiper:r,targetPosition:C,side:T?"left":"top"}),!0;p.scrollTo({[T?"left":"top"]:C,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(w),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,E),e===0?r.transitionEnd(t,E):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(C){!r||r.destroyed||C.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,E))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function Ry(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let o=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)o=o+s.virtual.slidesBefore;else{let a;if(r){const f=o*s.params.grid.rows;a=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else a=s.getSlideIndexByData(o);const l=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:c}=s.params;let u=s.params.slidesPerView;u==="auto"?u=s.slidesPerViewDynamic():(u=Math.ceil(parseFloat(s.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&s.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const f=c?a<s.activeIndex?"prev":"next":a-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?a+1:a-l+1,slideRealIndex:f==="next"?s.realIndex:void 0})}if(r){const f=o*s.params.grid.rows;o=s.slides.filter(p=>p.getAttribute("data-swiper-slide-index")*1===f)[0].column}else o=s.getSlideIndexByData(o)}return requestAnimationFrame(()=>{s.slideTo(o,e,t,i)}),s}function Oy(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:o}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let a=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<r.slidesPerGroupSkip?1:a,c=i.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function Ny(n,e,t){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const u=i.virtual&&s.virtual.enabled;if(s.loop){if(c&&!u&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function f(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const p=f(d),h=r.map(w=>f(w));let m=r[h.indexOf(p)-1];if(typeof m>"u"&&s.cssMode){let w;r.forEach((E,y)=>{p>=E&&(w=y)}),typeof w<"u"&&(m=r[w>0?w-1:w])}let g=0;if(typeof m<"u"&&(g=o.indexOf(m),g<0&&(g=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-i.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&i.isBeginning){const w=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(w,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(g,n,e,t)}),!0;return i.slideTo(g,n,e,t)}function Ly(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function ky(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let r=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,r),a=o+Math.floor((r-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*i&&(r+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,n,e,t)}function Dy(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,r;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;r=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(ue(t,`${o}[data-swiper-slide-index="${r}"]`)[0]),Nt(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(ue(t,`${o}[data-swiper-slide-index="${r}"]`)[0]),Nt(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var Fy={slideTo:My,slideToLoop:Ry,slideNext:Oy,slidePrev:Ny,slideReset:Ly,slideToClosest:ky,slideToClickedSlide:Dy};function By(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const s=()=>{ue(i,`.${t.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},r=e.grid&&t.grid&&t.grid.rows>1,o=t.slidesPerGroup*(r?t.grid.rows:1),a=e.slides.length%o!==0,l=r&&e.slides.length%t.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const f=e.isElement?be("swiper-slide",[t.slideBlankClass]):be("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(f)}};if(a){if(t.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else ji("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(t.loopAddBlankSlides){const u=t.grid.rows-e.slides.length%t.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else ji("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function zy(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:r,byController:o,byMousewheel:a}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:p}=l,{centeredSlides:h}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){t&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}let m=p.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),h&&m%2===0&&(m=m+1));const g=p.slidesPerGroupAuto?m:p.slidesPerGroup;let w=g;w%g!==0&&(w+=g-w%g),w+=p.loopAdditionalSlides,l.loopedSlides=w;const E=l.grid&&p.grid&&p.grid.rows>1;c.length<m+w?ji("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&p.grid.fill==="row"&&ji("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],b=[];let T=l.activeIndex;typeof r>"u"?r=l.getSlideIndex(c.filter(I=>I.classList.contains(p.slideActiveClass))[0]):T=r;const C=i==="next"||!i,x=i==="prev"||!i;let _=0,v=0;const P=E?Math.ceil(c.length/p.grid.rows):c.length,S=(E?c[r].column:r)+(h&&typeof s>"u"?-m/2+.5:0);if(S<w){_=Math.max(w-S,g);for(let I=0;I<w-S;I+=1){const R=I-Math.floor(I/P)*P;if(E){const N=P-R-1;for(let H=c.length-1;H>=0;H-=1)c[H].column===N&&y.push(H)}else y.push(P-R-1)}}else if(S+m>P-w){v=Math.max(S-(P-w*2),g);for(let I=0;I<v;I+=1){const R=I-Math.floor(I/P)*P;E?c.forEach((N,H)=>{N.column===R&&b.push(H)}):b.push(R)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),x&&y.forEach(I=>{c[I].swiperLoopMoveDOM=!0,f.prepend(c[I]),c[I].swiperLoopMoveDOM=!1}),C&&b.forEach(I=>{c[I].swiperLoopMoveDOM=!0,f.append(c[I]),c[I].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():E&&(y.length>0&&x||b.length>0&&C)&&l.slides.forEach((I,R)=>{l.grid.updateSlide(R,I,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),t){if(y.length>0&&x){if(typeof e>"u"){const I=l.slidesGrid[T],N=l.slidesGrid[T+_]-I;a?l.setTranslate(l.translate-N):(l.slideTo(T+Math.ceil(_),0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else if(s){const I=E?y.length/p.grid.rows:y.length;l.slideTo(l.activeIndex+I,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&C)if(typeof e>"u"){const I=l.slidesGrid[T],N=l.slidesGrid[T-v]-I;a?l.setTranslate(l.translate-N):(l.slideTo(T-v,0,!1,!0),s&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-N,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-N))}else{const I=E?b.length/p.grid.rows:b.length;l.slideTo(l.activeIndex-I,0,!1,!0)}}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const I={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(R=>{!R.destroyed&&R.params.loop&&R.loopFix({...I,slideTo:R.params.slidesPerView===p.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...I,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?t:!1})}l.emit("loopFix")}function Uy(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Hy={loopCreate:By,loopFix:zy,loopDestroy:Uy};function $y(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Wy(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Vy={setGrabCursor:$y,unsetGrabCursor:Wy};function Gy(n,e){e===void 0&&(e=this);function t(i){if(!i||i===fe()||i===se())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function Ga(n,e,t){const i=se(),{params:s}=n,r=s.edgeSwipeDetection,o=s.edgeSwipeThreshold;return r&&(t<=o||t>=i.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function jy(n){const e=this,t=fe();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Ga(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:a}=e;if(!a||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let l=i.target;if(r.touchEventsTarget==="wrapper"&&!Z_(l,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(f?Gy(d,l):l.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!l.closest(r.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const p=o.currentX,h=o.currentY;if(!Ga(e,i,p))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=h,s.touchStartTime=Se(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let m=!0;l.matches(s.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==l&&t.activeElement.blur();const g=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||g)&&!l.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function qy(n){const e=fe(),t=this,i=t.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:a}=t;if(!a||!s.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(i.touchId!==null||l.pointerId!==i.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].filter(C=>C.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=Se());return}if(s.touchReleaseOnEdges&&!s.loop){if(t.isVertical()){if(d<r.startY&&t.translate<=t.maxTranslate()||d>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(u<r.startX&&t.translate<=t.maxTranslate()||u>r.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",l),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const f=r.currentX-r.startX,p=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(f**2+p**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let C;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:f*f+p*p>=25&&(C=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,i.isScrolling=t.isHorizontal()?C>s.touchAngle:90-C>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||l.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation();let h=t.isHorizontal()?f:p,m=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(h=Math.abs(h)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=h,h*=s.touchRatio,o&&(h=-h,m=-m);const g=t.touchesDirection;t.swipeDirection=h>0?"prev":"next",t.touchesDirection=m>0?"prev":"next";const w=t.params.loop&&!s.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(w&&E&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(C)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let y;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&g!==t.touchesDirection&&w&&E&&Math.abs(h)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=h+i.startTranslate;let b=!0,T=s.resistanceRatio;if(s.touchReleaseOnEdges&&(T=0),h>0?(w&&E&&!y&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(b=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+h)**T))):h<0&&(w&&E&&!y&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(b=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-h)**T))),b&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(h)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Yy(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].filter(T=>T.identifier===t.touchId)[0],!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=Se(),f=d-t.touchStartTime;if(e.allowClick){const T=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(T&&T[0]||i.target,T),e.emit("tap click",i),f<300&&d-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Se(),Nt(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const h=p>=-e.maxTranslate()&&!e.params.loop;let m=0,g=e.slidesSizesGrid[0];for(let T=0;T<c.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const C=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[T+C]<"u"?(h||p>=c[T]&&p<c[T+C])&&(m=T,g=c[T+C]-c[T]):(h||p>=c[T])&&(m=T,g=c[c.length-1]-c[c.length-2])}let w=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const y=(p-c[m])/g,b=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:m+b):e.slideTo(m)),e.swipeDirection==="prev"&&(y>1-o.longSwipesRatio?e.slideTo(m+b):E!==null&&y<0&&Math.abs(y)>o.longSwipesRatio?e.slideTo(E):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(m+b):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:m+b),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:m))}}function ja(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&r!==n.snapGrid&&n.checkOverflow()}function Xy(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Ky(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const r=n.maxTranslate()-n.minTranslate();r===0?s=0:s=(n.translate-n.minTranslate())/r,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Qy(n){const e=this;Ei(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Jy(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const kd=(n,e)=>{const t=fe(),{params:i,el:s,wrapperEl:r,device:o}=n,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!s||typeof s=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),s[l]("touchstart",n.onTouchStart,{passive:!1}),s[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[l]("click",n.onClick,!0),i.cssMode&&r[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ja,!0):n[c]("observerUpdate",ja,!0),s[l]("load",n.onLoad,{capture:!0}))};function Zy(){const n=this,{params:e}=n;n.onTouchStart=jy.bind(n),n.onTouchMove=qy.bind(n),n.onTouchEnd=Yy.bind(n),n.onDocumentTouchStart=Jy.bind(n),e.cssMode&&(n.onScroll=Ky.bind(n)),n.onClick=Xy.bind(n),n.onLoad=Qy.bind(n),kd(n,"on")}function ew(){kd(this,"off")}var tw={attachEvents:Zy,detachEvents:ew};const qa=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function nw(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=n.getBreakpoint(r,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in r?r[o]:void 0)||n.originalParams,c=qa(n,i),u=qa(n,l),d=n.params.grabCursor,f=l.grabCursor,p=i.enabled;c&&!u?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(s.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),d&&!f?n.unsetGrabCursor():!d&&f&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const b=i[y]&&i[y].enabled,T=l[y]&&l[y].enabled;b&&!T&&n[y].disable(),!b&&T&&n[y].enable()});const h=l.direction&&l.direction!==i.direction,m=i.loop&&(l.slidesPerView!==i.slidesPerView||h),g=i.loop;h&&t&&n.changeDirection(),Ee(n.params,l);const w=n.params.enabled,E=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),p&&!w?n.disable():!p&&w&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),t&&(m?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!g&&E?(n.loopCreate(e),n.updateSlides()):g&&!E&&n.loopDestroy()),n.emit("breakpoint",l)}function iw(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=se(),r=e==="window"?s.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:r*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var sw={setBreakpoint:nw,getBreakpoint:iw};function rw(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function ow(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:r}=n,o=rw(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),s.classList.add(...e),n.emitContainerClasses()}function aw(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var lw={addClasses:ow,removeClasses:aw};function cw(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,r=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>r}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var dw={checkOverflow:cw},Ya={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function uw(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){Ee(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in r)){Ee(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),Ee(e,i)}}const $s={eventsEmitter:ly,update:yy,translate:Cy,transition:Ay,slide:Fy,loop:Hy,grabCursor:Vy,events:tw,breakpoints:sw,checkOverflow:dw,classes:lw},Ws={};class Te{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Ee({},t),e&&!t.el&&(t.el=e);const o=fe();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const f=Ee({},t,{el:d});u.push(new Te(f))}),u}const a=this;a.__swiper__=!0,a.support=Od(),a.device=Nd({userAgent:t.userAgent}),a.browser=ry(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:uw(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ee({},Ya,l);return a.params=Ee({},c,Ws,t),a.originalParams=Ee({},a.params),a.passedParams=Ee({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=ue(t,`.${i.slideClass}, swiper-slide`),r=Vn(s[0]);return Vn(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=ue(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),o=(i.maxTranslate()-s)*e+s;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:r,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,f;for(let p=c+1;p<r.length;p+=1)r[p]&&!f&&(d+=Math.ceil(r[p].swiperSlideSize),u+=1,d>l&&(f=!0));for(let p=c-1;p>=0;p-=1)r[p]&&!f&&(d+=r[p].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ei(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):ue(i,s())[0])();return!o&&t.params.createElements&&(o=be("div",t.params.wrapperClass),i.append(o),ue(i,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||at(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||at(i,"direction")==="rtl"),wrongRTL:at(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?Ei(t,r):r.addEventListener("load",o=>{Ei(t,o.target)})}),_r(t),t.initialized=!0,_r(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:r,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),K_(i)),i.destroyed=!0),null}static extendDefaults(e){Ee(Ws,e)}static get extendedDefaults(){return Ws}static get defaults(){return Ya}static installModule(e){Te.prototype.__modules__||(Te.prototype.__modules__=[]);const t=Te.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Te.installModule(t)),Te):(Te.installModule(e),Te)}}Object.keys($s).forEach(n=>{Object.keys($s[n]).forEach(e=>{Te.prototype[e]=$s[n][e]})});Te.use([oy,ay]);function fw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let r;const o=fe();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(h,m){const g=e.params.virtual;if(g.cache&&e.virtual.cache[m])return e.virtual.cache[m];let w;return g.renderSlide?(w=g.renderSlide.call(e,h,m),typeof w=="string"&&(a.innerHTML=w,w=a.children[0])):e.isElement?w=be("swiper-slide"):w=be("div",e.params.slideClass),w.setAttribute("data-swiper-slide-index",m),g.renderSlide||(w.innerHTML=h),g.cache&&(e.virtual.cache[m]=w),w}function c(h,m){const{slidesPerView:g,slidesPerGroup:w,centeredSlides:E,loop:y,initialSlide:b}=e.params;if(m&&!y&&b>0)return;const{addSlidesBefore:T,addSlidesAfter:C}=e.params.virtual,{from:x,to:_,slides:v,slidesGrid:P,offset:O}=e.virtual;e.params.cssMode||e.updateActiveIndex();const S=e.activeIndex||0;let I;e.rtlTranslate?I="right":I=e.isHorizontal()?"left":"top";let R,N;E?(R=Math.floor(g/2)+w+C,N=Math.floor(g/2)+w+T):(R=g+(w-1)+C,N=(y?g:w)+T);let H=S-N,A=S+R;y||(H=Math.max(H,0),A=Math.min(A,v.length-1));let M=(e.slidesGrid[H]||0)-(e.slidesGrid[0]||0);y&&S>=N?(H-=N,E||(M+=e.slidesGrid[0])):y&&S<N&&(H=-N,E&&(M+=e.slidesGrid[0])),Object.assign(e.virtual,{from:H,to:A,offset:M,slidesGrid:e.slidesGrid,slidesBefore:N,slidesAfter:R});function D(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s("virtualUpdate")}if(x===H&&_===A&&!h){e.slidesGrid!==P&&M!==O&&e.slides.forEach($=>{$.style[I]=`${M-Math.abs(e.cssOverflowAdjustment())}px`}),e.updateProgress(),s("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:M,from:H,to:A,slides:function(){const J=[];for(let me=H;me<=A;me+=1)J.push(v[me]);return J}()}),e.params.virtual.renderExternalUpdate?D():s("virtualUpdate");return}const U=[],L=[],F=$=>{let J=$;return $<0?J=v.length+$:J>=v.length&&(J=J-v.length),J};if(h)e.slides.filter($=>$.matches(`.${e.params.slideClass}, swiper-slide`)).forEach($=>{$.remove()});else for(let $=x;$<=_;$+=1)if($<H||$>A){const J=F($);e.slides.filter(me=>me.matches(`.${e.params.slideClass}[data-swiper-slide-index="${J}"], swiper-slide[data-swiper-slide-index="${J}"]`)).forEach(me=>{me.remove()})}const B=y?-v.length:0,j=y?v.length*2:v.length;for(let $=B;$<j;$+=1)if($>=H&&$<=A){const J=F($);typeof _>"u"||h?L.push(J):($>_&&L.push(J),$<x&&U.push(J))}if(L.forEach($=>{e.slidesEl.append(l(v[$],$))}),y)for(let $=U.length-1;$>=0;$-=1){const J=U[$];e.slidesEl.prepend(l(v[J],J))}else U.sort(($,J)=>J-$),U.forEach($=>{e.slidesEl.prepend(l(v[$],$))});ue(e.slidesEl,".swiper-slide, swiper-slide").forEach($=>{$.style[I]=`${M-Math.abs(e.cssOverflowAdjustment())}px`}),D()}function u(h){if(typeof h=="object"&&"length"in h)for(let m=0;m<h.length;m+=1)h[m]&&e.virtual.slides.push(h[m]);else e.virtual.slides.push(h);c(!0)}function d(h){const m=e.activeIndex;let g=m+1,w=1;if(Array.isArray(h)){for(let E=0;E<h.length;E+=1)h[E]&&e.virtual.slides.unshift(h[E]);g=m+h.length,w=h.length}else e.virtual.slides.unshift(h);if(e.params.virtual.cache){const E=e.virtual.cache,y={};Object.keys(E).forEach(b=>{const T=E[b],C=T.getAttribute("data-swiper-slide-index");C&&T.setAttribute("data-swiper-slide-index",parseInt(C,10)+w),y[parseInt(b,10)+w]=T}),e.virtual.cache=y}c(!0),e.slideTo(g,0)}function f(h){if(typeof h>"u"||h===null)return;let m=e.activeIndex;if(Array.isArray(h))for(let g=h.length-1;g>=0;g-=1)e.params.virtual.cache&&(delete e.virtual.cache[h[g]],Object.keys(e.virtual.cache).forEach(w=>{w>h&&(e.virtual.cache[w-1]=e.virtual.cache[w],e.virtual.cache[w-1].setAttribute("data-swiper-slide-index",w-1),delete e.virtual.cache[w])})),e.virtual.slides.splice(h[g],1),h[g]<m&&(m-=1),m=Math.max(m,0);else e.params.virtual.cache&&(delete e.virtual.cache[h],Object.keys(e.virtual.cache).forEach(g=>{g>h&&(e.virtual.cache[g-1]=e.virtual.cache[g],e.virtual.cache[g-1].setAttribute("data-swiper-slide-index",g-1),delete e.virtual.cache[g])})),e.virtual.slides.splice(h,1),h<m&&(m-=1),m=Math.max(m,0);c(!0),e.slideTo(m,0)}function p(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let h;if(typeof e.passedParams.virtual.slides>"u"){const m=[...e.slidesEl.children].filter(g=>g.matches(`.${e.params.slideClass}, swiper-slide`));m&&m.length&&(e.virtual.slides=[...m],h=!0,m.forEach((g,w)=>{g.setAttribute("data-swiper-slide-index",w),e.virtual.cache[w]=g,g.remove()}))}h||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(r),r=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Sn(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:u,prependSlide:d,removeSlide:f,removeAllSlides:p,update:c})}function hw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=fe(),o=se();e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function a(u){if(!e.enabled)return;const{rtlTranslate:d}=e;let f=u;f.originalEvent&&(f=f.originalEvent);const p=f.keyCode||f.charCode,h=e.params.keyboard.pageUpDown,m=h&&p===33,g=h&&p===34,w=p===37,E=p===39,y=p===38,b=p===40;if(!e.allowSlideNext&&(e.isHorizontal()&&E||e.isVertical()&&b||g)||!e.allowSlidePrev&&(e.isHorizontal()&&w||e.isVertical()&&y||m))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey)&&!(r.activeElement&&r.activeElement.nodeName&&(r.activeElement.nodeName.toLowerCase()==="input"||r.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(m||g||w||E||y||b)){let T=!1;if(It(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&It(e.el,`.${e.params.slideActiveClass}`).length===0)return;const C=e.el,x=C.clientWidth,_=C.clientHeight,v=o.innerWidth,P=o.innerHeight,O=qi(C);d&&(O.left-=C.scrollLeft);const S=[[O.left,O.top],[O.left+x,O.top],[O.left,O.top+_],[O.left+x,O.top+_]];for(let I=0;I<S.length;I+=1){const R=S[I];if(R[0]>=0&&R[0]<=v&&R[1]>=0&&R[1]<=P){if(R[0]===0&&R[1]===0)continue;T=!0}}if(!T)return}e.isHorizontal()?((m||g||w||E)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((g||E)&&!d||(m||w)&&d)&&e.slideNext(),((m||w)&&!d||(g||E)&&d)&&e.slidePrev()):((m||g||y||b)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(g||b)&&e.slideNext(),(m||y)&&e.slidePrev()),s("keyPress",p)}}function l(){e.keyboard.enabled||(r.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(r.removeEventListener("keydown",a),e.keyboard.enabled=!1)}i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})}function pw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=se();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Se(),l;const c=[];function u(y){let x=0,_=0,v=0,P=0;return"detail"in y&&(_=y.detail),"wheelDelta"in y&&(_=-y.wheelDelta/120),"wheelDeltaY"in y&&(_=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(x=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(x=_,_=0),v=x*10,P=_*10,"deltaY"in y&&(P=y.deltaY),"deltaX"in y&&(v=y.deltaX),y.shiftKey&&!v&&(v=P,P=0),(v||P)&&y.deltaMode&&(y.deltaMode===1?(v*=40,P*=40):(v*=800,P*=800)),v&&!x&&(x=v<1?-1:1),P&&!_&&(_=P<1?-1:1),{spinX:x,spinY:_,pixelX:v,pixelY:P}}function d(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function p(y){return e.params.mousewheel.thresholdDelta&&y.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Se()-a<e.params.mousewheel.thresholdTime?!1:y.delta>=6&&Se()-a<60?!0:(y.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),s("scroll",y.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),s("scroll",y.raw)),a=new r.Date().getTime(),!1)}function h(y){const b=e.params.mousewheel;if(y.direction<0){if(e.isEnd&&!e.params.loop&&b.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&b.releaseOnEdges)return!0;return!1}function m(y){let b=y,T=!0;if(!e.enabled||y.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const C=e.params.mousewheel;e.params.cssMode&&b.preventDefault();let x=e.el;e.params.mousewheel.eventsTarget!=="container"&&(x=document.querySelector(e.params.mousewheel.eventsTarget));const _=x&&x.contains(b.target);if(!e.mouseEntered&&!_&&!C.releaseOnEdges)return!0;b.originalEvent&&(b=b.originalEvent);let v=0;const P=e.rtlTranslate?-1:1,O=u(b);if(C.forceToAxis)if(e.isHorizontal())if(Math.abs(O.pixelX)>Math.abs(O.pixelY))v=-O.pixelX*P;else return!0;else if(Math.abs(O.pixelY)>Math.abs(O.pixelX))v=-O.pixelY;else return!0;else v=Math.abs(O.pixelX)>Math.abs(O.pixelY)?-O.pixelX*P:-O.pixelY;if(v===0)return!0;C.invert&&(v=-v);let S=e.getTranslate()+v*C.sensitivity;if(S>=e.minTranslate()&&(S=e.minTranslate()),S<=e.maxTranslate()&&(S=e.maxTranslate()),T=e.params.loop?!0:!(S===e.minTranslate()||S===e.maxTranslate()),T&&e.params.nested&&b.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const I={time:Se(),delta:Math.abs(v),direction:Math.sign(v),raw:y};c.length>=2&&c.shift();const R=c.length?c[c.length-1]:void 0;if(c.push(I),R?(I.direction!==R.direction||I.delta>R.delta||I.time>R.time+150)&&p(I):p(I),h(I))return!0}else{const I={time:Se(),delta:Math.abs(v),direction:Math.sign(v)},R=l&&I.time<l.time+500&&I.delta<=l.delta&&I.direction===l.direction;if(!R){l=void 0;let N=e.getTranslate()+v*C.sensitivity;const H=e.isBeginning,A=e.isEnd;if(N>=e.minTranslate()&&(N=e.minTranslate()),N<=e.maxTranslate()&&(N=e.maxTranslate()),e.setTransition(0),e.setTranslate(N),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!H&&e.isBeginning||!A&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:I.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const M=c.length?c[c.length-1]:void 0,D=c[0];if(c.push(I),M&&(I.delta>M.delta||I.direction!==M.direction))c.splice(0);else if(c.length>=15&&I.time-D.time<500&&D.delta-I.delta>=1&&I.delta<=6){const U=v>0?.8:.2;l=I,c.splice(0),o=Nt(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,U)},0)}o||(o=Nt(()=>{if(e.destroyed||!e.params)return;const U=.5;l=I,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,U)},500))}if(R||s("scroll",b),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),C.releaseOnEdges&&(N===e.minTranslate()||N===e.maxTranslate()))return!0}}return b.preventDefault?b.preventDefault():b.returnValue=!1,!1}function g(y){let b=e.el;e.params.mousewheel.eventsTarget!=="container"&&(b=document.querySelector(e.params.mousewheel.eventsTarget)),b[y]("mouseenter",d),b[y]("mouseleave",f),b[y]("wheel",m)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",m),!0):e.mousewheel.enabled?!1:(g("addEventListener"),e.mousewheel.enabled=!0,!0)}function E(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,m),!0):e.mousewheel.enabled?(g("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&E(),e.params.mousewheel.enabled&&w()}),i("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&E()}),Object.assign(e.mousewheel,{enable:w,disable:E})}function wo(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let r=ue(n.el,`.${i[s]}`)[0];r||(r=be("div",i[s]),r.className=i[s],n.el.append(r)),t[s]=r,e[s]=r}}),t}function mw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(h){let m;return h&&typeof h=="string"&&e.isElement&&(m=e.el.querySelector(h),m)?m:(h&&(typeof h=="string"&&(m=[...document.querySelectorAll(h)]),e.params.uniqueNavElements&&typeof h=="string"&&m&&m.length>1&&e.el.querySelectorAll(h).length===1?m=e.el.querySelector(h):m&&m.length===1&&(m=m[0])),h&&!m?h:m)}function o(h,m){const g=e.params.navigation;h=q(h),h.forEach(w=>{w&&(w.classList[m?"add":"remove"](...g.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=m),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](g.lockClass))})}function a(){const{nextEl:h,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(h,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(h,e.isEnd&&!e.params.rewind)}function l(h){h.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function c(h){h.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function u(){const h=e.params.navigation;if(e.params.navigation=wo(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(h.nextEl||h.prevEl))return;let m=r(h.nextEl),g=r(h.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:g}),m=q(m),g=q(g);const w=(E,y)=>{E&&E.addEventListener("click",y==="next"?c:l),!e.enabled&&E&&E.classList.add(...h.lockClass.split(" "))};m.forEach(E=>w(E,"next")),g.forEach(E=>w(E,"prev"))}function d(){let{nextEl:h,prevEl:m}=e.navigation;h=q(h),m=q(m);const g=(w,E)=>{w.removeEventListener("click",E==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};h.forEach(w=>g(w,"next")),m.forEach(w=>g(w,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?p():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:h,prevEl:m}=e.navigation;if(h=q(h),m=q(m),e.enabled){a();return}[...h,...m].filter(g=>!!g).forEach(g=>g.classList.add(e.params.navigation.lockClass))}),i("click",(h,m)=>{let{nextEl:g,prevEl:w}=e.navigation;g=q(g),w=q(w);const E=m.target;let y=w.includes(E)||g.includes(E);if(e.isElement&&!y){const b=m.path||m.composedPath&&m.composedPath();b&&(y=b.find(T=>g.includes(T)||w.includes(T)))}if(e.params.navigation.hideOnClick&&!y){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let b;g.length?b=g[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(b=w[0].classList.contains(e.params.navigation.hiddenClass)),s(b===!0?"navigationShow":"navigationHide"),[...g,...w].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:f,disable:p,update:a,init:u,destroy:d})}function Be(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function gw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(E,y){const{bulletActiveClass:b}=e.params.pagination;E&&(E=E[`${y==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${b}-${y}`),E=E[`${y==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${b}-${y}-${y}`)))}function u(E,y,b){if(E=E%b,y=y%b,y===E+1)return"next";if(y===E-1)return"previous"}function d(E){const y=E.target.closest(Be(e.params.pagination.bulletClass));if(!y)return;E.preventDefault();const b=Vn(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===b)return;const T=u(e.realIndex,b,e.slides.length);T==="next"?e.slideNext():T==="previous"?e.slidePrev():e.slideToLoop(b)}else e.slideTo(b)}function f(){const E=e.rtl,y=e.params.pagination;if(l())return;let b=e.pagination.el;b=q(b);let T,C;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,_=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,T=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(T=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,T=e.activeIndex||0),y.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const v=e.pagination.bullets;let P,O,S;if(y.dynamicBullets&&(o=vr(v[0],e.isHorizontal()?"width":"height",!0),b.forEach(I=>{I.style[e.isHorizontal()?"width":"height"]=`${o*(y.dynamicMainBullets+4)}px`}),y.dynamicMainBullets>1&&C!==void 0&&(a+=T-(C||0),a>y.dynamicMainBullets-1?a=y.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(T-a,0),O=P+(Math.min(v.length,y.dynamicMainBullets)-1),S=(O+P)/2),v.forEach(I=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(N=>`${y.bulletActiveClass}${N}`)].map(N=>typeof N=="string"&&N.includes(" ")?N.split(" "):N).flat();I.classList.remove(...R)}),b.length>1)v.forEach(I=>{const R=Vn(I);R===T?I.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&I.setAttribute("part","bullet"),y.dynamicBullets&&(R>=P&&R<=O&&I.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),R===P&&c(I,"prev"),R===O&&c(I,"next"))});else{const I=v[T];if(I&&I.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&v.forEach((R,N)=>{R.setAttribute("part",N===T?"bullet-active":"bullet")}),y.dynamicBullets){const R=v[P],N=v[O];for(let H=P;H<=O;H+=1)v[H]&&v[H].classList.add(...`${y.bulletActiveClass}-main`.split(" "));c(R,"prev"),c(N,"next")}}if(y.dynamicBullets){const I=Math.min(v.length,y.dynamicMainBullets+4),R=(o*I-o)/2-S*o,N=E?"right":"left";v.forEach(H=>{H.style[e.isHorizontal()?N:"top"]=`${R}px`})}}b.forEach((v,P)=>{if(y.type==="fraction"&&(v.querySelectorAll(Be(y.currentClass)).forEach(O=>{O.textContent=y.formatFractionCurrent(T+1)}),v.querySelectorAll(Be(y.totalClass)).forEach(O=>{O.textContent=y.formatFractionTotal(_)})),y.type==="progressbar"){let O;y.progressbarOpposite?O=e.isHorizontal()?"vertical":"horizontal":O=e.isHorizontal()?"horizontal":"vertical";const S=(T+1)/_;let I=1,R=1;O==="horizontal"?I=S:R=S,v.querySelectorAll(Be(y.progressbarFillClass)).forEach(N=>{N.style.transform=`translate3d(0,0,0) scaleX(${I}) scaleY(${R})`,N.style.transitionDuration=`${e.params.speed}ms`})}y.type==="custom"&&y.renderCustom?(v.innerHTML=y.renderCustom(e,T+1,_),P===0&&s("paginationRender",v)):(P===0&&s("paginationRender",v),s("paginationUpdate",v)),e.params.watchOverflow&&e.enabled&&v.classList[e.isLocked?"add":"remove"](y.lockClass)})}function p(){const E=e.params.pagination;if(l())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let b=e.pagination.el;b=q(b);let T="";if(E.type==="bullets"){let C=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>y&&(C=y);for(let x=0;x<C;x+=1)E.renderBullet?T+=E.renderBullet.call(e,x,E.bulletClass):T+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?T=E.renderFraction.call(e,E.currentClass,E.totalClass):T=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?T=E.renderProgressbar.call(e,E.progressbarFillClass):T=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],b.forEach(C=>{E.type!=="custom"&&(C.innerHTML=T||""),E.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(Be(E.bulletClass)))}),E.type!=="custom"&&s("paginationRender",b[0])}function h(){e.params.pagination=wo(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let y;typeof E.el=="string"&&e.isElement&&(y=e.el.querySelector(E.el)),!y&&typeof E.el=="string"&&(y=[...document.querySelectorAll(E.el)]),y||(y=E.el),!(!y||y.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(E.el)],y.length>1&&(y=y.filter(b=>It(b,".swiper")[0]===e.el)[0])),Array.isArray(y)&&y.length===1&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=q(y),y.forEach(b=>{E.type==="bullets"&&E.clickable&&b.classList.add(...(E.clickableClass||"").split(" ")),b.classList.add(E.modifierClass+E.type),b.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(b.classList.add(`${E.modifierClass}${E.type}-dynamic`),a=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&b.classList.add(E.progressbarOppositeClass),E.clickable&&b.addEventListener("click",d),e.enabled||b.classList.add(E.lockClass)}))}function m(){const E=e.params.pagination;if(l())return;let y=e.pagination.el;y&&(y=q(y),y.forEach(b=>{b.classList.remove(E.hiddenClass),b.classList.remove(E.modifierClass+E.type),b.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(b.classList.remove(...(E.clickableClass||"").split(" ")),b.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(b=>b.classList.remove(...E.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:y}=e.pagination;y=q(y),y.forEach(b=>{b.classList.remove(E.horizontalClass,E.verticalClass),b.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?w():(h(),p(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{p(),f()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:E}=e.pagination;E&&(E=q(E),E.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(E,y)=>{const b=y.target,T=q(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&T&&T.length>0&&!b.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&b===e.navigation.nextEl||e.navigation.prevEl&&b===e.navigation.prevEl))return;const C=T[0].classList.contains(e.params.pagination.hiddenClass);s(C===!0?"paginationShow":"paginationHide"),T.forEach(x=>x.classList.toggle(e.params.pagination.hiddenClass))}});const g=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=q(E),E.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),h(),p(),f()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=q(E),E.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:g,disable:w,render:p,update:f,init:h,destroy:m})}function vw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=fe();let o=!1,a=null,l=null,c,u,d,f;t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null};function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:S,rtlTranslate:I}=e,{dragEl:R,el:N}=S,H=e.params.scrollbar,A=e.params.loop?e.progressLoop:e.progress;let M=u,D=(d-u)*A;I?(D=-D,D>0?(M=u-D,D=0):-D+u>d&&(M=d+D)):D<0?(M=u+D,D=0):D+u>d&&(M=d-D),e.isHorizontal()?(R.style.transform=`translate3d(${D}px, 0, 0)`,R.style.width=`${M}px`):(R.style.transform=`translate3d(0px, ${D}px, 0)`,R.style.height=`${M}px`),H.hide&&(clearTimeout(a),N.style.opacity=1,a=setTimeout(()=>{N.style.opacity=0,N.style.transitionDuration="400ms"},1e3))}function h(S){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${S}ms`)}function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:S}=e,{dragEl:I,el:R}=S;I.style.width="",I.style.height="",d=e.isHorizontal()?R.offsetWidth:R.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),e.params.scrollbar.dragSize==="auto"?u=d*f:u=parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?I.style.width=`${u}px`:I.style.height=`${u}px`,f>=1?R.style.display="none":R.style.display="",e.params.scrollbar.hide&&(R.style.opacity=0),e.params.watchOverflow&&e.enabled&&S.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function g(S){return e.isHorizontal()?S.clientX:S.clientY}function w(S){const{scrollbar:I,rtlTranslate:R}=e,{el:N}=I;let H;H=(g(S)-qi(N)[e.isHorizontal()?"left":"top"]-(c!==null?c:u/2))/(d-u),H=Math.max(Math.min(H,1),0),R&&(H=1-H);const A=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*H;e.updateProgress(A),e.setTranslate(A),e.updateActiveIndex(),e.updateSlidesClasses()}function E(S){const I=e.params.scrollbar,{scrollbar:R,wrapperEl:N}=e,{el:H,dragEl:A}=R;o=!0,c=S.target===A?g(S)-S.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,S.preventDefault(),S.stopPropagation(),N.style.transitionDuration="100ms",A.style.transitionDuration="100ms",w(S),clearTimeout(l),H.style.transitionDuration="0ms",I.hide&&(H.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),s("scrollbarDragStart",S)}function y(S){const{scrollbar:I,wrapperEl:R}=e,{el:N,dragEl:H}=I;o&&(S.preventDefault&&S.cancelable?S.preventDefault():S.returnValue=!1,w(S),R.style.transitionDuration="0ms",N.style.transitionDuration="0ms",H.style.transitionDuration="0ms",s("scrollbarDragMove",S))}function b(S){const I=e.params.scrollbar,{scrollbar:R,wrapperEl:N}=e,{el:H}=R;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",N.style.transitionDuration=""),I.hide&&(clearTimeout(l),l=Nt(()=>{H.style.opacity=0,H.style.transitionDuration="400ms"},1e3)),s("scrollbarDragEnd",S),I.snapOnRelease&&e.slideToClosest())}function T(S){const{scrollbar:I,params:R}=e,N=I.el;if(!N)return;const H=N,A=R.passiveListeners?{passive:!1,capture:!1}:!1,M=R.passiveListeners?{passive:!0,capture:!1}:!1;if(!H)return;const D=S==="on"?"addEventListener":"removeEventListener";H[D]("pointerdown",E,A),r[D]("pointermove",y,A),r[D]("pointerup",b,M)}function C(){!e.params.scrollbar.el||!e.scrollbar.el||T("on")}function x(){!e.params.scrollbar.el||!e.scrollbar.el||T("off")}function _(){const{scrollbar:S,el:I}=e;e.params.scrollbar=wo(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const R=e.params.scrollbar;if(!R.el)return;let N;if(typeof R.el=="string"&&e.isElement&&(N=e.el.querySelector(R.el)),!N&&typeof R.el=="string"){if(N=r.querySelectorAll(R.el),!N.length)return}else N||(N=R.el);e.params.uniqueNavElements&&typeof R.el=="string"&&N.length>1&&I.querySelectorAll(R.el).length===1&&(N=I.querySelector(R.el)),N.length>0&&(N=N[0]),N.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass);let H;N&&(H=N.querySelector(Be(e.params.scrollbar.dragClass)),H||(H=be("div",e.params.scrollbar.dragClass),N.append(H))),Object.assign(S,{el:N,dragEl:H}),R.draggable&&C(),N&&N.classList[e.enabled?"remove":"add"](...nt(e.params.scrollbar.lockClass))}function v(){const S=e.params.scrollbar,I=e.scrollbar.el;I&&I.classList.remove(...nt(e.isHorizontal()?S.horizontalClass:S.verticalClass)),x()}i("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const S=e.params.scrollbar;let{el:I}=e.scrollbar;I=q(I),I.forEach(R=>{R.classList.remove(S.horizontalClass,S.verticalClass),R.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass)})}),i("init",()=>{e.params.scrollbar.enabled===!1?O():(_(),m(),p())}),i("update resize observerUpdate lock unlock changeDirection",()=>{m()}),i("setTranslate",()=>{p()}),i("setTransition",(S,I)=>{h(I)}),i("enable disable",()=>{const{el:S}=e.scrollbar;S&&S.classList[e.enabled?"remove":"add"](...nt(e.params.scrollbar.lockClass))}),i("destroy",()=>{v()});const P=()=>{e.el.classList.remove(...nt(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...nt(e.params.scrollbar.scrollbarDisabledClass)),_(),m(),p()},O=()=>{e.el.classList.add(...nt(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...nt(e.params.scrollbar.scrollbarDisabledClass)),v()};Object.assign(e.scrollbar,{enable:P,disable:O,updateSize:m,setTranslate:p,init:_,destroy:v})}function _w(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});const s="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",r=(l,c)=>{const{rtl:u}=e,d=u?-1:1,f=l.getAttribute("data-swiper-parallax")||"0";let p=l.getAttribute("data-swiper-parallax-x"),h=l.getAttribute("data-swiper-parallax-y");const m=l.getAttribute("data-swiper-parallax-scale"),g=l.getAttribute("data-swiper-parallax-opacity"),w=l.getAttribute("data-swiper-parallax-rotate");if(p||h?(p=p||"0",h=h||"0"):e.isHorizontal()?(p=f,h="0"):(h=f,p="0"),p.indexOf("%")>=0?p=`${parseInt(p,10)*c*d}%`:p=`${p*c*d}px`,h.indexOf("%")>=0?h=`${parseInt(h,10)*c}%`:h=`${h*c}px`,typeof g<"u"&&g!==null){const y=g-(g-1)*(1-Math.abs(c));l.style.opacity=y}let E=`translate3d(${p}, ${h}, 0px)`;if(typeof m<"u"&&m!==null){const y=m-(m-1)*(1-Math.abs(c));E+=` scale(${y})`}if(w&&typeof w<"u"&&w!==null){const y=w*c*-1;E+=` rotate(${y}deg)`}l.style.transform=E},o=()=>{const{el:l,slides:c,progress:u,snapGrid:d,isElement:f}=e,p=ue(l,s);e.isElement&&p.push(...ue(e.hostEl,s)),p.forEach(h=>{r(h,u)}),c.forEach((h,m)=>{let g=h.progress;e.params.slidesPerGroup>1&&e.params.slidesPerView!=="auto"&&(g+=Math.ceil(m/2)-u*(d.length-1)),g=Math.min(Math.max(g,-1),1),h.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach(w=>{r(w,g)})})},a=function(l){l===void 0&&(l=e.params.speed);const{el:c,hostEl:u}=e,d=[...c.querySelectorAll(s)];e.isElement&&d.push(...u.querySelectorAll(s)),d.forEach(f=>{let p=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;l===0&&(p=0),f.style.transitionDuration=`${p}ms`})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&o()}),i("setTranslate",()=>{e.params.parallax.enabled&&o()}),i("setTransition",(l,c)=>{e.params.parallax.enabled&&a(c)})}function yw(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=se();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let o=1,a=!1,l,c;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},p={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let h=1;Object.defineProperty(e.zoom,"scale",{get(){return h},set(L){if(h!==L){const F=d.imageEl,B=d.slideEl;s("zoomChange",L,F,B)}h=L}});function m(){if(u.length<2)return 1;const L=u[0].pageX,F=u[0].pageY,B=u[1].pageX,j=u[1].pageY;return Math.sqrt((B-L)**2+(j-F)**2)}function g(){const L=e.params.zoom,F=d.imageWrapEl.getAttribute("data-swiper-zoom")||L.maxRatio;if(L.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth){const B=d.imageEl.naturalWidth/d.imageEl.offsetWidth;return Math.min(B,F)}return F}function w(){if(u.length<2)return{x:null,y:null};const L=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-L.x-r.scrollX)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-L.y-r.scrollY)/o]}function E(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}function y(L){const F=E();return!!(L.target.matches(F)||e.slides.filter(B=>B.contains(L.target)).length>0)}function b(L){const F=`.${e.params.zoom.containerClass}`;return!!(L.target.matches(F)||[...e.hostEl.querySelectorAll(F)].filter(B=>B.contains(L.target)).length>0)}function T(L){if(L.pointerType==="mouse"&&u.splice(0,u.length),!y(L))return;const F=e.params.zoom;if(l=!1,c=!1,u.push(L),!(u.length<2)){if(l=!0,d.scaleStart=m(),!d.slideEl){d.slideEl=L.target.closest(`.${e.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=e.slides[e.activeIndex]);let B=d.slideEl.querySelector(`.${F.containerClass}`);if(B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=B,B?d.imageWrapEl=It(d.imageEl,`.${F.containerClass}`)[0]:d.imageWrapEl=void 0,!d.imageWrapEl){d.imageEl=void 0;return}d.maxRatio=g()}if(d.imageEl){const[B,j]=w();d.originX=B,d.originY=j,d.imageEl.style.transitionDuration="0ms"}a=!0}}function C(L){if(!y(L))return;const F=e.params.zoom,B=e.zoom,j=u.findIndex($=>$.pointerId===L.pointerId);j>=0&&(u[j]=L),!(u.length<2)&&(c=!0,d.scaleMove=m(),d.imageEl&&(B.scale=d.scaleMove/d.scaleStart*o,B.scale>d.maxRatio&&(B.scale=d.maxRatio-1+(B.scale-d.maxRatio+1)**.5),B.scale<F.minRatio&&(B.scale=F.minRatio+1-(F.minRatio-B.scale+1)**.5),d.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`))}function x(L){if(!y(L)||L.pointerType==="mouse"&&L.type==="pointerout")return;const F=e.params.zoom,B=e.zoom,j=u.findIndex($=>$.pointerId===L.pointerId);j>=0&&u.splice(j,1),!(!l||!c)&&(l=!1,c=!1,d.imageEl&&(B.scale=Math.max(Math.min(B.scale,d.maxRatio),F.minRatio),d.imageEl.style.transitionDuration=`${e.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`,o=B.scale,a=!1,B.scale>1&&d.slideEl?d.slideEl.classList.add(`${F.zoomedSlideClass}`):B.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${F.zoomedSlideClass}`),B.scale===1&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}let _;function v(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function P(){clearTimeout(_),e.touchEventsData.preventTouchMoveFromPointerMove=!0,_=setTimeout(()=>{v()})}function O(L){const F=e.device;if(!d.imageEl||f.isTouched)return;F.android&&L.cancelable&&L.preventDefault(),f.isTouched=!0;const B=u.length>0?u[0]:L;f.touchesStart.x=B.pageX,f.touchesStart.y=B.pageY}function S(L){if(!y(L)||!b(L))return;const F=e.zoom;if(!d.imageEl||!f.isTouched||!d.slideEl)return;f.isMoved||(f.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,f.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,f.startX=gr(d.imageWrapEl,"x")||0,f.startY=gr(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const B=f.width*F.scale,j=f.height*F.scale;if(f.minX=Math.min(d.slideWidth/2-B/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-j/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:L.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:L.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(e.allowClick=!1),!f.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x)){f.isTouched=!1,v();return}if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y)){f.isTouched=!1,v();return}}L.cancelable&&L.preventDefault(),L.stopPropagation(),P(),f.isMoved=!0;const J=(F.scale-o)/(d.maxRatio-e.params.zoom.minRatio),{originX:me,originY:Dt}=d;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+J*(f.width-me*2),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+J*(f.height-Dt*2),f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),p.prevPositionX||(p.prevPositionX=f.touchesCurrent.x),p.prevPositionY||(p.prevPositionY=f.touchesCurrent.y),p.prevTime||(p.prevTime=Date.now()),p.x=(f.touchesCurrent.x-p.prevPositionX)/(Date.now()-p.prevTime)/2,p.y=(f.touchesCurrent.y-p.prevPositionY)/(Date.now()-p.prevTime)/2,Math.abs(f.touchesCurrent.x-p.prevPositionX)<2&&(p.x=0),Math.abs(f.touchesCurrent.y-p.prevPositionY)<2&&(p.y=0),p.prevPositionX=f.touchesCurrent.x,p.prevPositionY=f.touchesCurrent.y,p.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function I(){const L=e.zoom;if(!d.imageEl)return;if(!f.isTouched||!f.isMoved){f.isTouched=!1,f.isMoved=!1;return}f.isTouched=!1,f.isMoved=!1;let F=300,B=300;const j=p.x*F,$=f.currentX+j,J=p.y*B,me=f.currentY+J;p.x!==0&&(F=Math.abs(($-f.currentX)/p.x)),p.y!==0&&(B=Math.abs((me-f.currentY)/p.y));const Dt=Math.max(F,B);f.currentX=$,f.currentY=me;const oi=f.width*L.scale,Fe=f.height*L.scale;f.minX=Math.min(d.slideWidth/2-oi/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Fe/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.imageWrapEl.style.transitionDuration=`${Dt}ms`,d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function R(){const L=e.zoom;d.slideEl&&e.activeIndex!==e.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),L.scale=1,o=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function N(L){const F=e.zoom,B=e.params.zoom;if(!d.slideEl){L&&L.target&&(d.slideEl=L.target.closest(`.${e.params.slideClass}, swiper-slide`)),d.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?d.slideEl=ue(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:d.slideEl=e.slides[e.activeIndex]);let pn=d.slideEl.querySelector(`.${B.containerClass}`);pn&&(pn=pn.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=pn,pn?d.imageWrapEl=It(d.imageEl,`.${B.containerClass}`)[0]:d.imageWrapEl=void 0}if(!d.imageEl||!d.imageWrapEl)return;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${B.zoomedSlideClass}`);let j,$,J,me,Dt,oi,Fe,yt,Eo,bo,To,So,ai,li,ms,gs,vs,_s;typeof f.touchesStart.x>"u"&&L?(j=L.pageX,$=L.pageY):(j=f.touchesStart.x,$=f.touchesStart.y);const hn=typeof L=="number"?L:null;o===1&&hn&&(j=void 0,$=void 0,f.touchesStart.x=void 0,f.touchesStart.y=void 0);const Co=g();F.scale=hn||Co,o=hn||Co,L&&!(o===1&&hn)?(vs=d.slideEl.offsetWidth,_s=d.slideEl.offsetHeight,J=qi(d.slideEl).left+r.scrollX,me=qi(d.slideEl).top+r.scrollY,Dt=J+vs/2-j,oi=me+_s/2-$,Eo=d.imageEl.offsetWidth||d.imageEl.clientWidth,bo=d.imageEl.offsetHeight||d.imageEl.clientHeight,To=Eo*F.scale,So=bo*F.scale,ai=Math.min(vs/2-To/2,0),li=Math.min(_s/2-So/2,0),ms=-ai,gs=-li,Fe=Dt*F.scale,yt=oi*F.scale,Fe<ai&&(Fe=ai),Fe>ms&&(Fe=ms),yt<li&&(yt=li),yt>gs&&(yt=gs)):(Fe=0,yt=0),hn&&F.scale===1&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Fe}px, ${yt}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${F.scale})`}function H(){const L=e.zoom,F=e.params.zoom;if(!d.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?d.slideEl=ue(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:d.slideEl=e.slides[e.activeIndex];let B=d.slideEl.querySelector(`.${F.containerClass}`);B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=B,B?d.imageWrapEl=It(d.imageEl,`.${F.containerClass}`)[0]:d.imageWrapEl=void 0}!d.imageEl||!d.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),L.scale=1,o=1,f.touchesStart.x=void 0,f.touchesStart.y=void 0,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${F.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function A(L){const F=e.zoom;F.scale&&F.scale!==1?H():N(L)}function M(){const L=e.params.passiveListeners?{passive:!0,capture:!1}:!1,F=e.params.passiveListeners?{passive:!1,capture:!0}:!0;return{passiveListener:L,activeListenerWithCapture:F}}function D(){const L=e.zoom;if(L.enabled)return;L.enabled=!0;const{passiveListener:F,activeListenerWithCapture:B}=M();e.wrapperEl.addEventListener("pointerdown",T,F),e.wrapperEl.addEventListener("pointermove",C,B),["pointerup","pointercancel","pointerout"].forEach(j=>{e.wrapperEl.addEventListener(j,x,F)}),e.wrapperEl.addEventListener("pointermove",S,B)}function U(){const L=e.zoom;if(!L.enabled)return;L.enabled=!1;const{passiveListener:F,activeListenerWithCapture:B}=M();e.wrapperEl.removeEventListener("pointerdown",T,F),e.wrapperEl.removeEventListener("pointermove",C,B),["pointerup","pointercancel","pointerout"].forEach(j=>{e.wrapperEl.removeEventListener(j,x,F)}),e.wrapperEl.removeEventListener("pointermove",S,B)}i("init",()=>{e.params.zoom.enabled&&D()}),i("destroy",()=>{U()}),i("touchStart",(L,F)=>{e.zoom.enabled&&O(F)}),i("touchEnd",(L,F)=>{e.zoom.enabled&&I()}),i("doubleTap",(L,F)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&A(F)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&R()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&R()}),Object.assign(e.zoom,{enable:D,disable:U,in:N,out:H,toggle:A})}function ww(n){let{swiper:e,extendParams:t,on:i}=n;t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0};function s(c,u){const d=function(){let m,g,w;return(E,y)=>{for(g=-1,m=E.length;m-g>1;)w=m+g>>1,E[w]<=y?g=w:m=w;return m}}();this.x=c,this.y=u,this.lastIndex=c.length-1;let f,p;return this.interpolate=function(m){return m?(p=d(this.x,m),f=p-1,(m-this.x[f])*(this.y[p]-this.y[f])/(this.x[p]-this.x[f])+this.y[f]):0},this}function r(c){e.controller.spline=e.params.loop?new s(e.slidesGrid,c.slidesGrid):new s(e.snapGrid,c.snapGrid)}function o(c,u){const d=e.controller.control;let f,p;const h=e.constructor;function m(g){if(g.destroyed)return;const w=e.rtlTranslate?-e.translate:e.translate;e.params.controller.by==="slide"&&(r(g),p=-e.controller.spline.interpolate(-w)),(!p||e.params.controller.by==="container")&&(f=(g.maxTranslate()-g.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),p=(w-e.minTranslate())*f+g.minTranslate()),e.params.controller.inverse&&(p=g.maxTranslate()-p),g.updateProgress(p),g.setTranslate(p,e),g.updateActiveIndex(),g.updateSlidesClasses()}if(Array.isArray(d))for(let g=0;g<d.length;g+=1)d[g]!==u&&d[g]instanceof h&&m(d[g]);else d instanceof h&&u!==d&&m(d)}function a(c,u){const d=e.constructor,f=e.controller.control;let p;function h(m){m.destroyed||(m.setTransition(c,e),c!==0&&(m.transitionStart(),m.params.autoHeight&&Nt(()=>{m.updateAutoHeight()}),Rn(m.wrapperEl,()=>{f&&m.transitionEnd()})))}if(Array.isArray(f))for(p=0;p<f.length;p+=1)f[p]!==u&&f[p]instanceof d&&h(f[p]);else f instanceof d&&u!==f&&h(f)}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}i("beforeInit",()=>{if(typeof window<"u"&&(typeof e.params.controller.control=="string"||e.params.controller.control instanceof HTMLElement)){(typeof e.params.controller.control=="string"?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(u=>{if(e.controller.control||(e.controller.control=[]),u&&u.swiper)e.controller.control.push(u.swiper);else if(u){const d=`${e.params.eventsPrefix}init`,f=p=>{e.controller.control.push(p.detail[0]),e.update(),u.removeEventListener(d,f)};u.addEventListener(d,f)}});return}e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(u,d)}),Object.assign(e.controller,{setTranslate:o,setTransition:a})}function Ew(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),e.a11y={clicked:!1};let s=null,r,o,a=new Date().getTime();function l(A){const M=s;M.length!==0&&(M.innerHTML="",M.innerHTML=A)}function c(A){A===void 0&&(A=16);const M=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(A).replace(/x/g,M)}function u(A){A=q(A),A.forEach(M=>{M.setAttribute("tabIndex","0")})}function d(A){A=q(A),A.forEach(M=>{M.setAttribute("tabIndex","-1")})}function f(A,M){A=q(A),A.forEach(D=>{D.setAttribute("role",M)})}function p(A,M){A=q(A),A.forEach(D=>{D.setAttribute("aria-roledescription",M)})}function h(A,M){A=q(A),A.forEach(D=>{D.setAttribute("aria-controls",M)})}function m(A,M){A=q(A),A.forEach(D=>{D.setAttribute("aria-label",M)})}function g(A,M){A=q(A),A.forEach(D=>{D.setAttribute("id",M)})}function w(A,M){A=q(A),A.forEach(D=>{D.setAttribute("aria-live",M)})}function E(A){A=q(A),A.forEach(M=>{M.setAttribute("aria-disabled",!0)})}function y(A){A=q(A),A.forEach(M=>{M.setAttribute("aria-disabled",!1)})}function b(A){if(A.keyCode!==13&&A.keyCode!==32)return;const M=e.params.a11y,D=A.target;if(!(e.pagination&&e.pagination.el&&(D===e.pagination.el||e.pagination.el.contains(A.target))&&!A.target.matches(Be(e.params.pagination.bulletClass)))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const U=q(e.navigation.prevEl);q(e.navigation.nextEl).includes(D)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?l(M.lastSlideMessage):l(M.nextSlideMessage)),U.includes(D)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?l(M.firstSlideMessage):l(M.prevSlideMessage))}e.pagination&&D.matches(Be(e.params.pagination.bulletClass))&&D.click()}}function T(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:A,prevEl:M}=e.navigation;M&&(e.isBeginning?(E(M),d(M)):(y(M),u(M))),A&&(e.isEnd?(E(A),d(A)):(y(A),u(A)))}function C(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function x(){return C()&&e.params.pagination.clickable}function _(){const A=e.params.a11y;C()&&e.pagination.bullets.forEach(M=>{e.params.pagination.clickable&&(u(M),e.params.pagination.renderBullet||(f(M,"button"),m(M,A.paginationBulletMessage.replace(/\{\{index\}\}/,Vn(M)+1)))),M.matches(Be(e.params.pagination.bulletActiveClass))?M.setAttribute("aria-current","true"):M.removeAttribute("aria-current")})}const v=(A,M,D)=>{u(A),A.tagName!=="BUTTON"&&(f(A,"button"),A.addEventListener("keydown",b)),m(A,D),h(A,M)},P=A=>{o&&o!==A.target&&!o.contains(A.target)&&(r=!0),e.a11y.clicked=!0},O=()=>{r=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},S=A=>{a=new Date().getTime()},I=A=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus||new Date().getTime()-a<100)return;const M=A.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!M||!e.slides.includes(M))return;o=M;const D=e.slides.indexOf(M)===e.activeIndex,U=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(M);D||U||A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{r||(e.params.loop?e.slideToLoop(parseInt(M.getAttribute("data-swiper-slide-index")),0):e.slideTo(e.slides.indexOf(M),0),r=!1)}))},R=()=>{const A=e.params.a11y;A.itemRoleDescriptionMessage&&p(e.slides,A.itemRoleDescriptionMessage),A.slideRole&&f(e.slides,A.slideRole);const M=e.slides.length;A.slideLabelMessage&&e.slides.forEach((D,U)=>{const L=e.params.loop?parseInt(D.getAttribute("data-swiper-slide-index"),10):U,F=A.slideLabelMessage.replace(/\{\{index\}\}/,L+1).replace(/\{\{slidesLength\}\}/,M);m(D,F)})},N=()=>{const A=e.params.a11y;e.el.append(s);const M=e.el;A.containerRoleDescriptionMessage&&p(M,A.containerRoleDescriptionMessage),A.containerMessage&&m(M,A.containerMessage),A.containerRole&&f(M,A.containerRole);const D=e.wrapperEl,U=A.id||D.getAttribute("id")||`swiper-wrapper-${c(16)}`,L=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";g(D,U),w(D,L),R();let{nextEl:F,prevEl:B}=e.navigation?e.navigation:{};F=q(F),B=q(B),F&&F.forEach($=>v($,U,A.nextSlideMessage)),B&&B.forEach($=>v($,U,A.prevSlideMessage)),x()&&q(e.pagination.el).forEach(J=>{J.addEventListener("keydown",b)}),fe().addEventListener("visibilitychange",S),e.el.addEventListener("focus",I,!0),e.el.addEventListener("focus",I,!0),e.el.addEventListener("pointerdown",P,!0),e.el.addEventListener("pointerup",O,!0)};function H(){s&&s.remove();let{nextEl:A,prevEl:M}=e.navigation?e.navigation:{};A=q(A),M=q(M),A&&A.forEach(U=>U.removeEventListener("keydown",b)),M&&M.forEach(U=>U.removeEventListener("keydown",b)),x()&&q(e.pagination.el).forEach(L=>{L.removeEventListener("keydown",b)}),fe().removeEventListener("visibilitychange",S),e.el&&typeof e.el!="string"&&(e.el.removeEventListener("focus",I,!0),e.el.removeEventListener("pointerdown",P,!0),e.el.removeEventListener("pointerup",O,!0))}i("beforeInit",()=>{s=be("span",e.params.a11y.notificationClass),s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&N()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&R()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&T()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&_()}),i("destroy",()=>{e.params.a11y.enabled&&H()})}function bw(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let s=!1,r={};const o=p=>p.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=p=>{const h=se();let m;p?m=new URL(p):m=h.location;const g=m.pathname.slice(1).split("/").filter(b=>b!==""),w=g.length,E=g[w-2],y=g[w-1];return{key:E,value:y}},l=(p,h)=>{const m=se();if(!s||!e.params.history.enabled)return;let g;e.params.url?g=new URL(e.params.url):g=m.location;const w=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${h}"]`):e.slides[h];let E=o(w.getAttribute("data-history"));if(e.params.history.root.length>0){let b=e.params.history.root;b[b.length-1]==="/"&&(b=b.slice(0,b.length-1)),E=`${b}/${p?`${p}/`:""}${E}`}else g.pathname.includes(p)||(E=`${p?`${p}/`:""}${E}`);e.params.history.keepQuery&&(E+=g.search);const y=m.history.state;y&&y.value===E||(e.params.history.replaceState?m.history.replaceState({value:E},null,E):m.history.pushState({value:E},null,E))},c=(p,h,m)=>{if(h)for(let g=0,w=e.slides.length;g<w;g+=1){const E=e.slides[g];if(o(E.getAttribute("data-history"))===h){const b=e.getSlideIndex(E);e.slideTo(b,p,m)}}else e.slideTo(0,p,m)},u=()=>{r=a(e.params.url),c(e.params.speed,r.value,!1)},d=()=>{const p=se();if(e.params.history){if(!p.history||!p.history.pushState){e.params.history.enabled=!1,e.params.hashNavigation.enabled=!0;return}if(s=!0,r=a(e.params.url),!r.key&&!r.value){e.params.history.replaceState||p.addEventListener("popstate",u);return}c(0,r.value,e.params.runCallbacksOnInit),e.params.history.replaceState||p.addEventListener("popstate",u)}},f=()=>{const p=se();e.params.history.replaceState||p.removeEventListener("popstate",u)};i("init",()=>{e.params.history.enabled&&d()}),i("destroy",()=>{e.params.history.enabled&&f()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{s&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{s&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})}function Tw(n){let{swiper:e,extendParams:t,emit:i,on:s}=n,r=!1;const o=fe(),a=se();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,p){if(e.virtual&&e.params.virtual.enabled){const h=e.slides.filter(g=>g.getAttribute("data-hash")===p)[0];return h?parseInt(h.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(ue(e.slidesEl,`.${e.params.slideClass}[data-hash="${p}"], swiper-slide[data-hash="${p}"]`)[0])}}});const l=()=>{i("hashChange");const f=o.location.hash.replace("#",""),p=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],h=p?p.getAttribute("data-hash"):"";if(f!==h){const m=e.params.hashNavigation.getSlideIndex(e,f);if(typeof m>"u"||Number.isNaN(m))return;e.slideTo(m)}},c=()=>{if(!r||!e.params.hashNavigation.enabled)return;const f=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],p=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${p}`||""),i("hashSet")):(o.location.hash=p||"",i("hashSet"))},u=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;r=!0;const f=o.location.hash.replace("#","");if(f){const h=e.params.hashNavigation.getSlideIndex(e,f);e.slideTo(h||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)},d=()=>{e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)};s("init",()=>{e.params.hashNavigation.enabled&&u()}),s("destroy",()=>{e.params.hashNavigation.enabled&&d()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{r&&c()}),s("slideChange",()=>{r&&e.params.cssMode&&c()})}function Sw(n){let{swiper:e,extendParams:t,on:i,emit:s,params:r}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=r&&r.autoplay?r.autoplay.delay:3e3,c=r&&r.autoplay?r.autoplay.delay:3e3,u,d=new Date().getTime(),f,p,h,m,g,w,E;function y(M){!e||e.destroyed||!e.wrapperEl||M.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),!(E||M.detail&&M.detail.bySwiperTouchMove)&&P())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const M=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=M,s("autoplayTimeLeft",M,M/l),a=requestAnimationFrame(()=>{b()})},T=()=>{let M;return e.virtual&&e.params.virtual.enabled?M=e.slides.filter(U=>U.classList.contains("swiper-slide-active"))[0]:M=e.slides[e.activeIndex],M?parseInt(M.getAttribute("data-swiper-autoplay"),10):void 0},C=M=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),b();let D=typeof M>"u"?e.params.autoplay.delay:M;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const U=T();!Number.isNaN(U)&&U>0&&typeof M>"u"&&(D=U,l=U,c=U),u=D;const L=e.params.speed,F=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(L,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,L,!0,!0),s("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(L,!0,!0),s("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,L,!0,!0),s("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return D>0?(clearTimeout(o),o=setTimeout(()=>{F()},D)):requestAnimationFrame(()=>{F()}),D},x=()=>{d=new Date().getTime(),e.autoplay.running=!0,C(),s("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),s("autoplayStop")},v=(M,D)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),M||(w=!0);const U=()=>{s("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):P()};if(e.autoplay.paused=!0,D){g&&(u=e.params.autoplay.delay),g=!1,U();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),U())},P=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),w?(w=!1,C(u)):C(),e.autoplay.paused=!1,s("autoplayResume"))},O=()=>{if(e.destroyed||!e.autoplay.running)return;const M=fe();M.visibilityState==="hidden"&&(w=!0,v(!0)),M.visibilityState==="visible"&&P()},S=M=>{M.pointerType==="mouse"&&(w=!0,E=!0,!(e.animating||e.autoplay.paused)&&v(!0))},I=M=>{M.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&P())},R=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",S),e.el.addEventListener("pointerleave",I))},N=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",S),e.el.removeEventListener("pointerleave",I))},H=()=>{fe().addEventListener("visibilitychange",O)},A=()=>{fe().removeEventListener("visibilitychange",O)};i("init",()=>{e.params.autoplay.enabled&&(R(),H(),x())}),i("destroy",()=>{N(),A(),e.autoplay.running&&_()}),i("_freeModeStaticRelease",()=>{(h||w)&&P()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():v(!0,!0)}),i("beforeTransitionStart",(M,D,U)=>{e.destroyed||!e.autoplay.running||(U||!e.params.autoplay.disableOnInteraction?v(!0,!0):_())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){_();return}p=!0,h=!1,w=!1,m=setTimeout(()=>{w=!0,h=!0,v(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(m),clearTimeout(o),e.params.autoplay.disableOnInteraction){h=!1,p=!1;return}h&&e.params.cssMode&&P(),h=!1,p=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(g=!0)}),Object.assign(e.autoplay,{start:x,stop:_,pause:v,resume:P})}function Cw(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,r=!1;e.thumbs={swiper:null};function o(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof u>"u"||u===null)return;let f;c.params.loop?f=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=u,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function a(){const{thumbs:c}=e.params;if(s)return!1;s=!0;const u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Tn(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(d),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const d=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const p=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(g=>g.classList.remove(p)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let g=0;g<f;g+=1)ue(u.slidesEl,`[data-swiper-slide-index="${e.realIndex+g}"]`).forEach(w=>{w.classList.add(p)});else for(let g=0;g<f;g+=1)u.slides[e.realIndex+g]&&u.slides[e.realIndex+g].classList.add(p);const h=e.params.thumbs.autoScrollOffset,m=h&&!u.params.loop;if(e.realIndex!==u.realIndex||m){const g=u.activeIndex;let w,E;if(u.params.loop){const y=u.slides.filter(b=>b.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];w=u.slides.indexOf(y),E=e.activeIndex>e.previousIndex?"next":"prev"}else w=e.realIndex,E=w>e.previousIndex?"next":"prev";m&&(w+=E==="next"?h:-1*h),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(w)<0&&(u.params.centeredSlides?w>g?w=w-Math.floor(d/2)+1:w=w+Math.floor(d/2)-1:w>g&&u.params.slidesPerGroup,u.slideTo(w,c?0:void 0))}}i("beforeInit",()=>{const{thumbs:c}=e.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){const u=fe(),d=()=>{const p=typeof c.swiper=="string"?u.querySelector(c.swiper):c.swiper;if(p&&p.swiper)c.swiper=p.swiper,a(),l(!0);else if(p){const h=`${e.params.eventsPrefix}init`,m=g=>{c.swiper=g.detail[0],p.removeEventListener(h,m),a(),l(!0),c.swiper.update(),e.update()};p.addEventListener(h,m)}return p},f=()=>{if(e.destroyed)return;d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||r&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})}function Iw(n){let{swiper:e,extendParams:t,emit:i,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;l.velocities.length===0&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Se()})}function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:p,touchEventsData:h}=e,g=Se()-h.touchStartTime;if(c<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(c>-e.maxTranslate()){e.slides.length<p.length?e.slideTo(p.length-1):e.slideTo(e.slides.length-1);return}if(u.freeMode.momentum){if(h.velocities.length>1){const _=h.velocities.pop(),v=h.velocities.pop(),P=_.position-v.position,O=_.time-v.time;e.velocity=P/O,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(O>150||Se()-_.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,h.velocities.length=0;let w=1e3*u.freeMode.momentumRatio;const E=e.velocity*w;let y=e.translate+E;f&&(y=-y);let b=!1,T;const C=Math.abs(e.velocity)*20*u.freeMode.momentumBounceRatio;let x;if(y<e.maxTranslate())u.freeMode.momentumBounce?(y+e.maxTranslate()<-C&&(y=e.maxTranslate()-C),T=e.maxTranslate(),b=!0,h.allowMomentumBounce=!0):y=e.maxTranslate(),u.loop&&u.centeredSlides&&(x=!0);else if(y>e.minTranslate())u.freeMode.momentumBounce?(y-e.minTranslate()>C&&(y=e.minTranslate()+C),T=e.minTranslate(),b=!0,h.allowMomentumBounce=!0):y=e.minTranslate(),u.loop&&u.centeredSlides&&(x=!0);else if(u.freeMode.sticky){let _;for(let v=0;v<p.length;v+=1)if(p[v]>-y){_=v;break}Math.abs(p[_]-y)<Math.abs(p[_-1]-y)||e.swipeDirection==="next"?y=p[_]:y=p[_-1],y=-y}if(x&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?w=Math.abs((-y-e.translate)/e.velocity):w=Math.abs((y-e.translate)/e.velocity),u.freeMode.sticky){const _=Math.abs((f?-y:y)-e.translate),v=e.slidesSizesGrid[e.activeIndex];_<v?w=u.speed:_<2*v?w=u.speed*1.5:w=u.speed*2.5}}else if(u.freeMode.sticky){e.slideToClosest();return}u.freeMode.momentumBounce&&b?(e.updateProgress(T),e.setTransition(w),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Rn(d,()=>{!e||e.destroyed||!h.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(T),Rn(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(y),e.setTransition(w),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Rn(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(y),e.updateActiveIndex(),e.updateSlidesClasses()}else if(u.freeMode.sticky){e.slideToClosest();return}else u.freeMode&&i("_freeModeNoMomentumRelease");(!u.freeMode.momentum||g>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:o,onTouchEnd:a}})}function xw(n){let{swiper:e,extendParams:t,on:i}=n;t({grid:{rows:1,fill:"column"}});let s,r,o,a;const l=()=>{let m=e.params.spaceBetween;return typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*e.size:typeof m=="string"&&(m=parseFloat(m)),m},c=m=>{const{slidesPerView:g}=e.params,{rows:w,fill:E}=e.params.grid,y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:m.length;o=Math.floor(y/w),Math.floor(y/w)===y/w?s=y:s=Math.ceil(y/w)*w,g!=="auto"&&E==="row"&&(s=Math.max(s,g*w)),r=s/w},u=()=>{e.slides&&e.slides.forEach(m=>{m.swiperSlideGridSet&&(m.style.height="",m.style[e.getDirectionLabel("margin-top")]="")})},d=(m,g,w)=>{const{slidesPerGroup:E}=e.params,y=l(),{rows:b,fill:T}=e.params.grid,C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:w.length;let x,_,v;if(T==="row"&&E>1){const P=Math.floor(m/(E*b)),O=m-b*E*P,S=P===0?E:Math.min(Math.ceil((C-P*b*E)/b),E);v=Math.floor(O/S),_=O-v*S+P*E,x=_+v*s/b,g.style.order=x}else T==="column"?(_=Math.floor(m/b),v=m-_*b,(_>o||_===o&&v===b-1)&&(v+=1,v>=b&&(v=0,_+=1))):(v=Math.floor(m/r),_=m-v*r);g.row=v,g.column=_,g.style.height=`calc((100% - ${(b-1)*y}px) / ${b})`,g.style[e.getDirectionLabel("margin-top")]=v!==0?y&&`${y}px`:"",g.swiperSlideGridSet=!0},f=(m,g)=>{const{centeredSlides:w,roundLengths:E}=e.params,y=l(),{rows:b}=e.params.grid;if(e.virtualSize=(m+y)*s,e.virtualSize=Math.ceil(e.virtualSize/b)-y,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+y}px`),w){const T=[];for(let C=0;C<g.length;C+=1){let x=g[C];E&&(x=Math.floor(x)),g[C]<e.virtualSize+g[0]&&T.push(x)}g.splice(0,g.length),g.push(...T)}},p=()=>{a=e.params.grid&&e.params.grid.rows>1},h=()=>{const{params:m,el:g}=e,w=m.grid&&m.grid.rows>1;a&&!w?(g.classList.remove(`${m.containerModifierClass}grid`,`${m.containerModifierClass}grid-column`),o=1,e.emitContainerClasses()):!a&&w&&(g.classList.add(`${m.containerModifierClass}grid`),m.grid.fill==="column"&&g.classList.add(`${m.containerModifierClass}grid-column`),e.emitContainerClasses()),a=w};i("init",p),i("update",h),e.grid={initSlides:c,unsetSlides:u,updateSlide:d,updateWrapperSize:f}}function Pw(n){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const s=r=>{if(typeof r=="string"){const o=document.createElement("div");o.innerHTML=r,i.append(o.children[0]),o.innerHTML=""}else i.append(r)};if(typeof n=="object"&&"length"in n)for(let r=0;r<n.length;r+=1)n[r]&&s(n[r]);else s(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function Aw(n){const e=this,{params:t,activeIndex:i,slidesEl:s}=e;t.loop&&e.loopDestroy();let r=i+1;const o=a=>{if(typeof a=="string"){const l=document.createElement("div");l.innerHTML=a,s.prepend(l.children[0]),l.innerHTML=""}else s.prepend(a)};if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);r=i+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(r,0,!1)}function Mw(n,e){const t=this,{params:i,activeIndex:s,slidesEl:r}=t;let o=s;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const a=t.slides.length;if(n<=0){t.prependSlide(e);return}if(n>=a){t.appendSlide(e);return}let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=t.slides[u];d.remove(),c.unshift(d)}if(typeof e=="object"&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&r.append(e[u]);l=o>n?o+e.length:o}else r.append(e);for(let u=0;u<c.length;u+=1)r.append(c[u]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),i.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function Rw(n){const e=this,{params:t,activeIndex:i}=e;let s=i;t.loop&&(s-=e.loopedSlides,e.loopDestroy());let r=s,o;if(typeof n=="object"&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<r&&(r-=1);r=Math.max(r,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<r&&(r-=1),r=Math.max(r,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),t.loop?e.slideTo(r+e.loopedSlides,0,!1):e.slideTo(r,0,!1)}function Ow(){const n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function Nw(n){let{swiper:e}=n;Object.assign(e,{appendSlide:Pw.bind(e),prependSlide:Aw.bind(e),addSlide:Mw.bind(e),removeSlide:Rw.bind(e),removeAllSlides:Ow.bind(e)})}function fn(n){const{effect:e,swiper:t,on:i,setTranslate:s,setTransition:r,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),i("setTranslate",()=>{t.params.effect===e&&s()}),i("setTransition",(d,f)=>{t.params.effect===e&&r(f)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}});let u;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(s(),u=!1)}))})}function ri(n,e){const t=kt(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function hs(n){let{swiper:e,duration:t,transformElements:i,allSlides:s}=n;const{activeIndex:r}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let a=!1,l;s?l=i:l=i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?o(c):c;return e.getSlideIndex(u)===r}),l.forEach(c=>{Rn(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function Lw(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),fn({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let f=0;e.isHorizontal()||(f=d,d=0);const p=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),h=ri(a,c);h.style.opacity=p,h.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>kt(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),hs({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function kw(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const s=(l,c,u)=>{let d=u?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),f=u?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=be("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"left":"top"}`.split(" ")),l.append(d)),f||(f=be("div",`swiper-slide-shadow-cube swiper-slide-shadow-${u?"right":"bottom"}`.split(" ")),l.append(f)),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};fn({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:f,rtlTranslate:p,size:h,browser:m}=e,g=fs(e),w=e.params.cubeEffect,E=e.isHorizontal(),y=e.virtual&&e.params.virtual.enabled;let b=0,T;w.shadow&&(E?(T=e.wrapperEl.querySelector(".swiper-cube-shadow"),T||(T=be("div","swiper-cube-shadow"),e.wrapperEl.append(T)),T.style.height=`${d}px`):(T=l.querySelector(".swiper-cube-shadow"),T||(T=be("div","swiper-cube-shadow"),l.append(T))));for(let x=0;x<u.length;x+=1){const _=u[x];let v=x;y&&(v=parseInt(_.getAttribute("data-swiper-slide-index"),10));let P=v*90,O=Math.floor(P/360);p&&(P=-P,O=Math.floor(-P/360));const S=Math.max(Math.min(_.progress,1),-1);let I=0,R=0,N=0;v%4===0?(I=-O*4*h,N=0):(v-1)%4===0?(I=0,N=-O*4*h):(v-2)%4===0?(I=h+O*4*h,N=h):(v-3)%4===0&&(I=-h,N=3*h+h*4*O),p&&(I=-I),E||(R=I,I=0);const H=`rotateX(${g(E?0:-P)}deg) rotateY(${g(E?P:0)}deg) translate3d(${I}px, ${R}px, ${N}px)`;S<=1&&S>-1&&(b=v*90+S*90,p&&(b=-v*90-S*90)),_.style.transform=H,w.slideShadows&&s(_,S,E)}if(c.style.transformOrigin=`50% 50% -${h/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${h/2}px`,w.shadow)if(E)T.style.transform=`translate3d(0px, ${d/2+w.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${w.shadowScale})`;else{const x=Math.abs(b)-Math.floor(Math.abs(b)/90)*90,_=1.5-(Math.sin(x*2*Math.PI/360)/2+Math.cos(x*2*Math.PI/360)/2),v=w.shadowScale,P=w.shadowScale/_,O=w.shadowOffset;T.style.transform=`scale3d(${v}, 1, ${P}) translate3d(0px, ${f/2+O}px, ${-f/2/P}px) rotateX(-89.99deg)`}const C=(m.isSafari||m.isWebView)&&m.needPerspectiveFix?-h/2:0;c.style.transform=`translate3d(0px,0,${C}px) rotateX(${g(e.isHorizontal()?0:b)}deg) rotateY(${g(e.isHorizontal()?-b:0)}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${C}px`)},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);s(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function tn(n,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,s=kt(e);let r=s.querySelector(`.${i.split(" ").join(".")}`);return r||(r=be("div",i.split(" ")),s.append(r)),r}function Dw(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const s=(l,c)=>{let u=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=tn("flip",l,e.isHorizontal()?"left":"top")),d||(d=tn("flip",l,e.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};fn({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect,d=fs(e);for(let f=0;f<l.length;f+=1){const p=l[f];let h=p.progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(p.progress,1),-1));const m=p.swiperSlideOffset;let w=-180*h,E=0,y=e.params.cssMode?-m-e.translate:-m,b=0;e.isHorizontal()?c&&(w=-w):(b=y,y=0,E=-w,w=0),p.style.zIndex=-Math.abs(Math.round(h))+l.length,u.slideShadows&&s(p,h);const T=`translate3d(${y}px, ${b}px, 0px) rotateX(${d(E)}deg) rotateY(${d(w)}deg)`,C=ri(u,p);C.style.transform=T}},setTransition:l=>{const c=e.slides.map(u=>kt(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),hs({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),s(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}function Fw(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),fn({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,d=e.isHorizontal(),f=e.translate,p=d?-f+o/2:-f+a/2,h=d?u.rotate:-u.rotate,m=u.depth,g=fs(e);for(let w=0,E=l.length;w<E;w+=1){const y=l[w],b=c[w],T=y.swiperSlideOffset,C=(p-T-b/2)/b,x=typeof u.modifier=="function"?u.modifier(C):C*u.modifier;let _=d?h*x:0,v=d?0:h*x,P=-m*Math.abs(x),O=u.stretch;typeof O=="string"&&O.indexOf("%")!==-1&&(O=parseFloat(u.stretch)/100*b);let S=d?0:O*x,I=d?O*x:0,R=1-(1-u.scale)*Math.abs(x);Math.abs(I)<.001&&(I=0),Math.abs(S)<.001&&(S=0),Math.abs(P)<.001&&(P=0),Math.abs(_)<.001&&(_=0),Math.abs(v)<.001&&(v=0),Math.abs(R)<.001&&(R=0);const N=`translate3d(${I}px,${S}px,${P}px)  rotateX(${g(v)}deg) rotateY(${g(_)}deg) scale(${R})`,H=ri(u,y);if(H.style.transform=N,y.style.zIndex=-Math.abs(Math.round(x))+1,u.slideShadows){let A=d?y.querySelector(".swiper-slide-shadow-left"):y.querySelector(".swiper-slide-shadow-top"),M=d?y.querySelector(".swiper-slide-shadow-right"):y.querySelector(".swiper-slide-shadow-bottom");A||(A=tn("coverflow",y,d?"left":"top")),M||(M=tn("coverflow",y,d?"right":"bottom")),A&&(A.style.opacity=x>0?x:0),M&&(M.style.opacity=-x>0?-x:0)}}},setTransition:o=>{e.slides.map(l=>kt(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function Bw(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=a=>typeof a=="string"?a:`${a}px`;fn({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:d}=u,f=e.params.centeredSlides,p=fs(e);if(f){const h=c[0]/2-e.params.slidesOffsetBefore||0;l.style.transform=`translateX(calc(50% - ${h}px))`}for(let h=0;h<a.length;h+=1){const m=a[h],g=m.progress,w=Math.min(Math.max(m.progress,-u.limitProgress),u.limitProgress);let E=w;f||(E=Math.min(Math.max(m.originalProgress,-u.limitProgress),u.limitProgress));const y=m.swiperSlideOffset,b=[e.params.cssMode?-y-e.translate:-y,0,0],T=[0,0,0];let C=!1;e.isHorizontal()||(b[1]=b[0],b[0]=0);let x={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};w<0?(x=u.next,C=!0):w>0&&(x=u.prev,C=!0),b.forEach((R,N)=>{b[N]=`calc(${R}px + (${s(x.translate[N])} * ${Math.abs(w*d)}))`}),T.forEach((R,N)=>{let H=x.rotate[N]*Math.abs(w*d);T[N]=H}),m.style.zIndex=-Math.abs(Math.round(g))+a.length;const _=b.join(", "),v=`rotateX(${p(T[0])}deg) rotateY(${p(T[1])}deg) rotateZ(${p(T[2])}deg)`,P=E<0?`scale(${1+(1-x.scale)*E*d})`:`scale(${1-(1-x.scale)*E*d})`,O=E<0?1+(1-x.opacity)*E*d:1-(1-x.opacity)*E*d,S=`translate3d(${_}) ${v} ${P}`;if(C&&x.shadow||!C){let R=m.querySelector(".swiper-slide-shadow");if(!R&&x.shadow&&(R=tn("creative",m)),R){const N=u.shadowPerProgress?w*(1/u.limitProgress):w;R.style.opacity=Math.min(Math.max(Math.abs(N),0),1)}}const I=ri(u,m);I.style.transform=S,I.style.opacity=O,x.origin&&(I.style.transformOrigin=x.origin)}},setTransition:a=>{const l=e.slides.map(c=>kt(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),hs({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}function zw(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),fn({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:u,isTouched:d}=e.touchEventsData,f=l?-e.translate:e.translate;for(let p=0;p<o.length;p+=1){const h=o[p],m=h.progress,g=Math.min(Math.max(m,-4),4);let w=h.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(w-=o[0].swiperSlideOffset);let E=e.params.cssMode?-w-e.translate:-w,y=0;const b=-100*Math.abs(g);let T=1,C=-c.perSlideRotate*g,x=c.perSlideOffset-Math.abs(g)*.75;const _=e.virtual&&e.params.virtual.enabled?e.virtual.from+p:p,v=(_===a||_===a-1)&&g>0&&g<1&&(d||e.params.cssMode)&&f<u,P=(_===a||_===a+1)&&g<0&&g>-1&&(d||e.params.cssMode)&&f>u;if(v||P){const R=(1-Math.abs((Math.abs(g)-.5)/.5))**.5;C+=-28*g*R,T+=-.5*R,x+=96*R,y=`${-25*R*Math.abs(g)}%`}if(g<0?E=`calc(${E}px ${l?"-":"+"} (${x*Math.abs(g)}%))`:g>0?E=`calc(${E}px ${l?"-":"+"} (-${x*Math.abs(g)}%))`:E=`${E}px`,!e.isHorizontal()){const R=y;y=E,E=R}const O=g<0?`${1+(1-T)*g}`:`${1-(1-T)*g}`,S=`
        translate3d(${E}, ${y}, ${b}px)
        rotateZ(${c.rotate?l?-C:C:0}deg)
        scale(${O})
      `;if(c.slideShadows){let R=h.querySelector(".swiper-slide-shadow");R||(R=tn("cards",h)),R&&(R.style.opacity=Math.min(Math.max((Math.abs(g)-.5)/.5,0),1))}h.style.zIndex=-Math.abs(Math.round(m))+o.length;const I=ri(c,h);I.style.transform=S}},setTransition:o=>{const a=e.slides.map(l=>kt(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),hs({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}const Uw=[fw,hw,pw,mw,gw,vw,_w,yw,ww,Ew,bw,Tw,Sw,Cw,Iw,xw,Nw,Lw,kw,Dw,Fw,Bw,zw];Te.use(Uw);var Dd={};(function(n){n.linear=function(e){return e},n.inQuad=function(e){return e*e},n.outQuad=function(e){return e*(2-e)},n.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},n.inCube=function(e){return e*e*e},n.outCube=function(e){return--e*e*e+1},n.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},n.inQuart=function(e){return e*e*e*e},n.outQuart=function(e){return 1- --e*e*e*e},n.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},n.inQuint=function(e){return e*e*e*e*e},n.outQuint=function(e){return--e*e*e*e*e+1},n.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},n.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},n.outSine=function(e){return Math.sin(e*Math.PI/2)},n.inOutSine=function(e){return .5*(1-Math.cos(Math.PI*e))},n.inExpo=function(e){return e==0?0:Math.pow(1024,e-1)},n.outExpo=function(e){return e==1?e:1-Math.pow(2,-10*e)},n.inOutExpo=function(e){return e==0?0:e==1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},n.inCirc=function(e){return 1-Math.sqrt(1-e*e)},n.outCirc=function(e){return Math.sqrt(1- --e*e)},n.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},n.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},n.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},n.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},n.inBounce=function(e){return 1-n.outBounce(1-e)},n.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},n.inOutBounce=function(e){return e<.5?n.inBounce(e*2)*.5:n.outBounce(e*2-1)*.5+.5},n.inElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)))},n.outElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/s)+1)},n.inOutElastic=function(e){var t,i=.1,s=.4;return e===0?0:e===1?1:(!i||i<1?(i=1,t=s/4):t=s*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)):i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/s)*.5+1)},n["in-quad"]=n.inQuad,n["out-quad"]=n.outQuad,n["in-out-quad"]=n.inOutQuad,n["in-cube"]=n.inCube,n["out-cube"]=n.outCube,n["in-out-cube"]=n.inOutCube,n["in-quart"]=n.inQuart,n["out-quart"]=n.outQuart,n["in-out-quart"]=n.inOutQuart,n["in-quint"]=n.inQuint,n["out-quint"]=n.outQuint,n["in-out-quint"]=n.inOutQuint,n["in-sine"]=n.inSine,n["out-sine"]=n.outSine,n["in-out-sine"]=n.inOutSine,n["in-expo"]=n.inExpo,n["out-expo"]=n.outExpo,n["in-out-expo"]=n.inOutExpo,n["in-circ"]=n.inCirc,n["out-circ"]=n.outCirc,n["in-out-circ"]=n.inOutCirc,n["in-back"]=n.inBack,n["out-back"]=n.outBack,n["in-out-back"]=n.inOutBack,n["in-bounce"]=n.inBounce,n["out-bounce"]=n.outBounce,n["in-out-bounce"]=n.inOutBounce,n["in-elastic"]=n.inElastic,n["out-elastic"]=n.outElastic,n["in-out-elastic"]=n.inOutElastic})(Dd);var Fd={exports:{}};(function(n){function e(i){if(i)return t(i)}function t(i){for(var s in e.prototype)i[s]=e.prototype[s];return i}e.prototype.on=e.prototype.addEventListener=function(i,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(s),this},e.prototype.once=function(i,s){function r(){this.off(i,r),s.apply(this,arguments)}return r.fn=s,this.on(i,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(i,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var o,a=0;a<r.length;a++)if(o=r[a],o===s||o.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+i],this},e.prototype.emit=function(i){this._callbacks=this._callbacks||{};var s=[].slice.call(arguments,1),r=this._callbacks["$"+i];if(r){r=r.slice(0);for(var o=0,a=r.length;o<a;++o)r[o].apply(this,s)}return this},e.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},e.prototype.hasListeners=function(i){return!!this.listeners(i).length},n.exports=e})(Fd);var Hw=Fd.exports,$w=Dd,Ww=Hw;function Vw(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Me(n){if(!(this instanceof Me))return new Me(n);this._from=n,this.ease("linear"),this.duration(500)}Ww(Me.prototype);Me.prototype.reset=function(){return this.isArray=Object.prototype.toString.call(this._from)==="[object Array]",this._curr=Vw({},this._from),this._done=!1,this._start=Date.now(),this};Me.prototype.to=function(n){return this.reset(),this._to=n,this};Me.prototype.duration=function(n){return this._duration=n,this};Me.prototype.ease=function(n){if(n=typeof n=="function"?n:$w[n],!n)throw new TypeError("invalid easing function");return this._ease=n,this};Me.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this};Me.prototype.step=function(){if(!this._done){var n=this._duration,e=Date.now(),t=e-this._start,i=t>=n;if(i)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var s=this._from,r=this._to,o=this._curr,a=this._ease,l=(e-this._start)/n,c=a(l);if(this.isArray){for(var u=0;u<s.length;++u)o[u]=s[u]+(r[u]-s[u])*c;return this._update(o),this}for(var d in s)o[d]=s[d]+(r[d]-s[d])*c;return this._update(o),this}};Me.prototype.update=function(n){return arguments.length==0?this.step():(this._update=n,this)};var Gw=Me,ps={exports:{}},Cn={exports:{}};(function(){var n,e,t,i,s,r;typeof performance<"u"&&performance!==null&&performance.now?Cn.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Cn.exports=function(){return(n()-s)/1e6},e=process.hrtime,n=function(){var o;return o=e(),o[0]*1e9+o[1]},i=n(),r=process.uptime()*1e9,s=i-r):Date.now?(Cn.exports=function(){return Date.now()-t},t=Date.now()):(Cn.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(Bt);var jw=Cn.exports,qw=jw,je=typeof window>"u"?Bt:window,fi=["moz","webkit"],qt="AnimationFrame",nn=je["request"+qt],Gn=je["cancel"+qt]||je["cancelRequest"+qt];for(var wn=0;!nn&&wn<fi.length;wn++)nn=je[fi[wn]+"Request"+qt],Gn=je[fi[wn]+"Cancel"+qt]||je[fi[wn]+"CancelRequest"+qt];if(!nn||!Gn){var Vs=0,Xa=0,wt=[],Yw=1e3/60;nn=function(n){if(wt.length===0){var e=qw(),t=Math.max(0,Yw-(e-Vs));Vs=t+e,setTimeout(function(){var i=wt.slice(0);wt.length=0;for(var s=0;s<i.length;s++)if(!i[s].cancelled)try{i[s].callback(Vs)}catch(r){setTimeout(function(){throw r},0)}},Math.round(t))}return wt.push({handle:++Xa,callback:n,cancelled:!1}),Xa},Gn=function(n){for(var e=0;e<wt.length;e++)wt[e].handle===n&&(wt[e].cancelled=!0)}}ps.exports=function(n){return nn.call(je,n)};ps.exports.cancel=function(){Gn.apply(je,arguments)};ps.exports.polyfill=function(n){n||(n=je),n.requestAnimationFrame=nn,n.cancelAnimationFrame=Gn};var Xw=ps.exports,Kw=Gw,Qw=Xw;function Jw(){var n=window.pageYOffset||document.documentElement.scrollTop,e=window.pageXOffset||document.documentElement.scrollLeft;return{top:n,left:e}}function Zw(n,e,t){t=t||{};var i=Jw(),s=Kw(i).ease(t.ease||"out-circ").to({top:e,left:n}).duration(t.duration||1e3);s.update(function(o){window.scrollTo(o.left|0,o.top|0)}),s.on("end",function(){r=function(){}});function r(){Qw(r),s.update()}return r(),s}var eE=Zw,tE=eE;function nE(n,e,t){var i=document.body,s=document.documentElement,r=n.getBoundingClientRect(),o=s.clientHeight,a=Math.max(i.scrollHeight,i.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight);e=e||0;var l;t==="bottom"?l=r.bottom-o:t==="middle"?l=r.bottom-o/2-r.height/2:l=r.top;var c=a-o;return Math.min(l+e+window.pageYOffset,c)}var iE=function(n,e){if(e=e||{},typeof n=="string"&&(n=document.querySelector(n)),n)return tE(0,nE(n,e.offset,e.align),e)};const _E=Ir(iE);export{vE as P,Te as S,sE as a,wh as b,oE as c,gE as d,pE as e,lE as f,fE as g,mE as h,rE as i,_E as j,uE as o,hE as r,aE as s,cE as u,dE as v};
//# sourceMappingURL=vendor-04b8c1e0.js.map
